var Vue=function(i){"use strict";function t(e,t){const n=Object.create(null),i=e.split(",");for(let e=0;e<i.length;e++)n[i[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const W={},T=[],A=()=>{},n=()=>!1,k=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(122<e.charCodeAt(2)||e.charCodeAt(2)<97),S=e=>e.startsWith("onUpdate:"),D=Object.assign,y=(e,t)=>{t=e.indexOf(t);-1<t&&e.splice(t,1)},c=Object.prototype.hasOwnProperty,X=(e,t)=>c.call(e,t),J=Array.isArray,h=e=>"[object Map]"===w(e),f=e=>"[object Set]"===w(e),p=e=>"[object Date]"===w(e),Z=e=>"function"==typeof e,Q=e=>"string"==typeof e,v=e=>"symbol"==typeof e,ee=e=>null!==e&&"object"==typeof e,fe=e=>(ee(e)||Z(e))&&Z(e.then)&&Z(e.catch),C=Object.prototype.toString,w=e=>C.call(e),_=e=>w(e).slice(8,-1),M=e=>"[object Object]"===w(e),O=e=>Q(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,pe=t(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),x=t=>{const n=Object.create(null);return e=>n[e]||(n[e]=t(e))},B=/-(\w)/g,te=x(e=>e.replace(B,(e,t)=>t?t.toUpperCase():"")),F=/\B([A-Z])/g,ne=x(e=>e.replace(F,"-$1").toLowerCase()),E=x(e=>e.charAt(0).toUpperCase()+e.slice(1)),ge=x(e=>e?"on"+E(e):""),P=(e,t)=>!Object.is(e,t),Re=(t,n)=>{for(let e=0;e<t.length;e++)t[e](n)},ye=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ve=e=>{var t=parseFloat(e);return isNaN(t)?e:t},I=e=>{var t=Q(e)?Number(e):NaN;return isNaN(t)?e:t};let V;const be=()=>V=V||("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),L=t("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console");function j(t){if(J(t)){var n={};for(let e=0;e<t.length;e++){var i=t[e],o=(Q(i)?function(e){const t={};return e.replace(U,"").split(H).forEach(e=>{e&&1<(e=e.split(z)).length&&(t[e[0].trim()]=e[1].trim())}),t}:j)(i);if(o)for(const t in o)n[t]=o[t]}return n}if(Q(t)||ee(t))return t}const H=/;(?![^(]*\))/g,z=/:([^]+)/,U=/\/\*[^]*?\*\//g;function q(t){let n="";if(Q(t))n=t;else if(J(t))for(let e=0;e<t.length;e++){var i=q(t[e]);i&&(n+=i+" ")}else if(ee(t))for(const e in t)t[e]&&(n+=e+" ");return n.trim()}const Y=t("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function G(e){return!!e||""===e}function K(e,t){if(e===t)return!0;let n=p(e),i=p(t);if(n||i)return!(!n||!i)&&e.getTime()===t.getTime();if(n=v(e),i=v(t),n||i)return e===t;if(n=J(e),i=J(t),n||i)return!(!n||!i)&&function(t,n){if(t.length!==n.length)return!1;let i=!0;for(let e=0;i&&e<t.length;e++)i=K(t[e],n[e]);return i}(e,t);if(n=ee(e),i=ee(t),n||i){if(!n||!i)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const i=e.hasOwnProperty(n),o=t.hasOwnProperty(n);if(i&&!o||!i&&o||!K(e[n],t[n]))return!1}}return String(e)===String(t)}function $(e,t){return e.findIndex(e=>K(e,t))}const Se=(e,t)=>t&&t.__v_isRef?Se(e,t.value):h(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n])=>(e[t+" =>"]=n,e),{})}:f(t)?{[`Set(${t.size})`]:[...t.values()]}:!ee(t)||J(t)||M(t)?t:String(t);let g;class Ce{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=g,!e&&g&&(this.index=(g.scopes||(g.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){var t=g;try{return g=this,e()}finally{g=t}}}on(){g=this}off(){g=this.parent}stop(n){if(this._active){let e,t;for(e=0,t=this.effects.length;e<t;e++)this.effects[e].stop();for(e=0,t=this.cleanups.length;e<t;e++)this.cleanups[e]();if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!n){const n=this.parent.scopes.pop();n&&n!==this&&((this.parent.scopes[this.index]=n).index=this.index)}this.parent=void 0,this._active=!1}}}function we(e,t=g){t&&t.active&&t.effects.push(e)}function _e(){return g}const Me=e=>{e=new Set(e);return e.w=0,e.n=0,e},Oe=e=>0<(e.w&Fe),xe=e=>0<(e.n&Fe),Be=new WeakMap;let ke=0,Fe=1;const We=30;let r;const Te=Symbol(""),Ae=Symbol("");class De{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,we(this,n)}run(){if(!this.active)return this.fn();let e=r,t=Ee;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=r,r=this,Ee=!0,Fe=1<<++ke,(ke<=We?({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Fe}:Ne)(this),this.fn()}finally{if(ke<=We){var n=this;var i=n["deps"];if(i.length){let t=0;for(let e=0;e<i.length;e++){var o=i[e];Oe(o)&&!xe(o)?o.delete(n):i[t++]=o,o.w&=~Fe,o.n&=~Fe}i.length=t}}Fe=1<<--ke,r=this.parent,Ee=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){r===this?this.deferStop=!0:this.active&&(Ne(this),this.onStop&&this.onStop(),this.active=!1)}}function Ne(t){var n=t["deps"];if(n.length){for(let e=0;e<n.length;e++)n[e].delete(t);n.length=0}}let Ee=!0;const Pe=[];function Ie(){Pe.push(Ee),Ee=!1}function Ve(){var e=Pe.pop();Ee=void 0===e||e}function m(n,e,i){if(Ee&&r){let e=Be.get(n),t=(e||Be.set(n,e=new Map),e.get(i));t||e.set(i,t=Me()),Le(t)}}function Le(e){let t=!1;ke<=We?xe(e)||(e.n|=Fe,t=!Oe(e)):t=!e.has(r),t&&(e.add(r),r.deps.push(e))}function ie(i,e,t,o){var r=Be.get(i);if(r){let n=[];if("clear"===e)n=[...r.values()];else if("length"===t&&J(i)){const i=Number(o);r.forEach((e,t)=>{("length"===t||!v(t)&&t>=i)&&n.push(e)})}else switch(void 0!==t&&n.push(r.get(t)),e){case"add":J(i)?O(t)&&n.push(r.get("length")):(n.push(r.get(Te)),h(i)&&n.push(r.get(Ae)));break;case"delete":J(i)||(n.push(r.get(Te)),h(i)&&n.push(r.get(Ae)));break;case"set":h(i)&&n.push(r.get(Te))}if(1===n.length)n[0]&&je(n[0]);else{const i=[];for(const e of n)e&&i.push(...e);je(Me(i))}}}function je(e){e=J(e)?e:[...e];for(const t of e)t.computed&&He(t);for(const n of e)n.computed||He(n)}function He(e){e===r&&!e.allowRecurse||(e.scheduler?e.scheduler():e.run())}const ze=t("__proto__,__v_isRef,__isVue"),Ue=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>"arguments"!==e&&"caller"!==e).map(e=>Symbol[e]).filter(v)),qe=function(){const e={};return["includes","indexOf","lastIndexOf"].forEach(i=>{e[i]=function(...e){var n=oe(this);for(let e=0,t=this.length;e<t;e++)m(n,0,e+"");var t=n[i](...e);return-1===t||!1===t?n[i](...e.map(oe)):t}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...e){Ie();e=oe(this)[t].apply(this,e);return Ve(),e}}),e}();function Ye(e){var t=oe(this);return m(t,0,e),t.hasOwnProperty(e)}class Ge{constructor(e=!1,t=!1){this._isReadonly=e,this._shallow=t}get(e,t,n){var i=this._isReadonly,o=this._shallow;if("__v_isReactive"===t)return!i;if("__v_isReadonly"===t)return i;if("__v_isShallow"===t)return o;if("__v_raw"===t&&n===(i?o?_t:wt:o?Ct:St).get(e))return e;var r=J(e);if(!i){if(r&&X(qe,t))return Reflect.get(qe,t,n);if("hasOwnProperty"===t)return Ye}n=Reflect.get(e,t,n);return(v(t)?Ue.has(t):ze(t))||(i||m(e,0,t),o)?n:N(n)?r&&O(t)?n:n.value:ee(n)?(i?xt:Mt)(n):n}}class Ke extends Ge{constructor(e=!1){super(!1,e)}set(e,t,n,i){let o=e[t];var r,s;return!(Ft(o)&&N(o)&&!N(n))&&(this._shallow||(Wt(n)||Ft(n)||(o=oe(o),n=oe(n)),J(e))||!N(o)||N(n)?(r=J(e)&&O(t)?Number(t)<e.length:X(e,t),s=Reflect.set(e,t,n,i),e===oe(i)&&(r?P(n,o)&&ie(e,"set",t,n):ie(e,"add",t,n)),s):(o.value=n,!0))}deleteProperty(e,t){var n=X(e,t),i=Reflect.deleteProperty(e,t);return i&&n&&ie(e,"delete",t,void 0),i}has(e,t){var n=Reflect.has(e,t);return v(t)&&Ue.has(t)||m(e,0,t),n}ownKeys(e){return m(e,0,J(e)?"length":Te),Reflect.ownKeys(e)}}class $e extends Ge{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Xe=new Ke,Je=new $e,Ze=new Ke(!0),Qe=new $e(!0),et=e=>e,tt=e=>Reflect.getPrototypeOf(e);function nt(e,t,n=!1,i=!1){var o=oe(e=e.__v_raw),r=oe(t),s=(n||(P(t,r)&&m(o,0,t),m(o,0,r)),tt(o))["has"],i=i?et:n?Nt:Dt;return s.call(o,t)?i(e.get(t)):s.call(o,r)?i(e.get(r)):void(e!==o&&e.get(t))}function it(e,t=!1){var n=this.__v_raw,i=oe(n),o=oe(e);return t||(P(e,o)&&m(i,0,e),m(i,0,o)),e===o?n.has(e):n.has(e)||n.has(o)}function ot(e,t=!1){return e=e.__v_raw,t||m(oe(e),0,Te),Reflect.get(e,"size",e)}function rt(e){e=oe(e);var t=oe(this);return tt(t).has.call(t,e)||(t.add(e),ie(t,"add",e,e)),this}function st(e,t){t=oe(t);var n=oe(this),{has:i,get:o}=tt(n);let r=i.call(n,e);r||(e=oe(e),r=i.call(n,e));i=o.call(n,e);return n.set(e,t),r?P(t,i)&&ie(n,"set",e,t):ie(n,"add",e,t),this}function at(e){var t=oe(this),{has:n,get:i}=tt(t);let o=n.call(t,e);o||(e=oe(e),o=n.call(t,e)),i&&i.call(t,e);n=t.delete(e);return o&&ie(t,"delete",e,void 0),n}function lt(){var e=oe(this),t=0!==e.size,n=e.clear();return t&&ie(e,"clear",void 0,void 0),n}function ut(s,a){return function(n,i){const o=this,e=o.__v_raw,t=oe(e),r=a?et:s?Nt:Dt;return s||m(t,0,Te),e.forEach((e,t)=>n.call(i,r(e),r(t),o))}}function dt(l,u,d){return function(...e){const t=this.__v_raw,n=oe(t),i=h(n),o="entries"===l||l===Symbol.iterator&&i,r="keys"===l&&i,s=t[l](...e),a=d?et:u?Nt:Dt;return u||m(n,0,r?Ae:Te),{next(){var{value:e,done:t}=s.next();return t?{value:e,done:t}:{value:o?[a(e[0]),a(e[1])]:a(e),done:t}},[Symbol.iterator](){return this}}}}function ct(e){return function(){return"delete"!==e&&("clear"===e?void 0:this)}}const[mt,ht,ft,pt]=function(){const t={get(e){return nt(this,e)},get size(){return ot(this)},has:it,add:rt,set:st,delete:at,clear:lt,forEach:ut(!1,!1)},n={get(e){return nt(this,e,!1,!0)},get size(){return ot(this)},has:it,add:rt,set:st,delete:at,clear:lt,forEach:ut(!1,!0)},i={get(e){return nt(this,e,!0)},get size(){return ot(this,!0)},has(e){return it.call(this,e,!0)},add:ct("add"),set:ct("set"),delete:ct("delete"),clear:ct("clear"),forEach:ut(!0,!1)},o={get(e){return nt(this,e,!0,!0)},get size(){return ot(this,!0)},has(e){return it.call(this,e,!0)},add:ct("add"),set:ct("set"),delete:ct("delete"),clear:ct("clear"),forEach:ut(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(e=>{t[e]=dt(e,!1,!1),i[e]=dt(e,!0,!1),n[e]=dt(e,!1,!0),o[e]=dt(e,!0,!0)}),[t,i,n,o]}();function gt(i,e){const o=e?i?pt:ft:i?ht:mt;return(e,t,n)=>"__v_isReactive"===t?!i:"__v_isReadonly"===t?i:"__v_raw"===t?e:Reflect.get(X(o,t)&&t in e?o:e,t,n)}const Rt={get:gt(!1,!1)},yt={get:gt(!1,!0)},vt={get:gt(!0,!1)},bt={get:gt(!0,!0)},St=new WeakMap,Ct=new WeakMap,wt=new WeakMap,_t=new WeakMap;function Mt(e){return Ft(e)?e:Bt(e,!1,Xe,Rt,St)}function Ot(e){return Bt(e,!1,Ze,yt,Ct)}function xt(e){return Bt(e,!0,Je,vt,wt)}function Bt(e,t,n,i,o){var r;return ee(e)&&(!e.__v_raw||t&&e.__v_isReactive)?o.get(e)||(0===(t=(r=e).__v_skip||!Object.isExtensible(r)?0:function(){switch(_(r)){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}())?e:(t=new Proxy(e,2===t?i:n),o.set(e,t),t)):e}function kt(e){return Ft(e)?kt(e.__v_raw):!(!e||!e.__v_isReactive)}function Ft(e){return!(!e||!e.__v_isReadonly)}function Wt(e){return!(!e||!e.__v_isShallow)}function Tt(e){return kt(e)||Ft(e)}function oe(e){var t=e&&e.__v_raw;return t?oe(t):e}function At(e){return ye(e,"__v_skip",!0),e}const Dt=e=>ee(e)?Mt(e):e,Nt=e=>ee(e)?xt(e):e;function Et(e){Ee&&r&&Le((e=oe(e)).dep||(e.dep=Me()))}function Pt(e){e=(e=oe(e)).dep;e&&je(e)}function N(e){return!(!e||!0!==e.__v_isRef)}function It(e){return Vt(e,!1)}function Vt(e,t){return N(e)?e:new Lt(e,t)}class Lt{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:oe(e),this._value=t?e:Dt(e)}get value(){return Et(this),this._value}set value(e){var t=this.__v_isShallow||Wt(e)||Ft(e);e=t?e:oe(e),P(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Dt(e),Pt(this))}}function jt(e){return N(e)?e.value:e}const Ht={get:(e,t,n)=>jt(Reflect.get(e,t,n)),set:(e,t,n,i)=>{var o=e[t];return N(o)&&!N(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function zt(e){return kt(e)?e:new Proxy(e,Ht)}class Ut{constructor(e){this.dep=void 0,this.__v_isRef=!0;var{get:e,set:t}=e(()=>Et(this),()=>Pt(this));this._get=e,this._set=t}get value(){return this._get()}set value(e){this._set(e)}}class qt{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){var e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return t=oe(this._object),e=this._key,null==(t=Be.get(t))?void 0:t.get(e);var e,t}}class Yt{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Gt(e,t,n){var i=e[t];return N(i)?i:new qt(e,t,n)}class Kt{constructor(e,t,n,i){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new De(e,()=>{this._dirty||(this._dirty=!0,Pt(this))}),(this.effect.computed=this).effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){var e=oe(this);return Et(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function $t(e,t,n,i){let o;try{o=i?e(...i):e()}catch(e){Xt(e,t,n)}return o}function re(t,n,i,o){if(Z(t)){const r=$t(t,n,i,o);return r&&fe(r)&&r.catch(e=>{Xt(e,n,i)}),r}const r=[];for(let e=0;e<t.length;e++)r.push(re(t[e],n,i,o));return r}function Xt(t,n,i,e=0){if(n){let e=n.parent;for(var o=n.proxy,r=i;e;){const n=e.ec;if(n)for(let e=0;e<n.length;e++)if(!1===n[e](t,o,r))return;e=e.parent}i=n.appContext.config.errorHandler;if(i)return void $t(i,null,10,[t,o,r])}console.error(t)}let Jt=!1,Zt=!1;const s=[];let a=0;const Qt=[];let en=null,tn=0;const nn=Promise.resolve();let on=null;function rn(e){var t=on||nn;return e?t.then(this?e.bind(this):e):t}function sn(e){s.length&&s.includes(e,Jt&&e.allowRecurse?a+1:a)||(null==e.id?s.push(e):s.splice(function(e){let t=a+1,n=s.length;for(;t<n;){var i=t+n>>>1,o=s[i],r=cn(o);r<e||r===e&&o.pre?t=1+i:n=i}return t}(e.id),0,e),an())}function an(){Jt||Zt||(Zt=!0,on=nn.then(hn))}function ln(e){J(e)?Qt.push(...e):en&&en.includes(e,e.allowRecurse?tn+1:tn)||Qt.push(e),an()}function un(e,t=Jt?a+1:0){for(;t<s.length;t++){const e=s[t];e&&e.pre&&(s.splice(t,1),t--,e())}}function dn(){if(Qt.length){const e=[...new Set(Qt)];if(Qt.length=0,en)return en.push(...e);for((en=e).sort((e,t)=>cn(e)-cn(t)),tn=0;tn<en.length;tn++)en[tn]();en=null,tn=0}}const cn=e=>null==e.id?1/0:e.id,mn=(e,t)=>{var n=cn(e)-cn(t);if(0==n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function hn(e){Zt=!1,Jt=!0,s.sort(mn);try{for(a=0;a<s.length;a++){const e=s[a];e&&!1!==e.active&&$t(e,null,14)}}finally{a=0,s.length=0,dn(),Jt=!1,on=null,(s.length||Qt.length)&&hn()}}i.devtools=void 0;let fn=[];function pn(e,t){return e&&k(t)&&(t=t.slice(2).replace(/Once$/,""),X(e,t[0].toLowerCase()+t.slice(1))||X(e,ne(t))||X(e,t))}let l=null,gn=null;function Rn(e){var t=l;return l=e,gn=e&&e.type.__scopeId||null,t}function yn(i,o=l,e){if(!o)return i;if(i._n)return i;const r=(...e)=>{r._d&&Mo(-1);var t=Rn(o);let n;try{n=i(...e)}finally{Rn(t),r._d&&Mo(1)}return n};return r._n=!0,r._c=!0,r._d=!0,r}function vn(t){const{type:e,vnode:n,proxy:i,withProxy:o,props:r,propsOptions:[s],slots:a,attrs:l,emit:u,render:d,renderCache:c,data:m,setupState:h,ctx:f,inheritAttrs:p}=t;let g,R;var y=Rn(t);try{if(4&n.shapeFlag){const t=o||i;g=me(d.call(t,t,c,r,h,m,f)),R=l}else{const t=e;g=me(t(r,1<t.length?{attrs:l,slots:a,emit:u}:null)),R=e.props?l:bn(l)}}catch(e){So.length=0,Xt(e,t,1),g=ce(ue)}let v=g;if(R&&!1!==p){const t=Object.keys(R),e=v["shapeFlag"];t.length&&7&e&&(s&&t.some(S)&&(R=Sn(R,s)),v=b(v,R))}return n.dirs&&((v=b(v)).dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&(v.transition=n.transition),g=v,Rn(y),g}const bn=e=>{let t;for(const n in e)"class"!==n&&"style"!==n&&!k(n)||((t=t||{})[n]=e[n]);return t},Sn=(e,t)=>{var n={};for(const i in e)S(i)&&i.slice(9)in t||(n[i]=e[i]);return n};function Cn(t,n,i){var o=Object.keys(n);if(o.length!==Object.keys(t).length)return!0;for(let e=0;e<o.length;e++){var r=o[e];if(n[r]!==t[r]&&!pn(i,r))return!0}return!1}function wn({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const _n="components",Mn=Symbol.for("v-ndc");function On(e,t,n,i=!1){var o=l||R;if(o){const n=o.type;if(e===_n){const e=Zo(n,!1);if(e&&(e===t||e===te(t)||e===E(te(t))))return n}o=xn(o[e]||n[e],t)||xn(o.appContext[e],t);return!o&&i?n:o}}function xn(e,t){return e&&(e[t]||e[te(t)]||e[E(te(t))])}const Bn=e=>e.__isSuspense,kn={name:"Suspense",__isSuspense:!0,process(e,t,n,i,o,r,s,a,l,u){if(null==e){var d=t,c=n,m=i,h=o,f=s,p=a,g=l,R=u,{p:y,o:{createElement:v}}=R,v=v("div"),r=d.suspense=Wn(d,r,h,c,v,m,f,p,g,R);y(null,r.pendingBranch=d.ssContent,v,null,h,r,f,p),0<r.deps?(Fn(d,"onPending"),Fn(d,"onFallback"),y(null,d.ssFallback,c,m,h,null,f,p),Dn(r,d.ssFallback)):r.resolve(!1,!0)}else{var[b,S,g,R,v,y,c,m,{p:h,um:f,o:{createElement:p}}]=[e,t,n,i,o,s,a,l,u];const C=S.suspense=b.suspense,w=((C.vnode=S).el=b.el,S.ssContent),_=S.ssFallback,{activeBranch:M,pendingBranch:O,isInFallback:x,isHydrating:B}=C;if(O)de(C.pendingBranch=w,O)?(h(O,w,C.hiddenContainer,null,v,C,y,c,m),C.deps<=0?C.resolve():x&&(h(M,_,g,R,v,null,y,c,m),Dn(C,_))):(C.pendingId++,B?(C.isHydrating=!1,C.activeBranch=O):f(O,v,C),C.deps=0,C.effects.length=0,C.hiddenContainer=p("div"),x?(h(null,w,C.hiddenContainer,null,v,C,y,c,m),C.deps<=0?C.resolve():(h(M,_,g,R,v,null,y,c,m),Dn(C,_))):M&&de(w,M)?(h(M,w,g,R,v,C,y,c,m),C.resolve(!0)):(h(null,w,C.hiddenContainer,null,v,C,y,c,m),C.deps<=0&&C.resolve()));else if(M&&de(w,M))h(M,w,g,R,v,C,y,c,m),Dn(C,w);else if(Fn(S,"onPending"),C.pendingBranch=w,C.pendingId++,h(null,w,C.hiddenContainer,null,v,C,y,c,m),C.deps<=0)C.resolve();else{const{timeout:b,pendingId:S}=C;0<b?setTimeout(()=>{C.pendingId===S&&C.fallback(_)},b):0===b&&C.fallback(_)}}},hydrate:function(e,t,n,i,o,r,s,a,l){i=t.suspense=Wn(t,i,n,e.parentNode,document.createElement("div"),null,o,r,s,a,!0),o=l(e,i.pendingBranch=t.ssContent,n,i,r,s);return 0===i.deps&&i.resolve(!1,!0),o},create:Wn,normalize:function(e){var{shapeFlag:t,children:n}=e,t=32&t;e.ssContent=Tn(t?n.default:n),e.ssFallback=t?Tn(n.fallback):ce(ue)}};function Fn(e,t){e=e.props&&e.props[t];Z(e)&&e()}function Wn(e,m,n,t,i,o,s,l,u,r,a=!1){const{p:d,m:h,um:f,n:p,o:{parentNode:c,remove:g}}=r;let R;const y=null!=(null==(r=e.props)?void 0:r.suspensible)&&!1!==e.props.suspensible;y&&null!=m&&m.pendingBranch&&(R=m.pendingId,m.deps++);const v=e.props?I(e.props.timeout):void 0,b={vnode:e,parent:m,parentComponent:n,isSVG:s,container:t,hiddenContainer:i,anchor:o,deps:0,pendingId:0,timeout:"number"==typeof v?v:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:a,isUnmounted:!1,effects:[],resolve(e=!1,t=!1){const{vnode:n,activeBranch:i,pendingBranch:o,pendingId:r,effects:s,parentComponent:a,container:l}=b;let u=!1;if(b.isHydrating)b.isHydrating=!1;else if(!e){(u=i&&o.transition&&"out-in"===o.transition.mode)&&(i.transition.afterLeave=()=>{r===b.pendingId&&(h(o,l,p(i),0),ln(s))});let e=b["anchor"];i&&(e=p(i),f(i,a,b,!0)),u||h(o,l,e,0)}Dn(b,o),b.pendingBranch=null,b.isInFallback=!1;let d=b.parent,c=!1;for(;d;){if(d.pendingBranch){d.effects.push(...s),c=!0;break}d=d.parent}c||u||ln(s),b.effects=[],y&&m&&m.pendingBranch&&R===m.pendingId&&(m.deps--,0!==m.deps||t||m.resolve()),Fn(n,"onResolve")},fallback(e){if(b.pendingBranch){const{vnode:i,activeBranch:o,parentComponent:r,container:s,isSVG:a}=b;Fn(i,"onFallback");var t=()=>{b.isInFallback&&(d(null,e,s,p(o),r,null,a,l,u),Dn(b,e))},n=e.transition&&"out-in"===e.transition.mode;n&&(o.transition.afterLeave=t),b.isInFallback=!0,f(o,r,null,!0),n||t()}},move(e,t,n){b.activeBranch&&h(b.activeBranch,e,t,n),b.container=e},next:()=>b.activeBranch&&p(b.activeBranch),registerDep(n,i){const o=!!b.pendingBranch,r=(o&&b.deps++,n.vnode.el);n.asyncDep.catch(e=>{Xt(e,n,0)}).then(e=>{var t;n.isUnmounted||b.isUnmounted||b.pendingId!==n.suspenseId||(n.asyncResolved=!0,t=n["vnode"],Ko(n,e,!1),r&&(t.el=r),e=!r&&n.subTree.el,i(n,t,c(r||n.subTree.el),r?null:p(n.subTree),b,s,u),e&&g(e),wn(n,t.el),o&&0==--b.deps&&b.resolve())})},unmount(e,t){b.isUnmounted=!0,b.activeBranch&&f(b.activeBranch,n,e,t),b.pendingBranch&&f(b.pendingBranch,n,e,t)}};return b}function Tn(t){let e;var n;if(Z(t)&&((n=_o&&t._c)&&(t._d=!1,Co()),t=t(),n)&&(t._d=!0,e=u,wo()),J(t)){const e=function(t){let n;for(let e=0;e<t.length;e++){var i=t[e];if(!Bo(i))return;if(i.type!==ue||"v-if"===i.children){if(n)return;n=i}}return n}(t);t=e}return t=me(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(e=>e!==t)),t}function An(e,t){t&&t.pendingBranch?J(e)?t.effects.push(...e):t.effects.push(e):ln(e)}function Dn(e,t){e.activeBranch=t;var{vnode:e,parentComponent:n}=e,t=e.el=t.el;n&&n.subTree===e&&(n.vnode.el=t,wn(n,t))}function Nn(e,t){return In(e,null,{flush:"post"})}const En={};function Pn(e,t,n){return In(e,t,n)}function In(e,t,{immediate:n,deep:i,flush:o}=W){var r;const s=g===(null==(r=R)?void 0:r.scope)?R:null;let a,l,u=!1,d=!1;if(N(e)?(a=()=>e.value,u=Wt(e)):kt(e)?(a=()=>e,i=!0):a=J(e)?(d=!0,u=e.some(e=>kt(e)||Wt(e)),()=>e.map(e=>N(e)?e.value:kt(e)?Ln(e):Z(e)?$t(e,s,2):void 0)):Z(e)?t?()=>$t(e,s,2):()=>{if(!s||!s.isUnmounted)return l&&l(),re(e,s,3,[c])}:A,t&&i){const e=a;a=()=>Ln(e())}let c=e=>{l=p.onStop=()=>{$t(e,s,4),l=p.onStop=void 0}},m=d?new Array(e.length).fill(En):En;const h=()=>{var e;p.active&&(t?(e=p.run(),(i||u||(d?e.some((e,t)=>P(e,m[t])):P(e,m)))&&(l&&l(),re(t,s,3,[e,m===En?void 0:d&&m[0]===En?[]:m,c]),m=e)):p.run())};let f;h.allowRecurse=!!t,f="sync"===o?h:"post"===o?()=>ae(h,s&&s.suspense):(h.pre=!0,s&&(h.id=s.uid),()=>sn(h));const p=new De(a,f);return t?n?h():m=p.run():"post"===o?ae(p.run.bind(p),s&&s.suspense):p.run(),()=>{p.stop(),s&&s.scope&&y(s.scope.effects,p)}}function Vn(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function Ln(t,n){if(ee(t)&&!t.__v_skip&&!(n=n||new Set).has(t))if(n.add(t),N(t))Ln(t.value,n);else if(J(t))for(let e=0;e<t.length;e++)Ln(t[e],n);else if(f(t)||h(t))t.forEach(e=>{Ln(e,n)});else if(M(t))for(const e in t)Ln(t[e],n);return t}function se(t,n,i,o){var r=t.dirs,s=n&&n.dirs;for(let e=0;e<r.length;e++){var a=r[e],l=(s&&(a.oldValue=s[e].value),a.dir[o]);l&&(Ie(),re(l,i,8,[t.el,a,t,n]),Ve())}}const jn=Symbol("_leaveCb"),Hn=Symbol("_enterCb");function zn(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return mi(()=>{e.isMounted=!0}),pi(()=>{e.isUnmounting=!0}),e}const e=[Function,Array],Un={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:e,onEnter:e,onAfterEnter:e,onEnterCancelled:e,onBeforeLeave:e,onLeave:e,onAfterLeave:e,onLeaveCancelled:e,onBeforeAppear:e,onAppear:e,onAfterAppear:e,onAppearCancelled:e},qn={name:"BaseTransition",props:Un,setup(u,{slots:e}){const d=Lo(),c=zn();let m;return()=>{var n=e.default&&Jn(e.default(),!0);if(n&&n.length){let e=n[0];if(1<n.length)for(const u of n)if(u.type!==ue){e=u;break}var n=oe(u),i=n["mode"];if(c.isLeaving)return Kn(e);var o=$n(e);if(!o)return Kn(e);const s=Gn(o,n,c,d),a=(Xn(o,s),d.subTree),l=a&&$n(a);let t=!1;var r=o.type["getTransitionKey"];if(r){const u=r();void 0===m?m=u:u!==m&&(m=u,t=!0)}if(l&&l.type!==ue&&(!de(o,l)||t)){const u=Gn(l,n,c,d);if(Xn(l,u),"out-in"===i)return c.isLeaving=!0,u.afterLeave=()=>{(c.isLeaving=!1)!==d.update.active&&d.update()},Kn(e);"in-out"===i&&o.type!==ue&&(u.delayLeave=(e,t,n)=>{Yn(c,l)[String(l.key)]=l,e[jn]=()=>{t(),e[jn]=void 0,delete s.delayedLeave},s.delayedLeave=n})}return e}}}};function Yn(e,t){e=e.leavingVNodes;let n=e.get(t.type);return n||(n=Object.create(null),e.set(t.type,n)),n}function Gn(r,t,s,n){const{appear:a,mode:e,persisted:i=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:c,onLeave:m,onAfterLeave:h,onLeaveCancelled:f,onBeforeAppear:p,onAppear:g,onAfterAppear:R,onAppearCancelled:y}=t,v=String(r.key),b=Yn(s,r),S=(e,t)=>{e&&re(e,n,9,t)},C=(e,t)=>{var n=t[1];S(e,t),J(e)?e.every(e=>e.length<=1)&&n():e.length<=1&&n()},w={mode:e,persisted:i,beforeEnter(e){let t=o;if(!s.isMounted){if(!a)return;t=p||o}e[jn]&&e[jn](!0);var n=b[v];n&&de(r,n)&&n.el[jn]&&n.el[jn](),S(t,[e])},enter(t){let e=l,n=u,i=d;if(!s.isMounted){if(!a)return;e=g||l,n=R||u,i=y||d}let o=!1;var r=t[Hn]=e=>{o||(o=!0,S(e?i:n,[t]),w.delayedLeave&&w.delayedLeave(),t[Hn]=void 0)};e?C(e,[t,r]):r()},leave(t,n){const i=String(r.key);if(t[Hn]&&t[Hn](!0),s.isUnmounting)return n();S(c,[t]);let o=!1;var e=t[jn]=e=>{o||(o=!0,n(),S(e?f:h,[t]),t[jn]=void 0,b[i]===r&&delete b[i])};b[i]=r,m?C(m,[t,e]):e()},clone:e=>Gn(e,t,s,n)};return w}function Kn(e){if(ti(e))return(e=b(e)).children=null,e}function $n(e){return ti(e)?e.children?e.children[0]:void 0:e}function Xn(e,t){6&e.shapeFlag&&e.component?Xn(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Jn(t,n=!1,i){let o=[],r=0;for(let e=0;e<t.length;e++){var s=t[e],a=null==i?s.key:String(i)+String(null!=s.key?s.key:e);s.type===le?(128&s.patchFlag&&r++,o=o.concat(Jn(s.children,n,a))):!n&&s.type===ue||o.push(null!=a?b(s,{key:a}):s)}if(1<r)for(let e=0;e<o.length;e++)o[e].patchFlag=-2;return o}function Zn(e,t){return Z(e)?D({name:e.name},t,{setup:e}):e}const Qn=e=>!!e.type.__asyncLoader;function ei(e,t){var{ref:n,props:i,children:o,ce:r}=t.vnode,e=ce(e,i,o);return e.ref=n,e.ce=r,delete t.vnode.ce,e}const ti=e=>e.type.__isKeepAlive,ni={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(a,{slots:l}){const i=Lo(),e=i.ctx,u=new Map,d=new Set;let c=null;const s=i.suspense,{p:m,m:h,um:t,o:{createElement:n}}=e["renderer"],o=n("div");function r(e){ai(e),t(e,i,s,!0)}function f(n){u.forEach((e,t)=>{e=Zo(e.type);!e||n&&n(e)||p(t)})}function p(e){var t=u.get(e);c&&de(t,c)?c&&ai(c):r(t),u.delete(e),d.delete(e)}e.activate=(t,e,n,i,o)=>{const r=t.component;h(t,e,n,0,s),m(r.vnode,t,e,n,r,s,i,t.slotScopeIds,o),ae(()=>{r.isDeactivated=!1,r.a&&Re(r.a);var e=t.props&&t.props.onVnodeMounted;e&&he(e,r.parent,t)},s)},e.deactivate=t=>{const n=t.component;h(t,o,null,1,s),ae(()=>{n.da&&Re(n.da);var e=t.props&&t.props.onVnodeUnmounted;e&&he(e,n.parent,t),n.isDeactivated=!0},s)},In(()=>[a.include,a.exclude],([t,n])=>{t&&f(e=>ii(t,e)),n&&f(e=>!ii(n,e))},{flush:"post",deep:!0});let g=null;var R=()=>{null!=g&&u.set(g,li(i.subTree))};return mi(R),fi(R),pi(()=>{u.forEach(e=>{var{subTree:t,suspense:n}=i,t=li(t);if(e.type!==t.type||e.key!==t.key)r(e);else{ai(t);const e=t.component.da;e&&ae(e,n)}})}),()=>{if(g=null,!l.default)return null;var e=l.default(),t=e[0];if(1<e.length)return c=null,e;if(!Bo(t)||!(4&t.shapeFlag||128&t.shapeFlag))return c=null,t;let n=li(t);var e=n.type,i=Zo(Qn(n)?n.type.__asyncResolved||{}:e),{include:o,exclude:r,max:s}=a;return o&&(!i||!ii(o,i))||r&&i&&ii(r,i)?(c=n,t):(o=null==n.key?e:n.key,r=u.get(o),n.el&&(n=b(n),128&t.shapeFlag)&&(t.ssContent=n),g=o,r?(n.el=r.el,n.component=r.component,n.transition&&Xn(n,n.transition),n.shapeFlag|=512,d.delete(o),d.add(o)):(d.add(o),s&&d.size>parseInt(s,10)&&p(d.values().next().value)),n.shapeFlag|=256,c=n,Bn(t.type)?t:n)}}};function ii(e,t){return J(e)?e.some(e=>ii(e,t)):Q(e)?e.split(",").includes(t):"[object RegExp]"===w(e)&&e.test(t)}function oi(e,t){si(e,"a",t)}function ri(e,t){si(e,"da",t)}function si(t,n,i=R){var o=t.__wdc||(t.__wdc=()=>{let e=i;for(;e;){if(e.isDeactivated)return;e=e.parent}return t()});if(ui(n,o,i),i){let e=i.parent;for(;e&&e.parent;)ti(e.parent.vnode)&&function(e,t,n,i){const o=ui(t,e,i,!0);gi(()=>{y(i[t],o)},n)}(o,n,i,e),e=e.parent}}function ai(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function li(e){return 128&e.shapeFlag?e.ssContent:e}function ui(t,n,i=R,e=!1){var o,r;if(i)return o=i[t]||(i[t]=[]),r=n.__weh||(n.__weh=(...e)=>{if(!i.isUnmounted)return Ie(),Ho(i),e=re(n,i,t,e),zo(),Ve(),e}),e?o.unshift(r):o.push(r),r}const di=n=>(t,e=R)=>(!Go||"sp"===n)&&ui(n,(...e)=>t(...e),e),ci=di("bm"),mi=di("m"),hi=di("bu"),fi=di("u"),pi=di("bum"),gi=di("um"),Ri=di("sp"),yi=di("rtg"),vi=di("rtc");function bi(e,t=R){ui("ec",e,t)}const Si=e=>e?Uo(e)?Jo(e)||e.proxy:Si(e.parent):null,Ci=D(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Si(e.parent),$root:e=>Si(e.root),$emit:e=>e.emit,$options:e=>Wi(e),$forceUpdate:e=>e.f||(e.f=()=>sn(e.update)),$nextTick:e=>e.n||(e.n=rn.bind(e.proxy)),$watch:e=>function(e,t,n){const i=this.proxy,o=Q(e)?e.includes(".")?Vn(i,e):()=>i[e]:e.bind(i,i);let r;return Z(t)?r=t:(r=t.handler,n=t),t=R,Ho(this),n=In(o,r.bind(i),n),t?Ho(t):zo(),n}.bind(e)}),wi=(e,t)=>e!==W&&!e.__isScriptSetup&&X(e,t),_i={get({_:e},t){const{ctx:n,setupState:i,data:o,props:r,accessCache:s,type:a,appContext:l}=e;if("$"!==t[0]){const a=s[t];if(void 0!==a)switch(a){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return r[t]}else{if(wi(i,t))return s[t]=1,i[t];if(o!==W&&X(o,t))return s[t]=2,o[t];if((u=e.propsOptions[0])&&X(u,t))return s[t]=3,r[t];if(n!==W&&X(n,t))return s[t]=4,n[t];Bi&&(s[t]=0)}}var u=Ci[t];let d,c;return u?("$attrs"===t&&m(e,0,t),u(e)):(d=(d=a.__cssModules)&&d[t])||(n!==W&&X(n,t)?(s[t]=4,n[t]):(c=l.config.globalProperties,X(c,t)?c[t]:void 0))},set({_:e},t,n){var{data:i,setupState:o,ctx:r}=e;return wi(o,t)?(o[t]=n,!0):i!==W&&X(i,t)?(i[t]=n,!0):!(X(e.props,t)||"$"===t[0]&&t.slice(1)in e||(r[t]=n,0))},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:r}},s){return!!n[s]||e!==W&&X(e,s)||wi(t,s)||(n=r[0])&&X(n,s)||X(i,s)||X(Ci,s)||X(o.config.globalProperties,s)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:X(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},Mi=D({},_i,{get(e,t){if(t!==Symbol.unscopables)return _i.get(e,t,e)},has:(e,t)=>"_"!==t[0]&&!L(t)});function Oi(){var e=Lo();return e.setupContext||(e.setupContext=Xo(e))}function xi(e){return J(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}let Bi=!0;function ki(t){const e=Wi(t),n=t.proxy,i=t.ctx,{data:o,computed:r,methods:s,watch:a,provide:l,inject:u,created:d,beforeMount:c,mounted:m,beforeUpdate:h,updated:f,activated:p,deactivated:g,beforeUnmount:R,unmounted:y,render:v,renderTracked:b,renderTriggered:S,errorCaptured:C,serverPrefetch:w,expose:_,inheritAttrs:M,components:O,directives:x}=(Bi=!1,e.beforeCreate&&Fi(e.beforeCreate,t,"bc"),e);if(u){var B=u,k=i;for(const W in B=J(B)?Ni(B):B){const T=B[W];let t;N(t=ee(T)?"default"in T?Hi(T.from||W,T.default,!0):Hi(T.from||W):Hi(T))?Object.defineProperty(k,W,{enumerable:!0,configurable:!0,get:()=>t.value,set:e=>t.value=e}):k[W]=t}}if(s)for(const A in s){const t=s[A];Z(t)&&(i[A]=t.bind(n))}if(o){const e=o.call(n,n);ee(e)&&(t.data=Mt(e))}if(Bi=!0,r)for(const J in r){const t=r[J],e=Z(t)?t.bind(n,n):Z(t.get)?t.get.bind(n,n):A,o=!Z(t)&&Z(t.set)?t.set.bind(n):A,s=Qo({get:e,set:o});Object.defineProperty(i,J,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e})}if(a)for(const A in a)!function t(e,n,i,o){const r=o.includes(".")?Vn(i,o):()=>i[o];if(Q(e)){const i=n[e];Z(i)&&Pn(r,i)}else if(Z(e))Pn(r,e.bind(i));else if(ee(e))if(J(e))e.forEach(e=>t(e,n,i,o));else{const o=Z(e.handler)?e.handler.bind(i):n[e.handler];Z(o)&&Pn(r,o,e)}}(a[A],i,n,A);if(l){const t=Z(l)?l.call(n):l;Reflect.ownKeys(t).forEach(e=>{ji(e,t[e])})}function F(t,e){J(e)?e.forEach(e=>t(e.bind(n))):e&&t(e.bind(n))}if(d&&Fi(d,t,"c"),F(ci,c),F(mi,m),F(hi,h),F(fi,f),F(oi,p),F(ri,g),F(bi,C),F(vi,b),F(yi,S),F(pi,R),F(gi,y),F(Ri,w),J(_))if(_.length){const e=t.exposed||(t.exposed={});_.forEach(t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})})}else t.exposed||(t.exposed={});v&&t.render===A&&(t.render=v),null!=M&&(t.inheritAttrs=M),O&&(t.components=O),x&&(t.directives=x)}function Fi(e,t,n){re(J(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function Wi(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:s}}=e.appContext,a=r.get(t);let l;return a?l=a:o.length||n||i?(l={},o.length&&o.forEach(e=>Ti(l,e,s,!0)),Ti(l,t,s)):l=t,ee(t)&&r.set(t,l),l}function Ti(t,e,n,i=!1){var{mixins:o,extends:r}=e;r&&Ti(t,r,n,!0),o&&o.forEach(e=>Ti(t,e,n,!0));for(const s in e)if(!i||"expose"!==s){const i=Ai[s]||n&&n[s];t[s]=i?i(t[s],e[s]):e[s]}return t}const Ai={data:Di,props:Pi,emits:Pi,methods:Ei,computed:Ei,beforeCreate:o,created:o,beforeMount:o,mounted:o,beforeUpdate:o,updated:o,beforeDestroy:o,beforeUnmount:o,destroyed:o,unmounted:o,activated:o,deactivated:o,errorCaptured:o,serverPrefetch:o,components:Ei,directives:Ei,watch:function(e,t){if(!e)return t;if(!t)return e;var n=D(Object.create(null),e);for(const i in t)n[i]=o(e[i],t[i]);return n},provide:Di,inject:function(e,t){return Ei(Ni(e),Ni(t))}};function Di(e,t){return t?e?function(){return D(Z(e)?e.call(this,this):e,Z(t)?t.call(this,this):t)}:t:e}function Ni(t){if(J(t)){var n={};for(let e=0;e<t.length;e++)n[t[e]]=t[e];return n}return t}function o(e,t){return e?[...new Set([].concat(e,t))]:t}function Ei(e,t){return e?D(Object.create(null),e,t):t}function Pi(e,t){return e?J(e)&&J(t)?[...new Set([...e,...t])]:D(Object.create(null),xi(e),xi(null!=t?t:{})):t}function Ii(){return{app:null,config:{isNativeTag:n,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Vi=0;let Li=null;function ji(t,n){if(R){let e=R.provides;var i=R.parent&&R.parent.provides;(e=i===e?R.provides=Object.create(i):e)[t]=n}}function Hi(e,t,n=!1){var i,o=R||l;if(o||Li)return(i=o?null==o.parent?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:Li._context.provides)&&e in i?i[e]:1<arguments.length?n&&Z(t)?t.call(o&&o.proxy):t:void 0}function zi(t,n,i,o){var[r,s]=t.propsOptions;let a,l=!1;if(n)for(var u in n)if(!pe(u)){var d=n[u];let e;r&&X(r,e=te(u))?s&&s.includes(e)?(a=a||{})[e]=d:i[e]=d:pn(t.emitsOptions,u)||u in o&&d===o[u]||(o[u]=d,l=!0)}if(s){const n=oe(i),o=a||W;for(let e=0;e<s.length;e++){const a=s[e];i[a]=Ui(r,n,a,o[a],t,!X(o,a))}}return l}function Ui(e,t,n,i,o,r){var s=e[n];if(null!=s){const e=X(s,"default");if(e&&void 0===i){const e=s.default;if(s.type!==Function&&!s.skipFactory&&Z(e)){const r=o["propsDefaults"];n in r?i=r[n]:(Ho(o),i=r[n]=e.call(null,t),zo())}else i=e}s[0]&&(r&&!e?i=!1:!s[1]||""!==i&&i!==ne(n)||(i=!0))}return i}function qi(e){return"$"!==e[0]}function Yi(e){var t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:null===e?"null":""}function Gi(e,t){return Yi(e)===Yi(t)}function Ki(t,e){return J(e)?e.findIndex(e=>Gi(e,t)):Z(e)&&Gi(e,t)?0:-1}const $i=e=>"_"===e[0]||"$stable"===e,Xi=e=>J(e)?e.map(me):[me(e)],Ji=(e,t,n)=>{var i=e._ctx;for(const o in e)if(!$i(o)){const n=e[o];if(Z(n))t[o]=((t,e)=>{return t._n?t:((e=yn((...e)=>Xi(t(...e)),e))._c=!1,e)})(n,i);else if(null!=n){const e=Xi(n);t[o]=()=>e}}},Zi=(e,t)=>{const n=Xi(t);e.slots.default=()=>n},Qi=(e,t)=>{var n;32&e.vnode.shapeFlag?(n=t._)?(e.slots=oe(t),ye(t,"_",n)):Ji(t,e.slots={}):(e.slots={},t&&Zi(e,t)),ye(e.slots,ko,1)},eo=(e,t,n)=>{var{vnode:i,slots:o}=e;let r=!0,s=W;if(32&i.shapeFlag){const e=t._;e?n&&1===e?r=!1:(D(o,t),n||1!==e||delete o._):(r=!t.$stable,Ji(t,o)),s=t}else t&&(Zi(e,t),s={default:1});if(r)for(const W in o)$i(W)||null!=s[W]||delete o[W]};function to(e,n,i,o,r=!1){if(J(e))e.forEach((e,t)=>to(e,n&&(J(n)?n[t]:n),i,o,r));else if(!Qn(o)||r){const t=4&o.shapeFlag?Jo(o.component)||o.component.proxy:o.el,s=r?null:t,{i:a,r:l}=e,u=n&&n.r,d=a.refs===W?a.refs={}:a.refs,c=a.setupState;if(null!=u&&u!==l&&(Q(u)?(d[u]=null,X(c,u)&&(c[u]=null)):N(u)&&(u.value=null)),Z(l))$t(l,a,12,[s,d]);else{const n=Q(l),W=N(l);if(n||W){const o=()=>{if(e.f){const W=n?(X(c,l)?c:d)[l]:l.value;r?J(W)&&y(W,t):J(W)?W.includes(t)||W.push(t):n?(d[l]=[t],X(c,l)&&(c[l]=d[l])):(l.value=[t],e.k&&(d[e.k]=l.value))}else n?(d[l]=s,X(c,l)&&(c[l]=s)):W&&(l.value=s,e.k)&&(d[e.k]=s)};s?(o.id=-1,ae(o,i)):o()}}}}let no=!1;const io=e=>/svg/.test(e.namespaceURI)&&"foreignObject"!==e.tagName,oo=e=>8===e.nodeType;function ro(f){const{mt:p,p:g,o:{patchProp:R,createText:y,nextSibling:v,parentNode:b,remove:S,insert:C,createComment:w}}=f,_=(l,u,d,c,m,e=!1)=>{const h=oo(l)&&"["===l.data,t=()=>{{var e=l,t=u,n=d,i=c,o=m,r=h;if(no=!0,t.el=null,r){const t=O(e);for(;;){const g=v(e);if(!g||g===t)break;S(g)}}var s=v(e),a=b(e);return S(e),g(null,t,a,s,n,i,io(a),o),s}},{type:n,ref:i,shapeFlag:o,patchFlag:r}=u;let s=l.nodeType,a=(u.el=l,-2===r&&(e=!1,u.dynamicChildren=null),null);switch(n){case vo:a=3!==s?""===u.children?(C(u.el=y(""),b(l),l),l):t():(l.data!==u.children&&(no=!0,l.data=u.children),v(l));break;case ue:B(l)?(a=v(l),x(u.el=l.content.firstChild,l,d)):a=8!==s||h?t():v(l);break;case bo:if(1===(s=h?(l=v(l)).nodeType:s)||3===s){a=l;const f=!u.children.length;for(let e=0;e<u.staticCount;e++)f&&(u.children+=1===a.nodeType?a.outerHTML:a.data),e===u.staticCount-1&&(u.anchor=a),a=v(a);return h?v(a):a}t();break;case le:a=h?((e,t,n,i,o,r)=>{const{slotScopeIds:s}=t,a=(s&&(o=o?o.concat(s):s),b(e)),l=M(v(e),t,a,n,i,o,r);return l&&oo(l)&&"]"===l.data?v(t.anchor=l):(no=!0,C(t.anchor=w("]"),a,l),l)})(l,u,d,c,m,e):t();break;default:if(1&o)a=1===s&&u.type.toLowerCase()===l.tagName.toLowerCase()||B(l)?((n,i,o,r,s,a)=>{a=a||!!i.dynamicChildren;const{type:e,props:l,patchFlag:u,shapeFlag:d,dirs:c,transition:m}=i,h="input"===e||"option"===e;if(h||-1!==u){if(c&&se(i,null,o,"created"),l)if(h||!a||48&u)for(const i in l)(h&&(i.endsWith("value")||"indeterminate"===i)||k(i)&&!pe(i)||"."===i[0])&&R(n,i,null,l[i],!1,void 0,o);else l.onClick&&R(n,"onClick",null,l.onClick,!1,void 0,o);let e;(e=l&&l.onVnodeBeforeMount)&&he(e,o,i);let t=!1;if(B(n)){t=co(r,m)&&o&&o.vnode.props&&o.vnode.props.appear;const R=n.content.firstChild;t&&m.beforeEnter(R),x(R,n,o),i.el=n=R}if(c&&se(i,null,o,"beforeMount"),((e=l&&l.onVnodeMounted)||c||t)&&An(()=>{e&&he(e,o,i),t&&m.enter(n),c&&se(i,null,o,"mounted")},r),16&d&&(!l||!l.innerHTML&&!l.textContent)){let e=M(n.firstChild,i,n,o,r,s,a);for(;e;){no=!0;const n=e;e=e.nextSibling,S(n)}}else 8&d&&n.textContent!==i.children&&(no=!0,n.textContent=i.children)}return n.nextSibling})(l,u,d,c,m,e):t();else if(6&o){u.slotScopeIds=m;const f=b(l);if(a=h?O(l):oo(l)&&"teleport start"===l.data?O(l,l.data,"teleport end"):v(l),p(u,f,null,d,c,io(f),e),Qn(u)){let e;h?(e=ce(le)).anchor=a?a.previousSibling:f.lastChild:e=3===l.nodeType?Do(""):ce("div"),e.el=l,u.component.subTree=e}}else 64&o?a=8!==s?t():u.type.hydrate(l,u,d,c,m,e,f,M):128&o&&(a=u.type.hydrate(l,u,d,c,io(b(l)),m,e,f,_))}return null!=i&&to(i,null,c,u),a},M=(t,n,i,o,r,s,a)=>{a=a||!!n.dynamicChildren;var l=n.children,u=l.length;for(let e=0;e<u;e++){const n=a?l[e]:l[e]=me(l[e]);t?t=_(t,n,o,r,s,a):n.type===vo&&!n.children||(no=!0,g(null,n,i,null,o,r,io(i),s))}return t},O=(e,t="[",n="]")=>{let i=0;for(;e;)if((e=v(e))&&oo(e)&&(e.data===t&&i++,e.data===n)){if(0===i)return v(e);i--}return e},x=(e,t,n)=>{var i=t.parentNode;i&&i.replaceChild(e,t);let o=n;for(;o;)o.vnode.el===t&&(o.vnode.el=o.subTree.el=e),o=o.parent},B=e=>1===e.nodeType&&"template"===e.tagName.toLowerCase();return[(e,t)=>{t.hasChildNodes()?(no=!1,_(t.firstChild,e,null,null,null),dn(),t._vnode=e,no&&console.error("Hydration completed but contains mismatches.")):(g(null,e,t),dn(),t._vnode=e)},_]}const ae=An;function so(e){return lo(e)}function ao(e){return lo(e,ro)}function lo(e,t){be().__VUE__=!0;const{insert:N,remove:m,patchProp:g,createElement:R,createText:E,createComment:o,setText:P,setElementText:w,parentNode:y,nextSibling:p,setScopeId:r=A,insertStaticContent:I}=e,_=(i,o,r,s=null,a=null,l=null,u=!1,d=null,c=!!o.dynamicChildren)=>{if(i!==o){i&&!de(i,o)&&(s=q(i),U(i,a,l,!0),i=null),-2===o.patchFlag&&(c=!1,o.dynamicChildren=null);var e,t,n,m,h,f,p,g,{type:R,ref:y,shapeFlag:v}=o;switch(R){case vo:var b=i,S=o,C=r,w=s;if(null==b)N(S.el=E(S.children),C,w);else{const C=S.el=b.el;S.children!==b.children&&P(C,S.children)}break;case ue:V(i,o,r,s);break;case bo:null==i&&(C=o,w=r,b=s,S=u,[C.el,C.anchor]=I(C.children,w,b,S,C.el,C.anchor));break;case le:{var _=i;var M=o;var O=r;var x=s;var B=a;var k=l;var F=u;var W=d;var T=c;const A=M.el=_?_.el:E(""),D=M.anchor=_?_.anchor:E("");let{patchFlag:e,dynamicChildren:t,slotScopeIds:n}=M;n&&(W=W?W.concat(n):n),null==_?(N(A,O,x),N(D,O,x),L(M.children,O,D,B,k,F,W,T)):e>0&&64&e&&t&&_.dynamicChildren?(j(_.dynamicChildren,t,O,B,k,F,W),(null!=M.key||B&&M===B.subTree)&&mo(_,M,!0)):z(_,M,O,D,B,k,F,W,T)}break;default:1&v?(x=i,_=o,M=r,O=s,B=a,k=l,F=d,W=c,T=(T=u)||"svg"===_.type,null==x?G(_,M,O,B,k,T,F,W):K(x,_,B,k,T,F,W)):6&v?(e=i,n=r,m=s,h=a,f=l,p=u,g=c,(t=o).slotScopeIds=d,null==e?512&t.shapeFlag?h.ctx.activate(t,n,m,p,g):H(t,n,m,h,f,p,g):$(e,t,g)):(64&v||128&v)&&R.process(i,o,r,s,a,l,u,d,c,Y)}null!=y&&a&&to(y,i&&i.ref,l,o||i,!o)}},V=(e,t,n,i)=>{null==e?N(t.el=o(t.children||""),n,i):t.el=e.el},G=(e,t,n,i,o,r,s,a)=>{let l,u;const{type:d,props:c,shapeFlag:m,transition:h,dirs:f}=e;if(l=e.el=R(e.type,r,c&&c.is,c),8&m?w(l,e.children):16&m&&L(e.children,l,null,i,o,r&&"foreignObject"!==d,s,a),f&&se(e,null,i,"created"),v(l,e,e.scopeId,s,i),c){for(const t in c)"value"===t||pe(t)||g(l,t,null,c[t],r,e.children,i,o,B);"value"in c&&g(l,"value",null,c.value),(u=c.onVnodeBeforeMount)&&he(u,i,e)}f&&se(e,null,i,"beforeMount");const p=co(o,h);p&&h.beforeEnter(l),N(l,t,n),((u=c&&c.onVnodeMounted)||p||f)&&ae(()=>{u&&he(u,i,e),p&&h.enter(l),f&&se(e,null,i,"mounted")},o)},v=(t,e,n,i,o)=>{if(n&&r(t,n),i)for(let e=0;e<i.length;e++)r(t,i[e]);if(o&&e===o.subTree){const e=o.vnode;v(t,e,e.scopeId,e.slotScopeIds,o.parent)}},L=(t,n,i,o,r,s,a,l,u=0)=>{for(let e=u;e<t.length;e++){const u=t[e]=(l?No:me)(t[e]);_(null,u,n,i,o,r,s,a,l)}},K=(t,e,n,i,o,r,s)=>{var a=e.el=t.el;let{patchFlag:l,dynamicChildren:u,dirs:d}=e;l|=16&t.patchFlag;var c=t.props||W,m=e.props||W;let h;n&&uo(n,!1),(h=m.onVnodeBeforeUpdate)&&he(h,n,e,t),d&&se(e,t,n,"beforeUpdate"),n&&uo(n,!0);var f=o&&"foreignObject"!==e.type;if(u?j(t.dynamicChildren,u,a,n,i,f,r):s||z(t,e,a,null,n,i,f,r,!1),0<l){if(16&l)b(a,e,c,m,n,i,o);else if(2&l&&c.class!==m.class&&g(a,"class",null,m.class,o),4&l&&g(a,"style",c.style,m.style,o),8&l){const W=e.dynamicProps;for(let e=0;e<W.length;e++){const r=W[e],s=c[r],l=m[r];l===s&&"value"!==r||g(a,r,s,l,o,t.children,n,i,B)}}1&l&&t.children!==e.children&&w(a,e.children)}else s||null!=u||b(a,e,c,m,n,i,o);((h=m.onVnodeUpdated)||d)&&ae(()=>{h&&he(h,n,e,t),d&&se(e,t,n,"updated")},i)},j=(t,n,i,o,r,s,a)=>{for(let e=0;e<n.length;e++){var l=t[e],u=n[e],d=l.el&&(l.type===le||!de(l,u)||70&l.shapeFlag)?y(l.el):i;_(l,u,d,null,o,r,s,a,!0)}},b=(e,t,n,i,o,r,s)=>{if(n!==i){if(n!==W)for(const W in n)pe(W)||W in i||g(e,W,n[W],null,s,t.children,o,r,B);for(const W in i){var a,l;pe(W)||(a=i[W])!==(l=n[W])&&"value"!==W&&g(e,W,l,a,s,t.children,o,r,B)}"value"in i&&g(e,"value",n.value,i.value)}},H=(e,t,n,i,o,r,s)=>{var a=e.component=(i=i,l=o,a=(u=e).type,d=(i||u).appContext||Io,(d={uid:Vo++,vnode:u,type:a,parent:i,appContext:d,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ce(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(d.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:function n(t,i,e=!1){var o=i.propsCache,r=o.get(t);if(r)return r;const s=t.props,a={},l=[];let u=!1;if(!Z(t)){const W=e=>{u=!0;var[e,t]=n(e,i,!0);D(a,e),t&&l.push(...t)};!e&&i.mixins.length&&i.mixins.forEach(W),t.extends&&W(t.extends),t.mixins&&t.mixins.forEach(W)}if(!s&&!u)return ee(t)&&o.set(t,T),T;if(J(s))for(let e=0;e<s.length;e++){const t=te(s[e]);qi(t)&&(a[t]=W)}else if(s)for(const W in s){const t=te(W);if(qi(t)){const i=s[W],T=a[t]=J(i)||Z(i)?{type:i}:D({},i);if(T){const i=Ki(Boolean,T.type),W=Ki(String,T.type);T[0]=-1<i,T[1]=W<0||i<W,(-1<i||X(T,"default"))&&l.push(t)}}}r=[a,l];return ee(t)&&o.set(t,r),r}(a,d),emitsOptions:function t(e,n,i=!1){const o=n.emitsCache,r=o.get(e);if(void 0!==r)return r;var s=e.emits;let a={},l=!1;if(!Z(e)){const o=e=>{(e=t(e,n,!0))&&(l=!0,D(a,e))};!i&&n.mixins.length&&n.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}return s||l?(J(s)?s.forEach(e=>a[e]=null):D(a,s),ee(e)&&o.set(e,a),a):(ee(e)&&o.set(e,null),null)}(a,d),emit:null,emitted:null,propsDefaults:W,inheritAttrs:a.inheritAttrs,ctx:W,data:W,props:W,attrs:W,slots:W,refs:W,setupState:W,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:l,suspenseId:l?l.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null}).ctx={_:d},d.root=i?i.root:d,d.emit=function(i,o,...r){if(!i.isUnmounted){var s=i.vnode.props||W;let e=r;const a=o.startsWith("update:"),l=a&&o.slice(7);if(l&&l in s){const i=`${"modelValue"===l?"model":l}Modifiers`,{number:o,trim:a}=s[i]||W;a&&(e=r.map(e=>Q(e)?e.trim():e)),o&&(e=r.map(ve))}let t,n=s[t=ge(o)]||s[t=ge(te(o))];(n=!n&&a?s[t=ge(ne(o))]:n)&&re(n,i,6,e);r=s[t+"Once"];if(r){if(i.emitted){if(i.emitted[t])return}else i.emitted={};i.emitted[t]=!0,re(r,i,6,e)}}}.bind(null,d),u.ce&&u.ce(d),d),l=(ti(e)&&(a.ctx.renderer=Y),a),{props:i,children:u}=(Go=!1,l.vnode),d=Uo(l),c=l,m=d,h={},f={};ye(f,ko,1),c.propsDefaults=Object.create(null),zi(c,i,h,f);for(const p in c.propsOptions[0])p in h||(h[p]=void 0);if(c.props=m?Ot(h):c.type.props?h:f,c.attrs=f,Qi(l,u),d){const g=(i=l).type;if(i.accessCache=Object.create(null),i.proxy=At(new Proxy(i.ctx,_i)),m=g.setup){const g=i.setupContext=1<m.length?Xo(i):null;Ho(i),Ie();m=$t(m,i,0,[i.props,g]);Ve(),zo(),fe(m)?(m.then(zo,zo),i.asyncDep=m):Ko(i,m,!1)}else $o(i,!1)}if(Go=!1,a.asyncDep){if(o&&o.registerDep(a,S),!e.el){const e=a.subTree=ce(ue);V(null,e,t,n)}}else S(a,e,t,n,o,r,s)},$=(e,t,n)=>{var i=t.component=e.component;!function(t,e,n){var{props:i,children:t,component:o}=t,{props:r,children:s,patchFlag:a}=e,l=o.emitsOptions;if(e.dirs||e.transition)return 1;if(!(n&&0<=a))return!(!t&&!s||s&&s.$stable)||i!==r&&(i?!r||Cn(i,r,l):r);if(1024&a)return 1;if(16&a)return i?Cn(i,r,l):r;if(8&a){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(r[n]!==i[n]&&!pn(l,n))return 1}}}(e,t,n)?(t.el=e.el,i.vnode=t):i.asyncDep&&!i.asyncResolved?C(i,t,n):(i.next=t,e=i.update,(e=s.indexOf(e))>a&&s.splice(e,1),i.update())},S=(u,d,c,m,h,f,p)=>{const e=u.effect=new De(()=>{if(u.isMounted){let e,{next:t,bu:n,u:i,parent:o,vnode:r}=u,s=t;uo(u,!1),t?(t.el=r.el,C(u,t,p)):t=r,n&&Re(n),(e=t.props&&t.props.onVnodeBeforeUpdate)&&he(e,o,t,r),uo(u,!0);var a=vn(u),l=u.subTree;u.subTree=a,_(l,a,y(l.el),q(l),u,h,f),t.el=a.el,null===s&&wn(u,a.el),i&&ae(i,h),(e=t.props&&t.props.onVnodeUpdated)&&ae(()=>he(e,o,t,r),h)}else{let e;const{el:t,props:n}=d,{bm:i,m:o,parent:r}=u,s=Qn(d);if(uo(u,!1),i&&Re(i),!s&&(e=n&&n.onVnodeBeforeMount)&&he(e,r,d),uo(u,!0),t&&k){const c=()=>{u.subTree=vn(u),k(t,u.subTree,u,h,null)};s?d.type.__asyncLoader().then(()=>!u.isUnmounted&&c()):c()}else{const p=u.subTree=vn(u);_(null,p,c,m,u,h,f),d.el=p.el}if(o&&ae(o,h),!s&&(e=n&&n.onVnodeMounted)){const u=d;ae(()=>he(e,r,u),h)}(256&d.shapeFlag||r&&Qn(r.vnode)&&256&r.vnode.shapeFlag)&&u.a&&ae(u.a,h),u.isMounted=!0,d=c=m=null}},()=>sn(t),u.scope),t=u.update=()=>e.run();t.id=u.uid,uo(u,!0),t()},C=(e,n,i)=>{var o=(n.component=e).vnode.props;e.vnode=n,e.next=null;{var r=e,s=n.props,a=o;const{props:d,attrs:c,vnode:{patchFlag:m}}=r,h=oe(d),[f]=r.propsOptions;let t=!1;if(!(i||0<m)||16&m){let e;zi(r,s,d,c)&&(t=!0);for(const c in h)s&&(X(s,c)||(e=ne(c))!==c&&X(s,e))||(f?!a||void 0===a[c]&&void 0===a[e]||(d[c]=Ui(f,h,c,void 0,r,!0)):delete d[c]);if(c!==h)for(const r in c)s&&X(s,r)||(delete c[r],t=!0)}else if(8&m){const a=r.vnode.dynamicProps;for(let e=0;e<a.length;e++){var l=a[e];if(!pn(r.emitsOptions,l)){var u=s[l];if(f)if(X(c,l))u!==c[l]&&(c[l]=u,t=!0);else{const s=te(l);d[s]=Ui(f,h,s,u,r,!1)}else u!==c[l]&&(c[l]=u,t=!0)}}}t&&ie(r,"set","$attrs")}eo(e,n.children,i),Ie(),un(),Ve()},z=(e,t,n,i,o,r,s,a,l=!1)=>{var u=e&&e.children,e=e?e.shapeFlag:0,d=t.children,{patchFlag:t,shapeFlag:c}=t;if(0<t){if(128&t)return void M(u,d,n,i,o,r,s,a,l);if(256&t){var m=u;var h=d;var f=n;t=i;var p=o;var g=r;var R=s;var y=a;var v=l;const b=(m=m||T).length,S=(h=h||T).length,C=Math.min(b,S);let e;for(e=0;e<C;e++){const T=h[e]=v?No(h[e]):me(h[e]);_(m[e],T,f,null,p,g,R,y,v)}b>S?B(m,p,g,!0,!1,C):L(h,f,t,p,g,R,y,v,C);return}}8&c?(16&e&&B(u,o,r),d!==u&&w(n,d)):16&e?16&c?M(u,d,n,i,o,r,s,a,l):B(u,o,r,!0):(8&e&&w(n,""),16&c&&L(d,n,i,o,r,s,a,l))},M=(e,r,s,a,l,u,d,c,m)=>{let h=0;var f=r.length;let p=e.length-1,g=f-1;for(;h<=p&&h<=g;){const T=e[h],a=r[h]=(m?No:me)(r[h]);if(!de(T,a))break;_(T,a,s,null,l,u,d,c,m),h++}for(;h<=p&&h<=g;){const T=e[p],a=r[g]=(m?No:me)(r[g]);if(!de(T,a))break;_(T,a,s,null,l,u,d,c,m),p--,g--}if(h>p){if(h<=g){const e=g+1,T=e<f?r[e].el:a;for(;h<=g;)_(null,r[h]=(m?No:me)(r[h]),s,T,l,u,d,c,m),h++}}else if(h>g)for(;h<=p;)U(e[h],l,u,!0),h++;else{var R=h,y=h,v=new Map;for(h=y;h<=g;h++){const e=r[h]=(m?No:me)(r[h]);null!=e.key&&v.set(e.key,h)}let t,n=0;var b=g-y+1;let i=!1,o=0;var S=new Array(b);for(h=0;h<b;h++)S[h]=0;for(h=R;h<=p;h++){const T=e[h];if(n>=b)U(T,l,u,!0);else{let e;if(null!=T.key)e=v.get(T.key);else for(t=y;t<=g;t++)if(0===S[t-y]&&de(T,r[t])){e=t;break}void 0===e?U(T,l,u,!0):(S[e-y]=h+1,e>=o?o=e:i=!0,_(T,r[e],s,null,l,u,d,c,m),n++)}}var C=i?function(e){var t=e.slice(),n=[0];let i,o,r,s,a;const l=e.length;for(i=0;i<l;i++){const l=e[i];if(0!==l)if(e[o=n[n.length-1]]<l)t[i]=o,n.push(i);else{for(r=0,s=n.length-1;r<s;)e[n[a=r+s>>1]]<l?r=1+a:s=a;l<e[n[r]]&&(0<r&&(t[i]=n[r-1]),n[r]=i)}}for(r=n.length,s=n[r-1];0<r--;)s=t[n[r]=s];return n}(S):T;for(t=C.length-1,h=b-1;0<=h;h--){const e=y+h,T=r[e],p=e+1<f?r[e+1].el:a;0===S[h]?_(null,T,s,p,l,u,d,c,m):i&&(t<0||h!==C[t]?O(T,s,p,2):t--)}}},O=(e,t,n,i,o=null)=>{const{el:r,type:s,transition:a,children:l,shapeFlag:u}=e;if(6&u)O(e.component.subTree,t,n,i);else if(128&u)e.suspense.move(t,n,i);else if(64&u)s.move(e,t,n,Y);else if(s===le){N(r,t,n);for(let e=0;e<l.length;e++)O(l[e],t,n,i);N(e.anchor,t,n)}else if(s===bo){for(var d,[{el:c,anchor:m},h,f]=[e,t,n];c&&c!==m;)d=p(c),N(c,h,f),c=d;N(m,h,f)}else if(2!==i&&1&u&&a)if(0===i)a.beforeEnter(r),N(r,t,n),ae(()=>a.enter(r),o);else{const{leave:e,delayLeave:i,afterLeave:o}=a,s=()=>N(r,t,n),l=()=>{e(r,()=>{s(),o&&o()})};i?i(r,s,l):l()}else N(r,t,n)},U=(t,n,i,o=!1,r=!1)=>{var{type:s,props:a,ref:e,children:l,dynamicChildren:u,shapeFlag:d,patchFlag:c,dirs:m}=t;if(null!=e&&to(e,null,i,t,!0),256&d)n.ctx.deactivate(t);else{const h=1&d&&m,f=!Qn(t);let e;if(f&&(e=a&&a.onVnodeBeforeUnmount)&&he(e,n,t),6&d)F(t.component,i,o);else{if(128&d)return void t.suspense.unmount(i,o);h&&se(t,null,n,"beforeUnmount"),64&d?t.type.remove(t,n,i,r,Y,o):u&&(s!==le||0<c&&64&c)?B(u,n,i,!1,!0):(s===le&&384&c||!r&&16&d)&&B(l,n,i),o&&x(t)}(f&&(e=a&&a.onVnodeUnmounted)||h)&&ae(()=>{e&&he(e,n,t),h&&se(t,null,n,"unmounted")},i)}},x=e=>{const{type:t,el:n,anchor:i,transition:o}=e;if(t===le){for(var r,s=n,a=i;s!==a;)r=p(s),m(s),s=r;m(a)}else if(t===bo){for(var l,{el:u,anchor:d}=[e][0];u&&u!==d;)l=p(u),m(u),u=l;m(d)}else{const c=()=>{m(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){const{leave:t,delayLeave:i}=o,m=()=>t(n,c);i?i(e.el,c,m):m()}else c()}},F=(e,t,n)=>{var{bum:i,scope:o,update:r,subTree:s,um:a}=e;i&&Re(i),o.stop(),r&&(r.active=!1,U(s,e,t,n)),a&&ae(a,t),ae(()=>{e.isUnmounted=!0},t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps)&&t.resolve()},B=(t,n,i,o=!1,r=!1,s=0)=>{for(let e=s;e<t.length;e++)U(t[e],n,i,o,r)},q=e=>6&e.shapeFlag?q(e.component.subTree):128&e.shapeFlag?e.suspense.next():p(e.anchor||e.el),n=(e,t,n)=>{null==e?t._vnode&&U(t._vnode,null,null,!0):_(t._vnode||null,e,t,null,null,null,n),un(),dn(),t._vnode=e},Y={p:_,um:U,m:O,r:x,mt:H,mc:L,pc:z,pbc:j,n:q,o:e};let i,k;return t&&([i,k]=t(Y)),{render:n,hydrate:i,createApp:(u=n,d=i,function(o,r=null){Z(o)||(o=D({},o)),null==r||ee(r)||(r=null);const s=Ii(),n=new WeakSet;let a=!1;const l=s.app={_uid:Vi++,_component:o,_props:r,_container:null,_context:s,_instance:null,version:ir,get config(){return s.config},set config(e){},use:(e,...t)=>(n.has(e)||(e&&Z(e.install)?(n.add(e),e.install(l,...t)):Z(e)&&(n.add(e),e(l,...t))),l),mixin:e=>(s.mixins.includes(e)||s.mixins.push(e),l),component:(e,t)=>t?(s.components[e]=t,l):s.components[e],directive:(e,t)=>t?(s.directives[e]=t,l):s.directives[e],mount(e,t,n){var i;if(!a)return(i=ce(o,r)).appContext=s,t&&d?d(i,e):u(i,e,n),a=!0,(l._container=e).__vue_app__=l,Jo(i.component)||i.component.proxy},unmount(){a&&(u(null,l._container),delete l._container.__vue_app__)},provide:(e,t)=>(s.provides[e]=t,l),runWithContext(e){Li=l;try{return e()}finally{Li=null}}};return l})};var u,d}function uo({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function co(e,t){return(!e||!e.pendingBranch)&&t&&!t.persisted}function mo(n,e,i=!1){var o=n.children,r=e.children;if(J(o)&&J(r))for(let t=0;t<o.length;t++){const n=o[t];let e=r[t];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&((e=r[t]=No(r[t])).el=n.el),i||mo(n,e)),e.type===vo&&(e.el=n.el)}}const ho=e=>e&&(e.disabled||""===e.disabled),fo=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,po=(e,t)=>{e=e&&e.to;return Q(e)?t?t(e):null:e};function go(e,t,n,{o:{insert:i},m:o},r=2){0===r&&i(e.targetAnchor,t,n);var{el:e,anchor:s,shapeFlag:a,children:l,props:u}=e,r=2===r;if(r&&i(e,t,n),(!r||ho(u))&&16&a)for(let e=0;e<l.length;e++)o(l[e],t,n,2);r&&i(s,t,n)}var Ro={name:"Teleport",__isTeleport:!0,process(e,t,n,i,o,r,s,a,l,u){const{mc:d,pc:c,pbc:m,o:{insert:h,querySelector:f,createText:p}}=u,g=ho(t.props);let{shapeFlag:R,children:y,dynamicChildren:v}=t;if(null==e){const e=t.el=p(""),u=t.anchor=p(""),c=(h(e,n,i),h(u,n,i),t.target=po(t.props,f)),m=t.targetAnchor=p(""),v=(c&&(h(m,c),s=s||fo(c)),(e,t)=>{16&R&&d(y,e,t,o,r,s,a,l)});g?v(n,u):c&&v(c,m)}else{t.el=e.el;const i=t.anchor=e.anchor,d=t.target=e.target,h=t.targetAnchor=e.targetAnchor,p=ho(e.props),R=p?n:d,y=p?i:h;if(s=s||fo(d),v?(m(e.dynamicChildren,v,R,o,r,s,a),mo(e,t,!0)):l||c(e,t,R,y,o,r,s,a,!1),g)p?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):go(t,n,i,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=po(t.props,f);e&&go(t,e,null,u,0)}else p&&go(t,d,h,u,1)}yo(t)},remove(t,n,i,e,{um:o,o:{remove:r}},s){var{shapeFlag:t,children:a,anchor:l,targetAnchor:u,target:d,props:c}=t;if(d&&r(u),s&&r(l),16&t){const t=s||!ho(c);for(let e=0;e<a.length;e++){const r=a[e];o(r,n,i,t,!!r.dynamicChildren)}}},move:go,hydrate:function(t,n,i,o,r,s,{o:{nextSibling:a,parentNode:e,querySelector:l}},u){var d=n.target=po(n.props,l);if(d){const l=d._lpa||d.firstChild;if(16&n.shapeFlag)if(ho(n.props))n.anchor=u(a(t),n,e(t),i,o,r,s),n.targetAnchor=l;else{n.anchor=a(t);let e=l;for(;e;)if((e=a(e))&&8===e.nodeType&&"teleport anchor"===e.data){n.targetAnchor=e,d._lpa=n.targetAnchor&&a(n.targetAnchor);break}u(l,n,d,i,o,r,s)}yo(n)}return n.anchor&&a(n.anchor)}};function yo(t){var n=t.ctx;if(n&&n.ut){let e=t.children[0].el;for(;e&&e!==t.targetAnchor;)1===e.nodeType&&e.setAttribute("data-v-owner",n.uid),e=e.nextSibling;n.ut()}}const le=Symbol.for("v-fgt"),vo=Symbol.for("v-txt"),ue=Symbol.for("v-cmt"),bo=Symbol.for("v-stc"),So=[];let u=null;function Co(e=!1){So.push(u=e?null:[])}function wo(){So.pop(),u=So[So.length-1]||null}let _o=1;function Mo(e){_o+=e}function Oo(e){return e.dynamicChildren=0<_o?u||T:null,wo(),0<_o&&u&&u.push(e),e}function xo(e,t,n,i,o){return Oo(ce(e,t,n,i,o,!0))}function Bo(e){return!!e&&!0===e.__v_isVNode}function de(e,t){return e.type===t.type&&e.key===t.key}const ko="__vInternal",Fo=({key:e})=>null!=e?e:null,Wo=({ref:e,ref_key:t,ref_for:n})=>null!=(e="number"==typeof e?""+e:e)?Q(e)||N(e)||Z(e)?{i:l,r:e,k:t,f:!!n}:e:null;function To(e,t=null,n=null,i=0,o=null,r=e===le?0:1,s=!1,a=!1){t={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Fo(t),ref:t&&Wo(t),scopeId:gn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:l};return a?(Eo(t,n),128&r&&e.normalize(t)):n&&(t.shapeFlag|=Q(n)?8:16),0<_o&&!s&&u&&(0<t.patchFlag||6&r)&&32!==t.patchFlag&&u.push(t),t}const ce=function(e,n=null,t=null,i=0,o=null,r=!1){if(Bo(e=e&&e!==Mn?e:ue)){const i=b(e,n,!0);return t&&Eo(i,t),0<_o&&!r&&u&&(6&i.shapeFlag?u[u.indexOf(e)]=i:u.push(i)),i.patchFlag|=-2,i}var s=e;if(Z(s)&&"__vccOpts"in s&&(e=e.__vccOpts),n){let{class:e,style:t}=n=Ao(n);e&&!Q(e)&&(n.class=q(e)),ee(t)&&(Tt(t)&&!J(t)&&(t=D({},t)),n.style=j(t))}s=Q(e)?1:Bn(e)?128:e.__isTeleport?64:ee(e)?4:Z(e)?2:0;return To(e,n,t,i,o,s,r,!0)};function Ao(e){return e?Tt(e)||ko in e?D({},e):e:null}function b(e,t,n=!1){var{props:i,ref:o,patchFlag:r,children:s}=e,i=t?Po(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:i,key:i&&Fo(i),ref:t&&t.ref?n&&o?J(o)?o.concat(Wo(t)):[o,Wo(t)]:Wo(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==le?-1===r?16:16|r:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&b(e.ssContent),ssFallback:e.ssFallback&&b(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Do(e=" ",t=0){return ce(vo,null,e,t)}function me(e){return null==e||"boolean"==typeof e?ce(ue):J(e)?ce(le,null,e.slice()):"object"==typeof e?No(e):ce(vo,null,String(e))}function No(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:b(e)}function Eo(e,t){let n=0;const i=e["shapeFlag"];if(null==t)t=null;else if(J(t))n=16;else if("object"==typeof t){if(65&i){const n=t.default;return n&&(n._c&&(n._d=!1),Eo(e,n()),n._c)&&(n._d=!0)}{n=32;const i=t._;i||ko in t?3===i&&l&&(1===l.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=l}}else Z(t)?(t={default:t,_ctx:l},n=32):(t=String(t),64&i?(n=16,t=[Do(t)]):n=8);e.children=t,e.shapeFlag|=n}function Po(...t){var n={};for(let e=0;e<t.length;e++){var i,o,r=t[e];for(const t in r)"class"===t?n.class!==r.class&&(n.class=q([n.class,r.class])):"style"===t?n.style=j([n.style,r.style]):k(t)?(i=n[t],!(o=r[t])||i===o||J(i)&&i.includes(o)||(n[t]=i?[].concat(i,o):o)):""!==t&&(n[t]=r[t])}return n}function he(e,t,n,i=null){re(e,t,7,[n,i])}const Io=Ii();let Vo=0,R=null;const Lo=()=>R||l;let jo;jo=e=>{R=e};const Ho=e=>{jo(e),e.scope.on()},zo=()=>{R&&R.scope.off(),jo(null)};function Uo(e){return 4&e.vnode.shapeFlag}let qo,Yo,Go=!1;function Ko(e,t,n){Z(t)?e.render=t:ee(t)&&(e.setupState=zt(t)),$o(e,n)}function $o(e,t){var n=e.type;if(!e.render){if(!t&&qo&&!n.render){const t=n.template||Wi(e).template;if(t){const{isCustomElement:i,compilerOptions:A}=e.appContext.config,{delimiters:o,compilerOptions:r}=n,s=D(D({isCustomElement:i,delimiters:o},A),r);n.render=qo(t,s)}}e.render=n.render||A,Yo&&Yo(e)}Ho(e),Ie();try{ki(e)}finally{Ve(),zo()}}function Xo(t){return{get attrs(){return(n=t).attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get:(e,t)=>(m(n,0,"$attrs"),e[t])}));var n},slots:t.slots,emit:t.emit,expose:e=>{t.exposed=e||{}}}}function Jo(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(zt(At(n.exposed)),{get:(e,t)=>t in e?e[t]:t in Ci?Ci[t](n):void 0,has:(e,t)=>t in e||t in Ci}))}function Zo(e,t=!0){return Z(e)?e.displayName||e.name:e.name||t&&e.__name}const Qo=(n,e)=>{{var[n,i=!1]=[n,Go];let e,t;var o=Z(n);return t=o?(e=n,A):(e=n.get,n.set),new Kt(e,t,o||!t,i)}};function er(e,t,n){var i=arguments.length;return 2===i?ee(t)&&!J(t)?Bo(t)?ce(e,null,[t]):ce(e,t):ce(e,null,t):(3<i?n=Array.prototype.slice.call(arguments,2):3===i&&Bo(n)&&(n=[n]),ce(e,t,n))}var tr=Symbol.for("v-scx");function nr(e,t){var n=e.memo;if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++)if(P(n[e],t[e]))return!1;return 0<_o&&u&&u.push(e),!0}const ir="3.3.10",or="undefined"!=typeof document?document:null,rr=or&&or.createElement("template"),sr={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{var t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{t=t?or.createElementNS("http://www.w3.org/2000/svg",e):or.createElement(e,n?{is:n}:void 0);return"select"===e&&i&&null!=i.multiple&&t.setAttribute("multiple",i.multiple),t},createText:e=>or.createTextNode(e),createComment:e=>or.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>or.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,r){var s=n?n.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),o!==r&&(o=o.nextSibling););else{rr.innerHTML=i?`<svg>${e}</svg>`:e;const o=rr.content;if(i){const e=o.firstChild;for(;e.firstChild;)o.appendChild(e.firstChild);o.removeChild(e)}t.insertBefore(o,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},ar="transition",lr="animation",ur=Symbol("_vtc"),dr=(e,{slots:t})=>er(qn,pr(e),t),cr=(dr.displayName="Transition",{name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String}),mr=dr.props=D({},Un,cr),hr=(e,t=[])=>{J(e)?e.forEach(e=>e(...t)):e&&e(...t)},fr=e=>!!e&&(J(e)?e.some(e=>1<e.length):1<e.length);function pr(e){var t,n={};for(const D in e)D in cr||(n[D]=e[D]);if(!1===e.css)return n;const{name:i="v",type:r,duration:o,enterFromClass:s=i+"-enter-from",enterActiveClass:a=i+"-enter-active",enterToClass:l=i+"-enter-to",appearFromClass:u=s,appearActiveClass:d=a,appearToClass:c=l,leaveFromClass:m=i+"-leave-from",leaveActiveClass:h=i+"-leave-active",leaveToClass:f=i+"-leave-to"}=e,p=null==(t=o)?null:ee(t)?[gr(t.enter),gr(t.leave)]:[t=gr(t),t],g=p&&p[0],R=p&&p[1],{onBeforeEnter:y,onEnter:v,onEnterCancelled:b,onLeave:S,onLeaveCancelled:C,onBeforeAppear:w=y,onAppear:_=v,onAppearCancelled:M=b}=n,O=(e,t,n)=>{yr(e,t?c:l),yr(e,t?d:a),n&&n()},x=(e,t)=>{e._isLeaving=!1,yr(e,m),yr(e,f),yr(e,h),t&&t()},B=o=>(e,t)=>{const n=o?_:v,i=()=>O(e,o,t);hr(n,[e,i]),vr(()=>{yr(e,o?u:s),Rr(e,o?c:l),fr(n)||Sr(e,r,g,i)})};return D(n,{onBeforeEnter(e){hr(y,[e]),Rr(e,s),Rr(e,a)},onBeforeAppear(e){hr(w,[e]),Rr(e,u),Rr(e,d)},onEnter:B(!1),onAppear:B(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>x(e,t);Rr(e,m),Mr(),Rr(e,h),vr(()=>{e._isLeaving&&(yr(e,m),Rr(e,f),fr(S)||Sr(e,r,R,n))}),hr(S,[e,n])},onEnterCancelled(e){O(e,!1),hr(b,[e])},onAppearCancelled(e){O(e,!0),hr(M,[e])},onLeaveCancelled(e){x(e),hr(C,[e])}})}function gr(e){return I(e)}function Rr(t,e){e.split(/\s+/).forEach(e=>e&&t.classList.add(e)),(t[ur]||(t[ur]=new Set)).add(e)}function yr(t,e){e.split(/\s+/).forEach(e=>e&&t.classList.remove(e));var n=t[ur];n&&(n.delete(e),n.size||(t[ur]=void 0))}function vr(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let br=0;function Sr(t,e,n,i){const o=t._endId=++br,r=()=>{o===t._endId&&i()};if(n)return setTimeout(r,n);const{type:s,timeout:a,propCount:l}=Cr(t,e);if(!s)return i();const u=s+"end";let d=0;const c=()=>{t.removeEventListener(u,m),r()},m=e=>{e.target===t&&++d>=l&&c()};setTimeout(()=>{d<l&&c()},a+1),t.addEventListener(u,m)}function Cr(e,t){const n=window.getComputedStyle(e),i=e=>(n[e]||"").split(", "),o=i(ar+"Delay"),r=i(ar+"Duration"),s=wr(o,r),a=i(lr+"Delay"),l=i(lr+"Duration"),u=wr(a,l);let d=null,c=0,m=0;return t===ar?0<s&&(d=ar,c=s,m=r.length):t===lr?0<u&&(d=lr,c=u,m=l.length):(c=Math.max(s,u),d=0<c?u<s?ar:lr:null,m=d?(d===ar?r:l).length:0),{type:d,timeout:c,propCount:m,hasTransform:d===ar&&/\b(transform|all)(,|$)/.test(i(ar+"Property").toString())}}function wr(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((e,t)=>_r(e)+_r(n[t])))}function _r(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function Mr(){document.body.offsetHeight}const Or=Symbol("_vod"),xr={beforeMount(e,{value:t},{transition:n}){e[Or]="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Br(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),Br(e,!0),i.enter(e)):i.leave(e,()=>{Br(e,!1)}):Br(e,t))},beforeUnmount(e,{value:t}){Br(e,t)}};function Br(e,t){e.style.display=t?e[Or]:"none"}const kr=/\s*!important$/;function Fr(t,n,e){var i;J(e)?e.forEach(e=>Fr(t,n,e)):(null==e&&(e=""),n.startsWith("--")?t.setProperty(n,e):(i=function(t,n){const i=Tr[n];if(i)return i;var o=te(n);if("filter"!==o&&o in t)return Tr[n]=o;o=E(o);for(let e=0;e<Wr.length;e++){const i=Wr[e]+o;if(i in t)return Tr[n]=i}return n}(t,n),kr.test(e)?t.setProperty(ne(i),e.replace(kr,""),"important"):t[i]=e))}const Wr=["Webkit","Moz","ms"],Tr={},Ar="http://www.w3.org/1999/xlink";function Dr(e,t,n,i){e.addEventListener(t,n,i)}const Nr=Symbol("_vei");function Er(e,t,n,i,o=null){const r=e[Nr]||(e[Nr]={}),s=r[t];if(i&&s)s.value=i;else{const[n,l]=function(e){let t;var n;if(Pr.test(e))for(t={};n=e.match(Pr);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0;return[":"===e[2]?e.slice(3):ne(e.slice(2)),t]}(t);if(i){const s=r[t]=function(t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();re(function(e,t){if(J(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(t=>e=>!e._stopped&&t&&t(e))}return t}(e,n.value),t,5,[e])};return n.value=i,n.attached=Ir||(Vr.then(()=>Ir=0),Ir=Date.now()),n}(o);Dr(e,n,s,l)}else s&&(o=n,a=s,e.removeEventListener(o,a,l),r[t]=void 0)}var a}const Pr=/(?:Once|Passive|Capture)$/;let Ir=0;const Vr=Promise.resolve(),Lr=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&96<e.charCodeAt(2)&&e.charCodeAt(2)<123;function jr(e,t){const n=Zn(e);class i extends Hr{constructor(e){super(n,e,t)}}return i.def=n,i}class Hr extends("undefined"!=typeof HTMLElement?HTMLElement:class{}){constructor(e,t={},n){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),rn(()=>{this._connected||(bs(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let e=0;e<this.attributes.length;e++)this._setAttr(this.attributes[e].name);this._ob=new MutationObserver(e=>{for(const t of e)this._setAttr(t.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(e,t=!1)=>{var{props:n,styles:i}=e;let o;if(n&&!J(n))for(const r in n){const e=n[r];(e===Number||e&&e.type===Number)&&(r in this._props&&(this._props[r]=I(this._props[r])),(o=o||Object.create(null))[te(r)]=!0)}this._numberProps=o,t&&this._resolveProps(e),this._applyStyles(i),this._update()},e=this._def.__asyncLoader;e?e().then(e=>t(e,!0)):t(this._def)}_resolveProps(e){var e=e["props"],t=J(e)?e:Object.keys(e||{});for(const n of Object.keys(this))"_"!==n[0]&&t.includes(n)&&this._setProp(n,this[n],!0,!1);for(const i of t.map(te))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(e){this._setProp(i,e)}})}_setAttr(e){let t=this.getAttribute(e);e=te(e);this._numberProps&&this._numberProps[e]&&(t=I(t)),this._setProp(e,t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,n=!0,i=!0){t!==this._props[e]&&(this._props[e]=t,i&&this._instance&&this._update(),n)&&(!0===t?this.setAttribute(ne(e),""):"string"==typeof t||"number"==typeof t?this.setAttribute(ne(e),t+""):t||this.removeAttribute(ne(e)))}_update(){bs(this._createVNode(),this.shadowRoot)}_createVNode(){var e=ce(this._def,D({},this._props));return this._instance||(e.ce=e=>{(this._instance=e).isCE=!0;const n=(e,t)=>{this.dispatchEvent(new CustomEvent(e,{detail:t}))};e.emit=(e,...t)=>{n(e,t),ne(e)!==e&&n(ne(e),t)};let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof Hr){e.parent=t._instance,e.provides=t._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(e=>{var t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t)})}}function zr(e,t){if(1===e.nodeType){var n=e.style;for(const e in t)n.setProperty("--"+e,t[e])}}const Ur=new WeakMap,qr=new WeakMap,Yr=Symbol("_moveCb"),Gr=Symbol("_enterCb"),Kr={name:"TransitionGroup",props:D({},mr,{tag:String,moveClass:String}),setup(n,{slots:i}){const r=Lo(),o=zn();let s,a;return fi(()=>{if(s.length){const o=n.moveClass||`${n.name||"v"}-move`;var e;!function(e,t,n){const i=e.cloneNode(),o=e[ur];o&&o.forEach(e=>{e.split(/\s+/).forEach(e=>e&&i.classList.remove(e))}),n.split(/\s+/).forEach(e=>e&&i.classList.add(e)),i.style.display="none";e=1===t.nodeType?t:t.parentNode,e.appendChild(i),n=Cr(i).hasTransform;return e.removeChild(i),n}(s[0].el,r.vnode.el,o)||(s.forEach(Xr),s.forEach(Jr),e=s.filter(Zr),Mr(),e.forEach(e=>{const t=e.el,n=t.style,i=(Rr(t,o),n.transform=n.webkitTransform=n.transitionDuration="",t[Yr]=e=>{e&&e.target!==t||e&&!/transform$/.test(e.propertyName)||(t.removeEventListener("transitionend",i),t[Yr]=null,yr(t,o))});t.addEventListener("transitionend",i)}))}}),()=>{var e=oe(n),t=pr(e),e=e.tag||le;s=a,a=i.default?Jn(i.default()):[];for(let e=0;e<a.length;e++){const i=a[e];null!=i.key&&Xn(i,Gn(i,t,o,r))}if(s)for(let e=0;e<s.length;e++){const i=s[e];Xn(i,Gn(i,t,o,r)),Ur.set(i,i.el.getBoundingClientRect())}return ce(e,null,a)}}},$r=Kr;function Xr(e){e=e.el;e[Yr]&&e[Yr](),e[Gr]&&e[Gr]()}function Jr(e){qr.set(e,e.el.getBoundingClientRect())}function Zr(e){const t=Ur.get(e),n=qr.get(e),i=t.left-n.left,o=t.top-n.top;if(i||o){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${i}px,${o}px)`,t.transitionDuration="0s",e}}const Qr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return J(t)?e=>Re(t,e):t};function es(e){e.target.composing=!0}function ts(e){e=e.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const d=Symbol("_assign"),ns={created(t,{modifiers:{lazy:e,trim:n,number:i}},o){t[d]=Qr(o);const r=i||o.props&&"number"===o.props.type;Dr(t,e?"change":"input",e=>{if(!e.target.composing){let e=t.value;n&&(e=e.trim()),r&&(e=ve(e)),t[d](e)}}),n&&Dr(t,"change",()=>{t.value=t.value.trim()}),e||(Dr(t,"compositionstart",es),Dr(t,"compositionend",ts),Dr(t,"change",ts))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:o}},r){if(e[d]=Qr(r),!e.composing){r=null==t?"":t;if((o||"number"===e.type?ve(e.value):e.value)!==r){if(document.activeElement===e&&"range"!==e.type){if(n)return;if(i&&e.value.trim()===r)return}e.value=r}}}},is={deep:!0,created(r,e,t){r[d]=Qr(t),Dr(r,"change",()=>{const e=r._modelValue,t=ls(r),n=r.checked,i=r[d];if(J(e)){const r=$(e,t),o=-1!==r;if(n&&!o)i(e.concat(t));else if(!n&&o){const t=[...e];t.splice(r,1),i(t)}}else if(f(e)){const r=new Set(e);n?r.add(t):r.delete(t),i(r)}else i(us(r,n))})},mounted:os,beforeUpdate(e,t,n){e[d]=Qr(n),os(e,t,n)}};function os(e,{value:t,oldValue:n},i){e._modelValue=t,J(t)?e.checked=-1<$(t,i.props.value):f(t)?e.checked=t.has(i.props.value):t!==n&&(e.checked=K(t,us(e,!0)))}const rs={created(e,{value:t},n){e.checked=K(t,n.props.value),e[d]=Qr(n),Dr(e,"change",()=>{e[d](ls(e))})},beforeUpdate(e,{value:t,oldValue:n},i){e[d]=Qr(i),t!==n&&(e.checked=K(t,i.props.value))}},ss={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const o=f(e);Dr(t,"change",()=>{var e=Array.prototype.filter.call(t.options,e=>e.selected).map(e=>n?ve(ls(e)):ls(e));t[d](t.multiple?o?new Set(e):e:e[0])}),t[d]=Qr(i)},mounted(e,{value:t}){as(e,t)},beforeUpdate(e,t,n){e[d]=Qr(n)},updated(e,{value:t}){as(e,t)}};function as(n,i){var o=n.multiple;if(!o||J(i)||f(i)){for(let e=0,t=n.options.length;e<t;e++){var r=n.options[e],s=ls(r);if(o)r.selected=J(i)?-1<$(i,s):i.has(s);else if(K(ls(r),i))return n.selectedIndex!==e&&(n.selectedIndex=e)}o||-1===n.selectedIndex||(n.selectedIndex=-1)}}function ls(e){return"_value"in e?e._value:e.value}function us(e,t){var n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}var ds={created(e,t,n){cs(e,t,n,null,"created")},mounted(e,t,n){cs(e,t,n,null,"mounted")},beforeUpdate(e,t,n,i){cs(e,t,n,i,"beforeUpdate")},updated(e,t,n,i){cs(e,t,n,i,"updated")}};function cs(e,t,n,i,o){o=function(e,t){switch(e){case"SELECT":return ss;case"TEXTAREA":return ns;default:switch(t){case"checkbox":return is;case"radio":return rs;default:return ns}}}(e.tagName,n.props&&n.props.type)[o];o&&o(e,t,n,i)}const ms=["ctrl","shift","alt","meta"],hs={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(t,n)=>ms.some(e=>t[e+"Key"]&&!n.includes(e))},fs={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ps=D({patchProp:(e,t,n,i,o=!1,r,s,a,l)=>{if("class"===t)p=i,m=o,g=(f=e)[ur],null==(p=g?(p?[p,...g]:[...g]).join(" "):p)?f.removeAttribute("class"):m?f.setAttribute("class",p):f.className=p;else if("style"===t){var u=e,d=(g=n,i),c=u.style,m=Q(d);if(d&&!m){if(g&&!Q(g))for(const u in g)null==d[u]&&Fr(c,u,"");for(const u in d)Fr(c,u,d[u])}else{f=c.display;m?g!==d&&(c.cssText=d):g&&u.removeAttribute("style"),Or in u&&(c.display=f)}}else if(k(t))S(t)||Er(e,t,0,i,s);else if("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n){if(o)return"innerHTML"===t||"textContent"===t||t in e&&Lr(t)&&Z(n);if("spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&"form"!==t&&!("list"===t&&"INPUT"===e.tagName||"type"===t&&"TEXTAREA"===e.tagName)){if("width"!==t&&"height"!==t)return(!Lr(t)||!Q(n))&&t in e;{const t=e.tagName;return"IMG"!==t&&"VIDEO"!==t&&"CANVAS"!==t&&"SOURCE"!==t}}}(e,t,i))(function(e,t,n,i){if("innerHTML"===t||"textContent"===t)return i&&l(i,s,a),e[t]=null==n?"":n;var o=e.tagName;if("value"===t&&"PROGRESS"!==o&&!o.includes("-")){const i=null==(e._value=n)?"":n;return("OPTION"===o?e.getAttribute("value"):e.value)!==i&&(e.value=i),null==n&&e.removeAttribute(t)}let r=!1;if(""===n||null==n){const i=typeof e[t];"boolean"==i?n=G(n):null==n&&"string"==i?(n="",r=!0):"number"==i&&(n=0,r=!0)}try{e[t]=n}catch(e){}r&&e.removeAttribute(t)})(e,t,i,r);else{"true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),p=e,n=t,u=i;var h=o;if(h&&n.startsWith("xlink:"))null==u?p.removeAttributeNS(Ar,n.slice(6,n.length)):p.setAttributeNS(Ar,n,u);else{const h=Y(n);null==u||h&&!G(u)?p.removeAttribute(n):p.setAttribute(n,h?"":u)}}var f,p,m,g}},sr);let gs,Rs=!1;function ys(){return gs=gs||so(ps)}function vs(){return gs=Rs?gs:ao(ps),Rs=!0,gs}const bs=(...e)=>{ys().render(...e)},Ss=(...e)=>{vs().hydrate(...e)};function Cs(e){return Q(e)?document.querySelector(e):e}var ws=A;return i.BaseTransition=qn,i.BaseTransitionPropsValidators=Un,i.Comment=ue,i.EffectScope=Ce,i.Fragment=le,i.KeepAlive=ni,i.ReactiveEffect=De,i.Static=bo,i.Suspense=kn,i.Teleport=Ro,i.Text=vo,i.Transition=dr,i.TransitionGroup=$r,i.VueElement=Hr,i.assertNumber=function(e,t){},i.callWithAsyncErrorHandling=re,i.callWithErrorHandling=$t,i.camelize=te,i.capitalize=E,i.cloneVNode=b,i.compatUtils=null,i.compile=()=>{},i.computed=Qo,i.createApp=(...e)=>{const n=ys().createApp(...e),i=n["mount"];return n.mount=e=>{var t,e=Cs(e);if(e)return t=n._component,Z(t)||t.render||t.template||(t.template=e.innerHTML),e.innerHTML="",t=i(e,!1,e instanceof SVGElement),e instanceof Element&&(e.removeAttribute("v-cloak"),e.setAttribute("data-v-app","")),t},n},i.createBlock=xo,i.createCommentVNode=function(e="",t=!1){return(t?(Co(),xo):ce)(ue,null,e)},i.createElementBlock=function(e,t,n,i,o,r){return Oo(To(e,t,n,i,o,r,!0))},i.createElementVNode=To,i.createHydrationRenderer=ao,i.createPropsRestProxy=function(e,t){var n={};for(const i in e)t.includes(i)||Object.defineProperty(n,i,{enumerable:!0,get:()=>e[i]});return n},i.createRenderer=so,i.createSSRApp=(...e)=>{const t=vs().createApp(...e),n=t["mount"];return t.mount=e=>{e=Cs(e);if(e)return n(e,!0,e instanceof SVGElement)},t},i.createSlots=function(t,n){for(let e=0;e<n.length;e++){const i=n[e];if(J(i))for(let e=0;e<i.length;e++)t[i[e].name]=i[e].fn;else i&&(t[i.name]=i.key?(...e)=>{e=i.fn(...e);return e&&(e.key=i.key),e}:i.fn)}return t},i.createStaticVNode=function(e,t){e=ce(bo,null,e);return e.staticCount=t,e},i.createTextVNode=Do,i.createVNode=ce,i.customRef=function(e){return new Ut(e)},i.defineAsyncComponent=function(e){const{loader:n,loadingComponent:r,errorComponent:s,delay:a=200,timeout:l,suspensible:u=!0,onError:i}=e=Z(e)?{loader:e}:e;let d,c=null,o=0;const m=()=>{let t;return c||(t=c=n().catch(n=>{if(n=n instanceof Error?n:new Error(String(n)),i)return new Promise((e,t)=>{i(n,()=>e((o++,c=null,m())),()=>t(n),o+1)});throw n}).then(e=>t!==c&&c?c:(e&&(e.__esModule||"Module"===e[Symbol.toStringTag])&&(e=e.default),d=e)))};return Zn({name:"AsyncComponentWrapper",__asyncLoader:m,get __asyncResolved(){return d},setup(){const t=R;if(d)return()=>ei(d,t);const n=e=>{c=null,Xt(e,t,13,!s)};if(u&&t.suspense)return m().then(e=>()=>ei(e,t)).catch(e=>(n(e),()=>s?ce(s,{error:e}):null));const i=It(!1),o=It(),e=It(!!a);return a&&setTimeout(()=>{e.value=!1},a),null!=l&&setTimeout(()=>{var e;i.value||o.value||(e=new Error(`Async component timed out after ${l}ms.`),n(e),o.value=e)},l),m().then(()=>{i.value=!0,t.parent&&ti(t.parent.vnode)&&sn(t.parent.update)}).catch(e=>{n(e),o.value=e}),()=>i.value&&d?ei(d,t):o.value&&s?ce(s,{error:o.value}):r&&!e.value?ce(r):void 0}})},i.defineComponent=Zn,i.defineCustomElement=jr,i.defineEmits=function(){return null},i.defineExpose=function(e){},i.defineModel=function(){},i.defineOptions=function(e){},i.defineProps=function(){return null},i.defineSSRCustomElement=e=>jr(e,Ss),i.defineSlots=function(){return null},i.effect=function(e,t){e.effect instanceof De&&(e=e.effect.fn);e=new De(e),t&&(D(e,t),t.scope)&&we(e,t.scope),t&&t.lazy||e.run(),t=e.run.bind(e);return t.effect=e,t},i.effectScope=function(e){return new Ce(e)},i.getCurrentInstance=Lo,i.getCurrentScope=_e,i.getTransitionRawChildren=Jn,i.guardReactiveProps=Ao,i.h=er,i.handleError=Xt,i.hasInjectionContext=function(){return!!(R||l||Li)},i.hydrate=Ss,i.initCustomFormatter=function(){},i.initDirectivesForSSR=ws,i.inject=Hi,i.isMemoSame=nr,i.isProxy=Tt,i.isReactive=kt,i.isReadonly=Ft,i.isRef=N,i.isRuntimeOnly=()=>!qo,i.isShallow=Wt,i.isVNode=Bo,i.markRaw=At,i.mergeDefaults=function(e,t){var n=xi(e);for(const i in t)if(!i.startsWith("__skip")){let e=n[i];e?J(e)||Z(e)?e=n[i]={type:e,default:t[i]}:e.default=t[i]:null===e&&(e=n[i]={default:t[i]}),e&&t["__skip_"+i]&&(e.skipFactory=!0)}return n},i.mergeModels=function(e,t){return e&&t?J(e)&&J(t)?e.concat(t):D({},xi(e),xi(t)):e||t},i.mergeProps=Po,i.nextTick=rn,i.normalizeClass=q,i.normalizeProps=function(e){var t,n;return e?({class:t,style:n}=e,t&&!Q(t)&&(e.class=q(t)),n&&(e.style=j(n)),e):null},i.normalizeStyle=j,i.onActivated=oi,i.onBeforeMount=ci,i.onBeforeUnmount=pi,i.onBeforeUpdate=hi,i.onDeactivated=ri,i.onErrorCaptured=bi,i.onMounted=mi,i.onRenderTracked=vi,i.onRenderTriggered=yi,i.onScopeDispose=function(e){g&&g.cleanups.push(e)},i.onServerPrefetch=Ri,i.onUnmounted=gi,i.onUpdated=fi,i.openBlock=Co,i.popScopeId=function(){gn=null},i.provide=ji,i.proxyRefs=zt,i.pushScopeId=function(e){gn=e},i.queuePostFlushCb=ln,i.reactive=Mt,i.readonly=xt,i.ref=It,i.registerRuntimeCompiler=function(e){qo=e,Yo=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Mi))}},i.render=bs,i.renderList=function(n,i,o,e){let r;const s=o&&o[e];if(J(n)||Q(n)){r=new Array(n.length);for(let e=0,t=n.length;e<t;e++)r[e]=i(n[e],e,void 0,s&&s[e])}else if("number"==typeof n){r=new Array(n);for(let e=0;e<n;e++)r[e]=i(e+1,e,void 0,s&&s[e])}else if(ee(n))if(n[Symbol.iterator])r=Array.from(n,(e,t)=>i(e,t,void 0,s&&s[t]));else{const o=Object.keys(n);r=new Array(o.length);for(let e=0,t=o.length;e<t;e++){var a=o[e];r[e]=i(n[a],a,e,s&&s[e])}}else r=[];return o&&(o[e]=r),r},i.renderSlot=function(e,t,n={},i,o){var r,s;return l.isCE||l.parent&&Qn(l.parent)&&l.parent.isCE?("default"!==t&&(n.name=t),ce("slot",n,i&&i())):((r=e[t])&&r._c&&(r._d=!1),Co(),s=r&&function t(e){return e.some(e=>!Bo(e)||e.type!==ue&&!(e.type===le&&!t(e.children)))?e:null}(r(n)),n=xo(le,{key:n.key||s&&s.key||"_"+t},s||(i?i():[]),s&&1===e._?64:-2),!o&&n.scopeId&&(n.slotScopeIds=[n.scopeId+"-s"]),r&&r._c&&(r._d=!0),n)},i.resolveComponent=function(e,t){return On(_n,e,0,t)||e},i.resolveDirective=function(e){return On("directives",e)},i.resolveDynamicComponent=function(e){return Q(e)?On(_n,e)||e:e||Mn},i.resolveFilter=null,i.resolveTransitionHooks=Gn,i.setBlockTracking=Mo,i.setDevtoolsHook=function t(e,n){i.devtools=e,i.devtools?(i.devtools.enabled=!0,fn.forEach(({event:e,args:t})=>i.devtools.emit(e,...t)),fn=[]):"undefined"==typeof window||!window.HTMLElement||null!=(e=null==(e=window.navigator)?void 0:e.userAgent)&&e.includes("jsdom")?fn=[]:((n.__VUE_DEVTOOLS_HOOK_REPLAY__=n.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(e=>{t(e,n)}),setTimeout(()=>{i.devtools||(n.__VUE_DEVTOOLS_HOOK_REPLAY__=null,fn=[])},3e3))},i.setTransitionHooks=Xn,i.shallowReactive=Ot,i.shallowReadonly=function(e){return Bt(e,!0,Qe,bt,_t)},i.shallowRef=function(e){return Vt(e,!0)},i.ssrContextKey=tr,i.ssrUtils=null,i.stop=function(e){e.effect.stop()},i.toDisplayString=e=>Q(e)?e:null==e?"":J(e)||ee(e)&&(e.toString===C||!Z(e.toString))?JSON.stringify(e,Se,2):String(e),i.toHandlerKey=ge,i.toHandlers=function(e,t){var n={};for(const i in e)n[t&&/[A-Z]/.test(i)?"on:"+i:ge(i)]=e[i];return n},i.toRaw=oe,i.toRef=function(e,t,n){return N(e)?e:Z(e)?new Yt(e):ee(e)&&1<arguments.length?Gt(e,t,n):It(e)},i.toRefs=function(e){var t=J(e)?new Array(e.length):{};for(const n in e)t[n]=Gt(e,n);return t},i.toValue=function(e){return Z(e)?e():jt(e)},i.transformVNodeArgs=function(e){},i.triggerRef=function(e){Pt(e)},i.unref=jt,i.useAttrs=function(){return Oi().attrs},i.useCssModule=function(e=0){return W},i.useCssVars=function(n){const i=Lo();if(i){const t=i.ut=(t=n(i.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${i.uid}"]`)).forEach(e=>zr(e,t))},o=()=>{var e=n(i.proxy);(function t(n,i){if(128&n.shapeFlag){const e=n.suspense;n=e.activeBranch,e.pendingBranch&&!e.isHydrating&&e.effects.push(()=>{t(e.activeBranch,i)})}for(;n.component;)n=n.component.subTree;if(1&n.shapeFlag&&n.el)zr(n.el,i);else if(n.type===le)n.children.forEach(e=>t(e,i));else if(n.type===bo){let{el:e,anchor:t}=n;for(;e&&(zr(e,i),e!==t);)e=e.nextSibling}})(i.subTree,e),t(e)};Nn(o),mi(()=>{const e=new MutationObserver(o);e.observe(i.subTree.el.parentNode,{childList:!0}),gi(()=>e.disconnect())})}},i.useModel=function(t,n,i){const o=Lo();if(i&&i.local){const i=It(t[n]);return Pn(()=>t[n],e=>i.value=e),Pn(i,e=>{e!==t[n]&&o.emit("update:"+n,e)}),i}return{__v_isRef:!0,get value(){return t[n]},set value(e){o.emit("update:"+n,e)}}},i.useSSRContext=()=>{},i.useSlots=function(){return Oi().slots},i.useTransitionState=zn,i.vModelCheckbox=is,i.vModelDynamic=ds,i.vModelRadio=rs,i.vModelSelect=ss,i.vModelText=ns,i.vShow=xr,i.version=ir,i.warn=function(e){},i.watch=Pn,i.watchEffect=function(e,t){return In(e,null,t)},i.watchPostEffect=Nn,i.watchSyncEffect=function(e,t){return In(e,null,{flush:"sync"})},i.withAsyncContext=function(e){const t=Lo();let n=e();return zo(),[n=fe(n)?n.catch(e=>{throw Ho(t),e}):n,()=>Ho(t)]},i.withCtx=yn,i.withDefaults=function(e,t){return null},i.withDirectives=function(e,r){var t=l;if(null!==t){var s=Jo(t)||t.proxy,a=e.dirs||(e.dirs=[]);for(let o=0;o<r.length;o++){let[e,t,n,i=W]=r[o];e&&((e=Z(e)?{mounted:e,updated:e}:e).deep&&Ln(t),a.push({dir:e,instance:s,value:t,oldValue:void 0,arg:n,modifiers:i}))}}return e},i.withKeys=(n,i)=>n._withKeys||(n._withKeys=e=>{if("key"in e){const t=ne(e.key);return i.some(e=>e===t||fs[e]===t)?n(e):void 0}}),i.withMemo=function(e,t,n,i){var o=n[i];return o&&nr(o,e)?o:((o=t()).memo=e.slice(),n[i]=o)},i.withModifiers=(e,i)=>e._withMods||(e._withMods=(t,...n)=>{for(let e=0;e<i.length;e++){const n=hs[i[e]];if(n&&n(t,i))return}return e(t,...n)}),i.withScopeId=e=>yn,i}({}),use=((Runtime="undefined"==typeof Runtime?{}:Runtime).rtl=function(){},Object.assign(Runtime.rtl.prototype,{}),Object.assign(Runtime.rtl,{LOG_FATAL:0,LOG_CRITICAL:2,LOG_ERROR:4,LOG_WARNING:6,LOG_INFO:8,LOG_DEBUG:10,LOG_DEBUG2:12,STATUS_PLAN:0,STATUS_DONE:1,STATUS_PROCESS:100,STATUS_FAIL:-1,ERROR_NULL:0,ERROR_OK:1,ERROR_PROCCESS:100,ERROR_FALSE:-100,ERROR_UNKNOWN:-1,ERROR_INDEX_OUT_OF_RANGE:-2,ERROR_KEY_NOT_FOUND:-3,ERROR_STOP_ITERATION:-4,ERROR_FILE_NOT_FOUND:-5,ERROR_ITEM_NOT_FOUND:-5,ERROR_OBJECT_DOES_NOT_EXISTS:-5,ERROR_OBJECT_ALLREADY_EXISTS:-6,ERROR_ASSERT:-7,ERROR_REQUEST:-8,ERROR_RESPONSE:-9,ERROR_CSRF_TOKEN:-10,ERROR_RUNTIME:-11,ERROR_VALIDATION:-12,ERROR_PARSE_SERIALIZATION_ERROR:-14,ERROR_ASSIGN_DATA_STRUCT_VALUE:-15,ERROR_AUTH:-16,ERROR_DUPLICATE:-17,ERROR_API_NOT_FOUND:-18,ERROR_API_WRONG_FORMAT:-19,ERROR_API_WRONG_APP_NAME:-20,ERROR_API_ERROR:-21,ERROR_CURL_ERROR:-22,ERROR_FATAL:-99,ERROR_HTTP_CONTINUE:-100,ERROR_HTTP_SWITCH:-101,ERROR_HTTP_PROCESSING:-102,ERROR_HTTP_OK:-200,ERROR_HTTP_BAD_GATEWAY:-502,ERROR_USER:-1e4,_memorize_cache:null,_memorize_not_found:null,_memorize_hkey:null,_global_context:null,defClass:function(e){null==Runtime.rtl._classes&&(Runtime.rtl._classes={}),Runtime.rtl._classes[e.getClassName()]=e},defModule:function(e){var e=e(this.require),t=e.exports,e=e.module_name;null!=e&&(Runtime.rtl._modules[e]=t)},require:function(e){if(null==Runtime.rtl._modules[e])throw new Runtime.Exceptions.ItemNotFound(e,"Module");return Runtime.rtl._modules[e]},find_class:function(e){return e instanceof Function?e:(null!=window[e]?window:Runtime.rtl._classes)[e]},is_instanceof:function(e,t){return null!=e&&(this.isString(e)?e==t||0<=this.getParents(e).indexOf(t):null!=(t=this.find_class(t))&&t.prototype.isPrototypeOf(e))},is_implements:function(e,t){return this.class_implements(e.constructor.getClassName(),t)},class_implements:function(e,t){for(var n=this.find_class(e),i=this.find_class(t);null!=n;){if(n.__implements__&&-1<n.__implements__.indexOf(i))return!0;n=n.__proto__}return!1},getInterfaces:function(e){return Runtime.Vector.from(this.find_class(e).__implements__)},class_exists:function(e){e=this.find_class(e);return!!this.exists(e)},get_class_name:function(e){return this.isString(e)?e:e.constructor.getClassName()},method_exists:function(e,t){return"object"==typeof e?null!=e[t]:(e=this.find_class(e),!!this.exists(e)&&!!this.exists(e[t]))},newInstance:function(e,t){null==t&&(t=null);var n=this.find_class(e);if(this.exists(n)&&n instanceof Function)return(t=(t=null==t?[]:t.toArray()).slice()).unshift(null),new(Function.prototype.bind.apply(n,t));throw new Runtime.Exceptions.ItemNotFound(e,"class name")},method:function(e,t){return new Runtime.Callback(e,t)},apply:function(t,n){if(n=null==(n=null==n?null:n)?[]:Array.prototype.slice.call(n),t instanceof Runtime.Callback){let e=t.obj;var i=t.name;if("string"==typeof e&&(e=this.find_class(e)),this.exists(e)&&this.exists(e[i]))return Runtime.rtl.apply(e[t.name].bind(e),n);throw new Runtime.Exceptions.RuntimeException("Method '"+t.name+"' not found in "+this.get_class_name(t.obj))}return t.apply(null,n)},runAsync:function(e,t){null==t&&(t=null),(async()=>{try{await Runtime.rtl.apply(e,t)}catch(e){Runtime.io.print_error(e)}})()},attr:function(e,t,n){var i,o,r,s;return null==n&&(n=null),null!==t&&(i=use("Runtime.Collection"),s=use("Runtime.Dict"),o=use("Runtime.BaseStruct"),use("Runtime.BaseObject"),null==n&&(n=null),null!=e)&&(Array.isArray(t)&&null==t.count&&(t=i.from(t)),(t=this.isScalarValue(t)?i.from([t]):t)instanceof i)?0==t.count()?e:"string"==typeof e?e.charAt(t[0]):(r=t.first(),t=t.slice(1),s=e instanceof s||e instanceof i||e instanceof o?e.get(r,n):e[r]||n,this.attr(s,t,n)):n},setAttr:function(e,t,n){var i;return null==t?e:(i=use("Runtime.Vector"),"string"==typeof t?t=i.from([t]):Array.isArray(t)&&null==t.count&&(t=i.from(t)),(i=(e,t,n,i)=>{if(0==e.count())return n;null==t&&(t=Runtime.Map.from({}));var o,r,s=null,a=e.first();return e.removeItem(0),t instanceof Runtime.BaseStruct?(r=i(e,t.get(a,null),n,i),o=(new Runtime.Map).set(a,r),s=t.copy(o)):t instanceof Runtime.BaseObject?(r=i(e,t.takeValue(a,null),n,i),(s=t)[a]=r):t instanceof Runtime.Map?(r=i(e,t.get(a,null),n,i),t.set(a,r),s=t):t instanceof Runtime.Dict?(r=i(e,t.get(a,null),n,i),s=t.setIm(a,r)):t instanceof Runtime.Vector?(r=i(e,t.get(a,null),n,i),t.set(a,r),s=t):t instanceof Runtime.Collection&&(r=i(e,t.get(a,null),n,i),s=t.setIm(a,r)),s})(t,e,n,i))},m_to:function(t,n){return null==n&&(n=null),e=>new Runtime.Monad(null==e.err?this.convert(e.val,t,n):n)},m_def:function(t){return null==t&&(t=null),e=>null!=e.err||null===e.val?new Runtime.Monad(t):e},convert:function(e,t,n){return null==n&&(n=null),null===e?n:"mixed"==t||"primitive"==t||"var"==t||"fn"==t||"callback"==t?e:"bool"==t||"boolean"==t?this.toBool(e):"string"==t?this.toString(e):"int"==t?this.toInt(e):"float"==t||"double"==t?this.toFloat(e):this.is_instanceof(e,t)?e:null},to:function(e,t){t=t.e;return this.convert(e,t)},isEmpty:function(e){return!this.exists(e)||null===e||""===e||!1===e||0===e},exists:function(e){return null!=e},getType:function(e){return null==e?"null":Runtime.rtl.isString(e)?"string":Runtime.rtl.isInt(e)?"int":Runtime.rtl.isDouble(e)?"double":Runtime.rtl.isBoolean(e)?"boolean":Runtime.rtl.isCallable(e)?"fn":e instanceof Runtime.Collection?"collection":e instanceof Runtime.Dict?"dict":e instanceof Runtime.BaseObject?"object":"unknown"},isScalarValue:function(e){return null==e||!!(Runtime.rtl.isString(e)||Runtime.rtl.isInt(e)||Runtime.rtl.isDouble(e)||Runtime.rtl.isBoolean(e))},isBoolean:function(e){return!1===e||!0===e},isBool:function(e){return this.isBoolean(e)},isInt:function(e){return"number"==typeof e&&e%1==0},isDouble:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e||e instanceof String},isCallable:function(e){return e instanceof Runtime.Callback||"function"==typeof e},isPromise:function(e){return e instanceof Promise},toString:function(e){var t=use("Runtime.StringInterface");return null===e?"":"string"==typeof e?e:"number"!=typeof e&&!(e instanceof String)&&"object"==typeof e&&this.is_implements(e,t)?e.toString():""+e},toStr:function(e){return this.toString(e)},toInt:function(e){var t=parseInt(e),n=new String(t),e=new String(e);return 0==n.localeCompare(e)?t:0},toBool:function(e){if(0!=e&&"false"!=e){if(1==e||"true"==e)return!0;var t=new String(!1),e=new String(e);t.localeCompare(e)}return!1},toFloat:function(e){var t=parseFloat(e),n=new String(t),e=new String(e);return 0==n.localeCompare(e)?t:0},getParents:function(e){var t=Runtime.rtl._memorizeValue("Runtime.rtl.getParents",arguments);if(t==Runtime.rtl._memorize_not_found){for(var n=new Runtime.Vector;""!=e;){var i=new Runtime.Callback(e,"getParentClassName");if(!i.exists())break;if(""==(e=this.apply(i)))break;n.push(e)}t=n.toCollection();Runtime.rtl._memorizeSave("Runtime.rtl.getParents",arguments,t)}return t},getFields:function(e,t){var n=Runtime.rtl._memorizeValue("Runtime.rtl.getFields",arguments);if(n==Runtime.rtl._memorize_not_found){null==t&&(t=255);for(var i=new Runtime.Vector,o=e=>{var e=new Runtime.Callback(e,"getFieldsList");e.exists()&&(e=this.apply(e,Runtime.Vector.from([t])))&&i.appendItems(e)},r=(o(e),this.getParents(e)),s=0;s<r.count();s++)o(Runtime.rtl.attr(r,s));n=i.removeDuplicates().toCollection();Runtime.rtl._memorizeSave("Runtime.rtl.getFields",arguments,n)}return n},assert:function(e,t){if(!e)throw new Runtime.Exceptions.AssertException(t)},_memorizeValidHKey:function(e,t){},_memorizeClear:function(){this._memorize_cache=null},_memorizeValue:function(e,t){if(null!=this._memorize_cache&&null!=this._memorize_cache[e])for(var n=this._memorize_cache[e],i=t.length,o=0;o<i;o++){var r=t[o],s=null;if(null!=r&&"object"==typeof r){if(null==r.__uq__)return this._memorize_not_found;s=r.__uq__}else s="string"==typeof r?"__s_"+r:r;if(o==i-1)return null==n[s]?this._memorize_not_found:n[s];null==n[s]&&(n[s]={}),n=n[s]}return this._memorize_not_found},_memorizeSave:function(e,t,n){null==this._memorize_cache&&(this._memorize_cache={}),null==this._memorize_cache[e]&&(this._memorize_cache[e]={});for(var i=this._memorize_cache[e],o=t.length,r=0;r<o;r++){var s=t[r],a=null,a=null!=s&&"object"==typeof s?null!=s.__uq__?s.__uq__:null:"string"==typeof s?"__s_"+s:s;r==o-1?i[a]=n:(null==i[a]&&(i[a]={}),i=i[a])}},sleep:async function(n){await new Promise((e,t)=>setTimeout(e,n))},unique:function(e){return(e=null==(e=null==e?!0:e)||e)?""+(new Date).getTime()+Math.floor(899999*Math.random()+1e5):Symbol()},time:function(){return Math.round((new Date).getTime()/1e3)},utime:function(){return 1e3*(new Date).getTime()},json_encode:function(e){var t=new Runtime.Serializer;return t.setFlag(Runtime.Serializer.ALLOW_CLASS_NAME),t.json_encode(e)},json_decode:function(e){var t=new Runtime.Serializer;return t.removeFlag(Runtime.Serializer.ALLOW_CLASS_NAME),t.json_decode(e)},getContext:function(){return Runtime.rtl._global_context||new Runtime.Context},setContext:function(e){use("Runtime.rtl")._global_context=e,window.global_context=e},createContext:async function(e){e=Runtime.Context.create(e);return this.setContext(e),await e.init(),Promise.resolve(e)},runApp:async function(e,t,n){(n=null==(n=null==n?null:n)?Runtime.Map.from({}):n).set("entry_point",e),n.set("modules",t);try{var i=await Runtime.rtl.createContext(n);await i.start(i),await i.run(i)}catch(e){console.log("[0;31m"+e.stack+"[0m\n")}return Promise.resolve(0)},getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.rtl"},getParentClassName:function(){return""},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.rtl),window["Runtime.rtl"]=Runtime.rtl,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.rtl),function(e){return Runtime.rtl.find_class(e)});"undefined"!=typeof Runtime&&void 0!==Runtime.rtl&&(Runtime.rtl._classes={},Runtime.rtl._modules={},Runtime.rtl._memorize_not_found={s:"memorize_key_not_found",id:Symbol()}),(Runtime="undefined"==typeof Runtime?{}:Runtime).lib=function(){},Object.assign(Runtime.lib.prototype,{}),Object.assign(Runtime.lib,{isInstance:function(t){return e=>Runtime.rtl.is_instanceof(e,t)},isImplements:function(t){return e=>Runtime.rtl.is_implements(e,t)},classImplements:function(t){return e=>Runtime.rtl.class_implements(e,t)},createStruct:function(t){return e=>Runtime.rtl.newInstance(t,Runtime.Vector.from([e]))},equal:function(t){return e=>e==t},equalNot:function(t){return e=>e!=t},equalAttr:function(t,n){return e=>null!=e&&Runtime.rtl.attr(e,t)==n},equalNotAttr:function(t,n){return e=>null!=e&&Runtime.rtl.attr(e,t)!=n},equalAttrNot:function(e,t){return this.equalNotAttr(e,t)},equalAttrs:function(o){return e=>{for(var t=o.keys(),n=0;n<t.count();n++){var i=Runtime.rtl.attr(t,n);if(Runtime.rtl.attr(o,i)!=Runtime.rtl.attr(e,i))return!1}return!0}},equalMethod:function(t,n){return e=>{return null!=e&&Runtime.rtl.method(e,t)()==n}},get:function(t,n){return e=>Runtime.rtl.attr(e,Runtime.Vector.from([t]),n)},set:function(t,n){return e=>Runtime.rtl.setAttr(e,Runtime.Vector.from([t]),n)},attr:function(t,n){return null==n&&(n=null),e=>Runtime.rtl.attr(e,t,n)},setAttr:function(t,n){return e=>Runtime.rtl.setAttr(e,t,n)},getMaxIdFromItems:function(e,t){return e.reduce((e,t)=>t.id>e?t.id:e,t=null==t?0:t)},copy:function(t){return e=>e.copy(t)},takeDict:function(t){return e=>e.takeDict(t)},map:function(t){return e=>e.map(t)},filter:function(t){return e=>e.filter(t)},intersect:function(t){return e=>e.intersect(t)},sort:function(t){return e=>e.sortIm(t)},transition:function(t){return e=>e.transition(t)},concat:function(t){return e=>e.concat(t)},sortAsc:function(e,t){return t<e?1:e<t?-1:0},sortDesc:function(e,t){return t<e?-1:e<t?1:0},sortAttr:function(n,i){return(e,t)=>{e=Runtime.rtl.attr(e,n),t=Runtime.rtl.attr(t,n);return"asc"==i?t<e?1:e<t?-1:0:"desc"==i?t<e?-1:e<t?1:0:i(e,t)}},to:function(t,n){return null==n&&(n=null),e=>new Runtime.Monad(null==e.err?Runtime.rtl.convert(e.value(),t,n):n)},default:function(t){return null==t&&(t=null),e=>null!=e.err||null===e.val?new Runtime.Monad(t):e},newValue:function(t,n){return null==t&&(t=null),null==n&&(n=!1),e=>1==n||null==e.err?new Runtime.Monad(t):e},clearError:function(){return e=>new Runtime.Monad(e.val)},monad:function(e){return e},method:function(t){return e=>Runtime.rtl.method(e,t)},applyMethod:function(t,n){return null==n&&(n=null),e=>{e=Runtime.rtl.method(e,t);return Runtime.rtl.apply(e,n)}},applyMethodAsync:function(t,n){return null==n&&(n=null),async e=>{e=Runtime.rtl.method(e,t);return Promise.resolve(await Runtime.rtl.applyAsync(e,n))}},apply:function(t){return e=>t(e)},applyAsync:function(t){return async e=>t(e)},log:function(t){return null==t&&(t=""),e=>(""==t?console.log(e):console.log(t),e)},or:function(n){return e=>{for(var t=0;t<n.count();t++)if(Runtime.rtl.attr(n,t)(e))return!0;return!1}},and:function(n){return e=>{for(var t=0;t<n.count();t++)if(!Runtime.rtl.attr(n,t)(e))return!1;return!0}},join:function(t){return e=>Runtime.rs.join(t,e)},getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.lib"},getParentClassName:function(){return""},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.lib),window["Runtime.lib"]=Runtime.lib,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.lib),(Runtime="undefined"==typeof Runtime?{}:Runtime).io=function(){},Object.assign(Runtime.io.prototype,{}),Object.assign(Runtime.io,{print:function(e,t,n){null==t&&(t=!0),null==n&&(n=""),Runtime.rtl.getContext().provider("output").print(e,t,n)},print_error:function(e){Runtime.rtl.getContext().provider("output").print_error(e)},color:function(e,t){return Runtime.rtl.getContext().provider("output").color(e,t)},log:function(e,t){Runtime.rtl.getContext().provider("log").log(e,t)},input:function(){return Runtime.rtl.getContext().provider("input").input()},getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.io"},getParentClassName:function(){return""},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.io),window["Runtime.io"]=Runtime.io,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.io),(Runtime="undefined"==typeof Runtime?{}:Runtime).re=function(){},Object.assign(Runtime.re.prototype,{}),Object.assign(Runtime.re,{split:function(e,t,n){null==n&&(n=-1);var i=use("Runtime.rtl"),o=use("Runtime.Vector"),r=null,e=new RegExp(e,"g"),r=i.exists(n)?t.split(e,n):t.split(e);return o.from(r)},match:function(e,t,n){return n="g"+(n=null==n?"":n),null!=t.match(new RegExp(e,n))},matchAll:function(e,t,n){n="g"+(n=null==n?"":n);var i=[],e=new RegExp(e,n);if(null==t.matchAll)for(;null!==(m=e.exec(t));)i.push(m);else i=[...t.matchAll(e)];return 0==i.length?null:Runtime.Vector.from(i.map(e=>Runtime.Vector.from(e)))},replace:function(e,t,n,i){return i="g"+(i=null==i?"":i),n.replace(new RegExp(e,i),t)},getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.re"},getParentClassName:function(){return""},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.re),window["Runtime.re"]=Runtime.re,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.re),(Runtime="undefined"==typeof Runtime?{}:Runtime).rs=function(){},Object.assign(Runtime.rs.prototype,{}),Object.assign(Runtime.rs,{strlen:function(e){return use("Runtime.rtl").toStr(e).length},substr:function(e,t,n){null==n&&(n=null);var i,o=use("Runtime.rtl"),r=use("Runtime.rs");return t<0&&(t=e.length+t),null===n?o.toStr(e).substring(t):(i=t+n,n<0&&(i=r.strlen(e)+n),o.toStr(e).substring(t,i))},charAt:function(e,t){return this.substr(e,t,1)},chr:function(e){return String.fromCharCode(e)},ord:function(e){return use("Runtime.rtl").toStr(e).charCodeAt(0)},lower:function(e){return use("Runtime.rtl").toStr(e).toLowerCase()},upper:function(e){return use("Runtime.rtl").toStr(e).toUpperCase()},replace:function(e,t,n){return n.replace(new RegExp(e,"g"),t)},str_repeat:function(e,t){if(t<=0)return"";for(var n="",i=0;i<t;i++)n+=e;return n},split:function(e,t,n){null==n&&(n=-1);var i=use("Runtime.rtl"),o=use("Runtime.Vector"),r=null;return i.exists(n)||(r=t.split(e)),r=t.split(e,n),o.from(r)},splitArr:function(e,t,n){null==n&&(n=-1);var i=use("Runtime.rtl"),o=use("Runtime.Collection"),r=null,e=new RegExp("["+e.join("")+"]","g"),r=i.exists(n)?t.split(e,n):t.split(e);return o.from(r)},join:function(e,t){return null==t?"":Array.prototype.join.call(t,e)},join_path:function(e){e=this.join("/",e),e=Runtime.re.replace("\\/+","/",e);return e=Runtime.re.replace("\\/\\.\\/","/",e),Runtime.re.replace("\\/+$","",e)},trim:function(e,t){return null==(t=null==t?"":t)&&(t=""),e=use("Runtime.rtl").toStr(e),""==t?e.trim():e.replace(new RegExp("^["+t+"]+","g"),"").replace(new RegExp("["+t+"]+$","g"),"")},pathinfo:function(e){var t=this.split(".",e).toVector(),n=this.split("/",e).toVector(),t=t.pop(),i=n.pop(),n=this.join("/",n),o=this.strlen(t),o=(0<o&&o++,this.substr(i,0,-1*o));return Runtime.Map.from({filepath:e,extension:t,basename:i,dirname:n,filename:o})},filename:function(e){var e=this.pathinfo(e),t=Runtime.rtl.attr(e,"basename"),e=Runtime.rtl.attr(e,"extension");return""!=e&&(e=0-Runtime.rs.strlen(e)-1,t=Runtime.rs.substr(t,0,e)),t},basename:function(e){e=this.pathinfo(e);return Runtime.rtl.attr(e,"basename")},extname:function(e){e=this.pathinfo(e);return Runtime.rtl.attr(e,"extension")},dirname:function(e){e=this.pathinfo(e);return Runtime.rtl.attr(e,"dirname")},nl2br:function(e){return this.replace("\n","<br/>",e)},indexOf:function(e,t,n){null==n&&(n=0);var i=use("Runtime.rtl");return i.exists(n)||(n=0),i.toStr(e).indexOf(t)},url_encode:function(e){return encodeURIComponent(e)},htmlEscape:function(e){var t={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;","`":"&#x60;","=":"&#x3D;"};return new String(e).replace(/[<>&"'`=]/g,function(e){return t[e]})},escapeHtml:function(e){return this.htmlEscape(e)},base64_encode:function(e){return window.btoa(window.unescape(window.encodeURIComponent(e)))},base64_decode:function(e){return window.decodeURIComponent(window.escape(window.atob(e)))},base64_encode_url:function(e){return e=this.base64_encode(e).replace(new RegExp("\\+","g"),"-").replace(new RegExp("\\/","g"),"_").replace(new RegExp("=","g"),"")},base64_decode_url:function(e){var t=4-e.length%4;return t<4&&0<t&&(e+="=".repeat(t)),e=e.replace(new RegExp("-","g"),"+").replace(new RegExp("_","g"),"/"),this.base64_decode(e)},parse_url:function(e){var t,n=this.indexOf(e,"#"),i=(e=0<=n?this.substr(e,0,n):e,t=0<=n?this.substr(e,n+1):"",0<=(n=this.indexOf(e,"?"))?this.substr(e,0,n):e),e=0<=n?this.substr(e,n+1):"",n=this.split("&",e).filter(e=>""!=e).transition(e=>{e=this.split("=",e);return Runtime.Vector.from([Runtime.rtl.attr(e,1),Runtime.rtl.attr(e,0)])});return Runtime.Map.from({uri:i,query:e,query_arr:n,hash:t})},url_get_add:function(e,n,i){var t=this.parse_url(e),o=Runtime.rtl.attr(t,"uri"),t=Runtime.rtl.attr(t,"query"),r=!1,s=(s=this.split("&",t)).map(e=>{var t=this.split("=",e);return Runtime.rtl.attr(t,0)==n?(r=!0,""!=i?n+Runtime.rtl.toStr("=")+Runtime.rtl.toStr(this.htmlEscape(i)):""):e}).filter(e=>""!=e);return r||""==i||s.push(n+Runtime.rtl.toStr("=")+Runtime.rtl.toStr(this.htmlEscape(i))),e=o,e=""!=(t=this.join("&",s))?e+Runtime.rtl.toStr("?")+Runtime.rtl.toStr(t):e},uid:function(){},time_uid:function(){},hash:function(e,t,n,i){null==t&&(t=!0),null==n&&(n=257),null==i&&(i=1000000007);for(var o=0,r=Runtime.rs.strlen(e),s=0;s<r;s++)o=(o*n+Runtime.rs.ord(Runtime.rs.substr(e,s,1)))%i;return o=t?o*n%i:o},toHex:function(e){for(var t="";0<=e;){var n=15&e;if(e>>=4,t=Runtime.rs.substr("0123456789abcdef",n,1)+Runtime.rtl.toStr(t),0==e)break}return t},hexdec:function(e){return parseInt(e,16)},random_string:function(e,t){null==e&&(e=8),null==t&&(t="aun");for(var n="",i="",o=Runtime.rs.strlen(t),r=0;r<o;r++){var s=Runtime.rtl.attr(t,r);"a"==s&&(n+=Runtime.rtl.toStr("qwertyuiopasdfghjklzxcvbnm")),"u"==s?n+=Runtime.rtl.toStr("QWERTYUIOPASDFGHJKLZXCVBNM"):"n"==s?n+=Runtime.rtl.toStr("0123456789"):"s"==s&&(n+=Runtime.rtl.toStr("!@#$%^&*()-_+='\":;'.,<>?/|~"))}for(var a=Runtime.rs.strlen(n),r=0;r<e;r++){var l=Runtime.Math.random(0,a-1);i+=Runtime.rtl.toStr(Runtime.rtl.attr(n,l))}return i},format:function(n,e){return null!=(e=null==e?null:e)&&e.each((e,t)=>{n=Runtime.rs.replace("%"+Runtime.rtl.toStr(t)+Runtime.rtl.toStr("%"),e,n)}),n},getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.rs"},getParentClassName:function(){return""},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.rs),window["Runtime.rs"]=Runtime.rs,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.rs),(Runtime="undefined"==typeof(Runtime="undefined"==typeof Runtime?{}:Runtime)?{}:Runtime)._Collection=function(){if(Array.call(this),0<arguments.length)for(var e=0;e<arguments.length;e++)Array.prototype.push.call(this,arguments[e]);this.__uq__=Symbol()},Runtime._Collection.prototype=Object.create(Array.prototype),Runtime._Collection.prototype.constructor=Runtime._Collection,Object.assign(Runtime._Collection.prototype,{toArray:function(){return Array.prototype.slice.call(this)},toStr:function(e){return use("Runtime.rtl").toStr(e)}}),Object.assign(Runtime._Collection,{from:function(e){var t;this.Instance();if(null==e)return this.Instance();if(e instanceof Array)return t=e.slice(),Object.setPrototypeOf(t,this.prototype),t;var n=this.Instance();if(e instanceof Int8Array||e instanceof Uint8Array||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)for(var i=0;i<e.length;i++)Array.prototype.push.call(n,e[i]);return n},getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime._Collection"},getParentClassName:function(){return""}}),Runtime.Collection=function(){Runtime._Collection.apply(this,arguments)},Runtime.Collection.prototype=Object.create(Runtime._Collection.prototype),Runtime.Collection.prototype.constructor=Runtime.Collection,Object.assign(Runtime.Collection.prototype,{cp:function(){var e=Array.prototype.slice.call(this);return Object.setPrototypeOf(e,this.constructor.prototype),e},copy:function(){return this.cp()},toCollection:function(){var e=Array.prototype.slice.call(this);return Object.setPrototypeOf(e,Runtime.Collection.prototype),e},toVector:function(){var e=Array.prototype.slice.call(this);return Object.setPrototypeOf(e,use("Runtime.Vector").prototype),e},get:function(e,t){return null==t&&(t=null),e<0||e>=this.length?t:this[e]},item:function(e){if(e<0||e>=this.length)throw new(use("Runtime.Exceptions.IndexOutOfRange"))(e);return this[e]},count:function(){return this.length},indexOf:function(e){for(var t=0;t<this.count();t++)if(this[t]==e)return t;return-1},indexOfRange:function(e,t,n){e=Array.prototype.indexOf.call(this,e,t);return-1==e||n<e?-1:e},first:function(e){return null==e&&(e=null),0==this.length?e:this[0]},last:function(e,t){return null==e&&(e=null),null==(t=null==t?-1:t)&&(t=-1),0==this.length||this.length+t+1==0?e:this[this.length+t]},pushIm:function(e){var t=this.cp();return Array.prototype.push.call(t,e),t},push:function(e){throw new Runtime.Exceptions.RuntimeException("Deprecated Collection push")},insertIm:function(e,t){var n=this.cp();return n.splice(e,0,t),n},insert:function(e,t){throw new Runtime.Exceptions.RuntimeException("Deprecated Collection insert")},setIm:function(e,t){if(e<0||e>=this.length)throw new(use("Runtime.Exceptions.IndexOutOfRange"))(e);var n=this.cp();return n[e]=t,n},set:function(e,t){throw new Runtime.Exceptions.RuntimeException("Deprecated Collection set")},concat:function(e){if(null==e)return this;if(0==(e=e instanceof Runtime.Collection?e:Runtime.Vector.from([e])).length)return this;for(var t=this.cp(),n=0;n<e.length;n++)Array.prototype.push.call(t,e[n]);return t},map:function(e){for(var t=this.cp(),n=(use("Runtime.Callback"),0);n<t.length;n++)t[n]=Runtime.rtl.apply(e,[t[n],n]);return t},filter:function(e){for(var t=this.constructor.Instance(),n=(use("Runtime.Callback"),0);n<this.length;n++){var i=this[n];Runtime.rtl.apply(e,[i,n])&&Array.prototype.push.call(t,i)}return t},transition:function(e){for(var t=new(use("Runtime.Dict")),n=0;n<this.length;n++){var i=this[n],i=Runtime.rtl.apply(e,[i,n]);t[i[1]]=i[0]}return t},reduce:function(e,t){for(var n=0;n<this.length;n++){var i=this[n];t=Runtime.rtl.apply(e,[t,i,n])}return t},each:function(e){for(var t=0;t<this.length;t++){var n=this[t];Runtime.rtl.apply(e,[n,t])}},slice:function(e,t){if((e=null==e?0:e)<=0&&(e=0),null==(t=null==t?null:t))return e<=0?this:(n=Array.prototype.slice.call(this,e),Object.setPrototypeOf(n,this.constructor.prototype),n);if(e<=0&&t==this.length)return this;0<=t&&(t=e+t);var n=Array.prototype.slice.call(this,e,t);return Object.setPrototypeOf(n,this.constructor.prototype),n},reverse:function(){var e=this.cp();return Array.prototype.reverse.call(e),e},sort:function(n){null==n&&(n=null);var e=this.cp();return null==n?Array.prototype.sort.call(e):Array.prototype.sort.call(e,(e,t)=>Runtime.rtl.apply(n,[e,t])),e},removeDuplicates:function(){for(var e=this.constructor.Instance(),t=0;t<this.length;t++)-1==e.indexOf(this[t])&&Array.prototype.push.call(e,this[t]);return e},find:function(e){for(var t=0;t<this.length;t++)if(e(this[t]))return t;return-1},findItem:function(e,t){null==t&&(t=null);e=this.find(e);return this.get(e,t)},join:function(e){return Runtime.rs.join(e,this)}}),Object.assign(Runtime.Collection,Runtime._Collection),Object.assign(Runtime.Collection,{Instance:function(){return new Runtime.Collection},create:function(e){return this.from(e)},getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.Collection"},getParentClassName:function(){return"Runtime._Collection"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Collection),window["Runtime.Collection"]=Runtime.Collection,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Collection),(Runtime="undefined"==typeof(Runtime="undefined"==typeof Runtime?{}:Runtime)?{}:Runtime)._Map=function(e){if(this._map={},null!=e&&"object"==typeof e)if(e instanceof Runtime.Dict)for(var t in e._map)this._map[t]=e._map[t];else if("object"==typeof e&&!(e instanceof Runtime._Collection))for(var t in e)this._map["|"+t]=e[t];return this.__uq__=Symbol(),this},Object.assign(Runtime._Map.prototype,{toStr:function(e){return use("Runtime.rtl").toStr(e)},toObject:function(){var e,t={};for(e in this._map)t[e.substring(1)]=this._map[e];return t}}),Object.assign(Runtime._Map,{from:function(e){return this.Instance(e)},getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime._Map"},getParentClassName:function(){return""}}),Runtime.Dict=function(){Runtime._Map.apply(this,arguments)},Runtime.Dict.prototype=Object.create(Runtime._Map.prototype),Runtime.Dict.prototype.constructor=Runtime.Dict,Object.assign(Runtime.Dict.prototype,{cp:function(){var e=this.constructor.Instance();return e._map=Object.assign({},this._map),e},copy:function(){return this.cp()},clone:function(e){if(null==(e=null==e?null:e))return this instanceof Runtime.Map?this.cp():this;var t=this.constructor.Instance();if(t._map=Object.assign({},this._map),null!=e)if(e instanceof use("Runtime.Dict"))for(var n in e=e._map)t._map[n]=e[n];else for(var n in e)t._map["|"+n]=e[n];return t},toDict:function(){return new(use("Runtime.Dict"))(this)},toMap:function(){return new(use("Runtime.Map"))(this)},contains:function(e){return e=this.toStr(e),void 0!==this._map["|"+e]},has:function(e){return this.contains(e)},get:function(e,t){null==t&&(t=null),e=this.toStr(e);e=this._map["|"+e];return void 0===e?t:e},item:function(e){if(e=this.toStr(e),void 0===this._map["|"+e])throw new(use("Runtime.Exceptions.KeyNotFound"))(e);e=this._map["|"+e];return null==e?null:e},setIm:function(e,t){var n=this.cp();return e=this.toStr(e),n._map["|"+e]=t,n},removeIm:function(e){var t;return e=this.toStr(e),void 0!==this._map["|"+e]?(delete(t=this.cp())._map["|"+e],t):this},keys:function(){var e,t=new Runtime.Vector;for(e in this._map)t.push(e.substring(1));return t},values:function(){var e,t=new Runtime.Vector;for(e in this._map)t.push(this._map[e]);return t},map:function(e){var t,n=this.constructor.Instance();for(t in this._map){var i=t.substring(1),i=Runtime.rtl.apply(e,[this._map[t],i]);n._map[t]=i}return n},filter:function(e){var t,n=this.constructor.Instance();for(t in this._map){var i=t.substring(1),o=this._map[t];Runtime/rtl.apply(e,[o,i])&&(n._map[t]=o)}return n},each:function(e){for(var t in this._map){var n=t.substring(1);e(this._map[t],n)}},transition:function(e){var t,n=new(use("Runtime.Vector"));for(t in this._map){var i=e(this._map[t],t.substring(1));Array.prototype.push.call(n,i)}return n},reduce:function(e,t){for(var n in this._map)t=Runtime.rtl.apply(e,[t,this._map[n],n.substring(1)]);return t},intersect:function(e,t){var n;return null==t&&(t=!0),null==(e=null==e?null:e)?Runtime.Map.from({}):(n=new Runtime.Map,e.each(e=>{!this.has(e)&&t||n.set(e,this.get(e,null))}),this instanceof Runtime.Map?n:n.toDict())},concat:function(e){if(null==(e=null==e?null:e))return this;var t={},n=!1,i=use("Runtime.Dict");if(null==e)return this.cp();e instanceof i?t=e._map:"object"==typeof e&&(t=e,n=!0);var o,r=this.cp();for(o in t)r._map[(n?"|":"")+o]=t[o];return r},equal:function(e){if(null==e)return!1;for(var t=(new Runtime.Collection).concat(this.keys()).concat(e.keys()).removeDuplicatesIm(),n=0;n<t.count();n++){var i=Runtime.rtl.attr(t,n);if(!this.has(i))return!1;if(!e.has(i))return!1;if(this.get(i)!=e.get(i))return!1}return!0}}),Object.assign(Runtime.Dict,Runtime._Map),Object.assign(Runtime.Dict,{Instance:function(e){return null==e&&(e=null),new Runtime.Dict(e)},getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.Dict"},getParentClassName:function(){return"Runtime._Map"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Dict),window["Runtime.Dict"]=Runtime.Dict,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Dict),(Runtime="undefined"==typeof Runtime?{}:Runtime).Map=function(){Runtime.Dict.apply(this,arguments)},Runtime.Map.prototype=Object.create(Runtime.Dict.prototype),Runtime.Map.prototype.constructor=Runtime.Map,Object.assign(Runtime.Map.prototype,{set:function(e,t){return e=this.toStr(e),this._map["|"+e]=t,this},remove:function(e){return e=this.toStr(e),void 0!==this._map["|"+e]&&delete this._map["|"+e],this},clear:function(){return this._map={},this}}),Object.assign(Runtime.Map,Runtime.Dict),Object.assign(Runtime.Map,{Instance:function(e){return null==e&&(e=null),new Runtime.Map(e)},getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.Map"},getParentClassName:function(){return"Runtime.Dict"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Map),window["Runtime.Map"]=Runtime.Map,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Map),(Runtime="undefined"==typeof Runtime?{}:Runtime).Monad=function(e,t){null==t&&(t=null),this.val=e,this.err=t},Object.assign(Runtime.Monad.prototype,{attr:function(e){return null===this.val||null!=this.err?this:new Runtime.Monad(Runtime.rtl.attr(this.val,e,null))},call:function(t){if(null!==this.val&&null==this.err)try{this.val=Runtime.rtl.apply(t,Runtime.Vector.from([this.val]))}catch(e){t=e;this.res=null,this.err=t}return this},callAsync:async function(t){if(null!==this.val&&null==this.err)try{this.val=await Runtime.rtl.apply(t,Runtime.Vector.from([this.val]))}catch(e){t=e;this.val=null,this.err=t}return Promise.resolve(this)},callMethod:function(t,e){if(null==e&&(e=null),null!==this.val&&null==this.err)try{var n=new Runtime.Callback(this.val,t);this.val=Runtime.rtl.apply(n,e)}catch(e){t=e;this.val=null,this.err=t}return this},callMethodAsync:async function(t,e){if(null==e&&(e=null),null!==this.val&&null==this.err)try{var n=new Runtime.Callback(this.val,t);this.val=await Runtime.rtl.apply(n,e)}catch(e){t=e;this.val=null,this.err=t}return Promise.resolve(this)},monad:function(e){return Runtime.rtl.apply(e,Runtime.Vector.from([this]))},value:function(){if(null!=this.err)throw this.err;return null===this.val||null!=this.err?null:this.val},_init:function(){this.val=null,this.err=null}}),Object.assign(Runtime.Monad,{getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.Monad"},getParentClassName:function(){return""},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Monad),window["Runtime.Monad"]=Runtime.Monad,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Monad),(Runtime="undefined"==typeof Runtime?{}:Runtime).Vector=function(){Runtime.Collection.apply(this,arguments)},Runtime.Vector.prototype=Object.create(Runtime.Collection.prototype),Runtime.Vector.prototype.constructor=Runtime.Vector,Object.assign(Runtime.Vector.prototype,{removeRange:function(e,t){var n;return null==e&&(e=0),null==(t=null==t?null:t)?(n=Array.prototype.slice.call(this,e),Object.setPrototypeOf(n,this.constructor.prototype),n):(0<=t&&(t=e+t),Array.prototype.splice.call(this,e,t),this)},remove:function(e){return Array.prototype.splice.call(this,e,1),this},removeItem:function(e){return this.remove(e)},append:function(e){return Array.prototype.push.call(this,e),this},push:function(e){return this.append(e)},prepend:function(e){return Array.prototype.unshift.call(this,e),this},pop:function(){return Array.prototype.pop.call(this)},shift:function(){return Array.prototype.shift.call(this)},insert:function(e,t){return Array.prototype.splice.call(this,e,0,t),this},set:function(e,t){return e%=this.count(),this[e]=t,this},removeValue:function(e){e=this.indexOf(e);return-1!=e&&this.remove(e,1),this},findAndRemove:function(e){e=this.find(e);return-1!=e&&this.remove(e),this},clear:function(){return Array.prototype.splice.call(this,0,this.length),this},appendItems:function(e){e.each(e=>{this.push(e)})},prependItems:function(e){e.each(e=>{this.prepend(e)})}}),Object.assign(Runtime.Vector,Runtime.Collection),Object.assign(Runtime.Vector,{Instance:function(){return new Runtime.Vector},getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.Vector"},getParentClassName:function(){return"Runtime.Collection"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Vector),window["Runtime.Vector"]=Runtime.Vector,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Vector),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Exceptions&&(Runtime.Exceptions={}),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Exceptions&&(Runtime.Exceptions={}),Runtime.Exceptions.ClassException=function(e,t,n){Error.call(this),Error.captureStackTrace(this,this.constructor),this.message=e,this.code=t,this.prev=n},Runtime.Exceptions.ClassException.prototype=Object.create(Error.prototype),Runtime.Exceptions.ClassException.prototype.constructor=Runtime.Exceptions.ClassException,Object.assign(Runtime.Exceptions.ClassException.prototype,{_init:function(){}}),Object.assign(Runtime.Exceptions.ClassException,{getNamespace:function(){return"Runtime.Exceptions"},getClassName:function(){return"Runtime.Exceptions.ClassException"},getParentClassName:function(){return""}}),Runtime.Exceptions.AbstractException=function(e,t,n){null==e&&(e=""),null==t&&(t=-1),null==n&&(n=null),Runtime.Exceptions.ClassException.call(this,e,t,n),this._init(),this.error_message=e,this.error_code=t,this.prev=n},Runtime.Exceptions.AbstractException.prototype=Object.create(Runtime.Exceptions.ClassException.prototype),Runtime.Exceptions.AbstractException.prototype.constructor=Runtime.Exceptions.AbstractException,Object.assign(Runtime.Exceptions.AbstractException.prototype,{getPreviousException:function(){return this.prev},getErrorMessage:function(){return this.error_message},getErrorCode:function(){return this.error_code},getFileName:function(){return this.error_file},getErrorLine:function(){return this.error_line},getErrorPos:function(){return this.error_pos},toString:function(){return this.getErrorMessage()},getTraceStr:function(){},getTraceCollection:function(){},_init:function(){Runtime.Exceptions.ClassException.prototype._init.call(this),this.prev=null,this.error_message="",this.error_code=0,this.error_file="",this.error_line="",this.error_pos=""}}),Object.assign(Runtime.Exceptions.AbstractException,Runtime.Exceptions.ClassException),Object.assign(Runtime.Exceptions.AbstractException,{getNamespace:function(){return"Runtime.Exceptions"},getClassName:function(){return"Runtime.Exceptions.AbstractException"},getParentClassName:function(){return"Runtime.Exceptions.ClassException"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Exceptions.AbstractException),window["Runtime.Exceptions.AbstractException"]=Runtime.Exceptions.AbstractException,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Exceptions.AbstractException),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Exceptions&&(Runtime.Exceptions={}),Runtime.Exceptions.ApiError=function(e){null==e&&(e=null),Runtime.Exceptions.AbstractException.call(this,e.getErrorMessage(),Runtime.rtl.ERROR_API_ERROR,e)},Runtime.Exceptions.ApiError.prototype=Object.create(Runtime.Exceptions.AbstractException.prototype),Runtime.Exceptions.ApiError.prototype.constructor=Runtime.Exceptions.ApiError,Object.assign(Runtime.Exceptions.ApiError.prototype,{getErrorMessage:function(){return this.prev.getErrorMessage()},getErrorCode:function(){return this.prev.getErrorCode()},getFileName:function(){return this.prev.getFileName()},getErrorLine:function(){return this.prev.getErrorLine()},getErrorPos:function(){return this.prev.getErrorPos()}}),Object.assign(Runtime.Exceptions.ApiError,Runtime.Exceptions.AbstractException),Object.assign(Runtime.Exceptions.ApiError,{getNamespace:function(){return"Runtime.Exceptions"},getClassName:function(){return"Runtime.Exceptions.ApiError"},getParentClassName:function(){return"Runtime.Exceptions.AbstractException"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Exceptions.ApiError),window["Runtime.Exceptions.ApiError"]=Runtime.Exceptions.ApiError,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Exceptions.ApiError),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Exceptions&&(Runtime.Exceptions={}),Runtime.Exceptions.AssertException=function(e,t){null==t&&(t=null),Runtime.Exceptions.AbstractException.call(this,e,Runtime.rtl.ERROR_ASSERT,t)},Runtime.Exceptions.AssertException.prototype=Object.create(Runtime.Exceptions.AbstractException.prototype),Runtime.Exceptions.AssertException.prototype.constructor=Runtime.Exceptions.AssertException,Object.assign(Runtime.Exceptions.AssertException.prototype,{}),Object.assign(Runtime.Exceptions.AssertException,Runtime.Exceptions.AbstractException),Object.assign(Runtime.Exceptions.AssertException,{getNamespace:function(){return"Runtime.Exceptions"},getClassName:function(){return"Runtime.Exceptions.AssertException"},getParentClassName:function(){return"Runtime.Exceptions.AbstractException"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Exceptions.AssertException),window["Runtime.Exceptions.AssertException"]=Runtime.Exceptions.AssertException,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Exceptions.AssertException),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Exceptions&&(Runtime.Exceptions={}),Runtime.Exceptions.CurlException=function(e,t,n){null==n&&(n=null),Runtime.Exceptions.AbstractException.call(this,"HTTP error code: "+Runtime.rtl.toStr(e),Runtime.rtl.ERROR_CURL_ERROR,n),this.http_code=e,this.http_content=t},Runtime.Exceptions.CurlException.prototype=Object.create(Runtime.Exceptions.AbstractException.prototype),Runtime.Exceptions.CurlException.prototype.constructor=Runtime.Exceptions.CurlException,Object.assign(Runtime.Exceptions.CurlException.prototype,{_init:function(){Runtime.Exceptions.AbstractException.prototype._init.call(this),this.http_code=-1,this.http_content=""}}),Object.assign(Runtime.Exceptions.CurlException,Runtime.Exceptions.AbstractException),Object.assign(Runtime.Exceptions.CurlException,{getNamespace:function(){return"Runtime.Exceptions"},getClassName:function(){return"Runtime.Exceptions.CurlException"},getParentClassName:function(){return"Runtime.Exceptions.AbstractException"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Exceptions.CurlException),window["Runtime.Exceptions.CurlException"]=Runtime.Exceptions.CurlException,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Exceptions.CurlException),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Exceptions&&(Runtime.Exceptions={}),Runtime.Exceptions.IndexOutOfRange=function(e,t){null==t&&(t=null),Runtime.Exceptions.AbstractException.call(this,Runtime.rtl.getContext().translate("Runtime","Index out of range. Pos: %pos%",Runtime.Map.from({pos:e})),Runtime.rtl.ERROR_INDEX_OUT_OF_RANGE,t)},Runtime.Exceptions.IndexOutOfRange.prototype=Object.create(Runtime.Exceptions.AbstractException.prototype),Runtime.Exceptions.IndexOutOfRange.prototype.constructor=Runtime.Exceptions.IndexOutOfRange,Object.assign(Runtime.Exceptions.IndexOutOfRange.prototype,{}),Object.assign(Runtime.Exceptions.IndexOutOfRange,Runtime.Exceptions.AbstractException),Object.assign(Runtime.Exceptions.IndexOutOfRange,{getNamespace:function(){return"Runtime.Exceptions"},getClassName:function(){return"Runtime.Exceptions.IndexOutOfRange"},getParentClassName:function(){return"Runtime.Exceptions.AbstractException"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Exceptions.IndexOutOfRange),window["Runtime.Exceptions.IndexOutOfRange"]=Runtime.Exceptions.IndexOutOfRange,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Exceptions.IndexOutOfRange),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Exceptions&&(Runtime.Exceptions={}),Runtime.Exceptions.ItemNotFound=function(e,t,n){null==t&&(t="Item"),null==n&&(n=null);var i="",i=""!=(e=null==e?"":e)?Runtime.rtl.getContext().translate("Runtime","%object% '%name%' not found",Runtime.Map.from({name:e,object:t})):Runtime.rtl.getContext().translate("Runtime","%object% not found",Runtime.Map.from({object:t}));Runtime.Exceptions.AbstractException.call(this,i,Runtime.rtl.ERROR_ITEM_NOT_FOUND,n)},Runtime.Exceptions.ItemNotFound.prototype=Object.create(Runtime.Exceptions.AbstractException.prototype),Runtime.Exceptions.ItemNotFound.prototype.constructor=Runtime.Exceptions.ItemNotFound,Object.assign(Runtime.Exceptions.ItemNotFound.prototype,{}),Object.assign(Runtime.Exceptions.ItemNotFound,Runtime.Exceptions.AbstractException),Object.assign(Runtime.Exceptions.ItemNotFound,{getNamespace:function(){return"Runtime.Exceptions"},getClassName:function(){return"Runtime.Exceptions.ItemNotFound"},getParentClassName:function(){return"Runtime.Exceptions.AbstractException"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Exceptions.ItemNotFound),window["Runtime.Exceptions.ItemNotFound"]=Runtime.Exceptions.ItemNotFound,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Exceptions.ItemNotFound),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Exceptions&&(Runtime.Exceptions={}),Runtime.Exceptions.KeyNotFound=function(e,t){null==t&&(t=null),Runtime.Exceptions.AbstractException.call(this,Runtime.rtl.getContext().translate("Runtime","Key '%key%' not found",Runtime.Map.from({key:e})),Runtime.rtl.ERROR_KEY_NOT_FOUND,t)},Runtime.Exceptions.KeyNotFound.prototype=Object.create(Runtime.Exceptions.AbstractException.prototype),Runtime.Exceptions.KeyNotFound.prototype.constructor=Runtime.Exceptions.KeyNotFound,Object.assign(Runtime.Exceptions.KeyNotFound.prototype,{}),Object.assign(Runtime.Exceptions.KeyNotFound,Runtime.Exceptions.AbstractException),Object.assign(Runtime.Exceptions.KeyNotFound,{getNamespace:function(){return"Runtime.Exceptions"},getClassName:function(){return"Runtime.Exceptions.KeyNotFound"},getParentClassName:function(){return"Runtime.Exceptions.AbstractException"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Exceptions.KeyNotFound),window["Runtime.Exceptions.KeyNotFound"]=Runtime.Exceptions.KeyNotFound,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Exceptions.KeyNotFound),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Exceptions&&(Runtime.Exceptions={}),Runtime.Exceptions.RuntimeException=function(e,t){null==t&&(t=null),Runtime.Exceptions.AbstractException.call(this,e,Runtime.rtl.ERROR_RUNTIME,t)},Runtime.Exceptions.RuntimeException.prototype=Object.create(Runtime.Exceptions.AbstractException.prototype),Runtime.Exceptions.RuntimeException.prototype.constructor=Runtime.Exceptions.RuntimeException,Object.assign(Runtime.Exceptions.RuntimeException.prototype,{}),Object.assign(Runtime.Exceptions.RuntimeException,Runtime.Exceptions.AbstractException),Object.assign(Runtime.Exceptions.RuntimeException,{getNamespace:function(){return"Runtime.Exceptions"},getClassName:function(){return"Runtime.Exceptions.RuntimeException"},getParentClassName:function(){return"Runtime.Exceptions.AbstractException"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Exceptions.RuntimeException),window["Runtime.Exceptions.RuntimeException"]=Runtime.Exceptions.RuntimeException,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Exceptions.RuntimeException),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Exceptions&&(Runtime.Exceptions={}),Runtime.Exceptions.UnknownError=function(e){null==e&&(e=null),Runtime.Exceptions.AbstractException.call(this,Runtime.rtl.getContext().translate("Runtime","Unknown error"),Runtime.rtl.ERROR_UNKNOWN,e)},Runtime.Exceptions.UnknownError.prototype=Object.create(Runtime.Exceptions.AbstractException.prototype),Runtime.Exceptions.UnknownError.prototype.constructor=Runtime.Exceptions.UnknownError,Object.assign(Runtime.Exceptions.UnknownError.prototype,{}),Object.assign(Runtime.Exceptions.UnknownError,Runtime.Exceptions.AbstractException),Object.assign(Runtime.Exceptions.UnknownError,{getNamespace:function(){return"Runtime.Exceptions"},getClassName:function(){return"Runtime.Exceptions.UnknownError"},getParentClassName:function(){return"Runtime.Exceptions.AbstractException"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Exceptions.UnknownError),window["Runtime.Exceptions.UnknownError"]=Runtime.Exceptions.UnknownError,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Exceptions.UnknownError),(Runtime="undefined"==typeof Runtime?{}:Runtime).StringInterface=function(){},Object.assign(Runtime.StringInterface.prototype,{toString:function(){}}),Object.assign(Runtime.StringInterface,{getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.StringInterface"}}),Runtime.rtl.defClass(Runtime.StringInterface),window["Runtime.StringInterface"]=Runtime.StringInterface,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.StringInterface),(Runtime="undefined"==typeof Runtime?{}:Runtime).BaseObject=function(){this._init()},Object.assign(Runtime.BaseObject.prototype,{_init:function(){}}),Object.assign(Runtime.BaseObject,{getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.BaseObject"},getParentClassName:function(){return""},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.BaseObject),window["Runtime.BaseObject"]=Runtime.BaseObject,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.BaseObject),(Runtime="undefined"==typeof Runtime?{}:Runtime).BaseHook=function(){Runtime.BaseObject.apply(this,arguments)},Runtime.BaseHook.prototype=Object.create(Runtime.BaseObject.prototype),Runtime.BaseHook.prototype.constructor=Runtime.BaseHook,Object.assign(Runtime.BaseHook.prototype,{getMethodName:function(e){return""},register:function(e,t){null==t&&(t=100);var n=this.getMethodName(e);""!=n&&this.hook.register(e,this,n,t)},registerMethod:function(e,t,n){this.hook.register(e,this,t,n=null==n?100:n)},register_hooks:function(){},_init:function(){Runtime.BaseObject.prototype._init.call(this),this.hook=null}}),Object.assign(Runtime.BaseHook,Runtime.BaseObject),Object.assign(Runtime.BaseHook,{getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.BaseHook"},getParentClassName:function(){return"Runtime.BaseObject"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.BaseHook),window["Runtime.BaseHook"]=Runtime.BaseHook,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.BaseHook),(Runtime="undefined"==typeof Runtime?{}:Runtime).BaseProvider=function(e){null==e&&(e=null),Runtime.BaseObject.call(this),this.params=null!=e?e.toDict():null},Runtime.BaseProvider.prototype=Object.create(Runtime.BaseObject.prototype),Runtime.BaseProvider.prototype.constructor=Runtime.BaseProvider,Object.assign(Runtime.BaseProvider.prototype,{isStarted:function(){return this.started},getParam:function(e,t){return null==this.param||this.param.has(e)?t:this.param.get(e)},init:async function(){},start:async function(){this.started=!0},_init:function(){Runtime.BaseObject.prototype._init.call(this),this.started=!1,this.params=null}}),Object.assign(Runtime.BaseProvider,Runtime.BaseObject),Object.assign(Runtime.BaseProvider,{getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.BaseProvider"},getParentClassName:function(){return"Runtime.BaseObject"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.BaseProvider),window["Runtime.BaseProvider"]=Runtime.BaseProvider,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.BaseProvider),(Runtime="undefined"==typeof Runtime?{}:Runtime).BaseStruct=function(e){null==e&&(e=null),Runtime.BaseObject.call(this),this._assign_values(e),null!=this.__uq__&&null!=this.__uq__||(this.__uq__=Symbol()),Object.freeze(this)},Runtime.BaseStruct.prototype=Object.create(Runtime.BaseObject.prototype),Runtime.BaseStruct.prototype.constructor=Runtime.BaseStruct,Object.assign(Runtime.BaseStruct.prototype,{_changes:function(e){},_assign_values:function(e){if(null!=(e="object"!=typeof(e=null==e?null:e)||e instanceof Runtime.Dict?e:new Runtime.Map(e))&&0!=e.keys().count()){e instanceof Runtime.Map||(e=e.toMap()),this._changes(e);var t,n=use("Runtime.Dict");use("Runtime.rtl");for(t in e=e instanceof n?e.toObject():e){var i=e[t];this[t]=i}}},clone:function(e){var t;return null==(e=null==e?null:e)?this:(t=Object.getPrototypeOf(this),t=Object.create(t),(t=Object.assign(t,this))._assign_values(e),Object.freeze(t),t)},copy:function(e){return this.clone(e=null==e?null:e)},toMap:function(){for(var e=new Runtime.Map,t=Runtime.rtl.getFields(this.constructor.getClassName()),n=0;n<t.count();n++){var i=t.item(n),o=this.get(i,null);e.set(i,o)}return e}}),Object.assign(Runtime.BaseStruct,Runtime.BaseObject),Object.assign(Runtime.BaseStruct,{newInstance:function(e){return new(Function.prototype.bind.apply(this,"undefined"!=typeof ctx?[null,ctx,e]:[null,e]))},getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.BaseStruct"},getParentClassName:function(){return"Runtime.BaseObject"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.BaseStruct),window["Runtime.BaseStruct"]=Runtime.BaseStruct,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.BaseStruct),Runtime.BaseStruct.prototype.get=function(e,t){return null==t&&(t=null),null!=this[e]?this[e]:t},(Runtime="undefined"==typeof Runtime?{}:Runtime).Callback=function(e,t,n){null==n&&(n=null),this._init(),this.obj=e,this.name=t,this.tag=n},Object.assign(Runtime.Callback.prototype,{exists:function(){return!!Runtime.rtl.method_exists(this.obj,this.name)},_init:function(){this.obj=null,this.name=null,this.tag=null}}),Object.assign(Runtime.Callback,{getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.Callback"},getParentClassName:function(){return""},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Callback),window["Runtime.Callback"]=Runtime.Callback,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Callback),(Runtime="undefined"==typeof Runtime?{}:Runtime).Context=function(){Runtime.BaseObject.apply(this,arguments)},Runtime.Context.prototype=Object.create(Runtime.BaseObject.prototype),Runtime.Context.prototype.constructor=Runtime.Context,Object.assign(Runtime.Context.prototype,{getApp:function(){return this.app},isInitialized:function(){return this.initialized},isStarted:function(){return this.started},getStartTime:function(){return this.start_time},getBasePath:function(){return this.base_path},getConsoleArgs:function(){return this.cli_args.slice()},getModules:function(){return this.modules.slice()},getEntities:function(e){return""==(e=null==e?"":e)?this.entities.slice():this.entities.filter(Runtime.lib.isInstance(e))},getEnvironments:function(){return this.environments.clone()},provider:function(e){if(this.providers.has(e))return this.providers.get(e);throw new Runtime.Exceptions.RuntimeException("Provider '"+Runtime.rtl.toStr(e)+Runtime.rtl.toStr("' not found"))},env:function(e){var t=Runtime.rtl.attr(this.environments,e),e=this.callHook(Runtime.Hooks.RuntimeHook.ENV,Runtime.Map.from({name:e,value:t}));return Runtime.rtl.attr(e,"value")},init:async function(){if(this.initialized)return Promise.resolve();""!=this.entry_point&&(this.app=Runtime.rtl.newInstance(this.entry_point));var e=this.modules;e.indexOf("Runtime")&&e.prepend("Runtime"),this.modules=this.constructor.getRequiredModules(e),this.entities=this.constructor.getEntitiesFromModules(this.modules),this.createProviders(),await this.initProviders(),await this.callHookAsync(Runtime.Hooks.RuntimeHook.INIT),null!=this.app&&Runtime.rtl.method_exists(this.app,"init")&&await this.app.init(),this.initialized=!0},start:async function(){if(this.started)return Promise.resolve();await this.startProviders(),await this.callHookAsync(Runtime.Hooks.RuntimeHook.START),this.app&&Runtime.rtl.method_exists(this.app,"start")&&await this.app.start(),await this.callHookAsync(Runtime.Hooks.RuntimeHook.LAUNCHED),this.started=!0},run:async function(){var e=0;return null==this.app?Promise.resolve():(Runtime.rtl.method_exists(this.app,"main")&&(await this.callHookAsync(Runtime.Hooks.RuntimeHook.RUN),e=await this.app.main()),Promise.resolve(e))},callHook:function(e,t){null==(t=null==t?null:t)&&(t=Runtime.Map.from({}));for(var n=this.provider("hook").getMethods(e),i=0;i<n.count();i++){var o=Runtime.rtl.attr(n,i),o=Runtime.rtl.apply(o,Runtime.Vector.from([t]));if(Runtime.rtl.isPromise(o))throw new Runtime.Exceptions.RuntimeException("Promise is not allowed")}return t},callHookAsync:async function(e,t){null==(t=null==t?null:t)&&(t=Runtime.Map.from({}));for(var n=this.provider("hook").getMethods(e),i=0;i<n.count();i++){var o=Runtime.rtl.attr(n,i);await Runtime.rtl.apply(o,Runtime.Vector.from([t]))}return Promise.resolve(t)},translate:function(e,t,n){return null==(n=null==n?null:n)?t:Runtime.rs.format(t,n)},createProviders:function(){for(var e=this.getEntities("Runtime.Entity.Provider"),t=0;t<e.count();t++){var n=e.get(t);if(n.value){var i=null;if(n.value instanceof Runtime.BaseProvider?i=n.value:Runtime.rtl.isString(n.value)&&(i=Runtime.rtl.newInstance(n.value,Runtime.Vector.from([n.params]))),!i)throw new Runtime.Exceptions.RuntimeException("Wrong declare provider '"+Runtime.rtl.toStr(n.name)+Runtime.rtl.toStr("'"));this.registerProvider(n.name,i)}}},initProviders:async function(){for(var e=this.providers.keys(),t=0;t<e.count();t++){var n=Runtime.rtl.attr(e,t);await this.providers.get(n).init()}},startProviders:async function(){for(var e=this.providers.keys(),t=0;t<e.count();t++){var n=Runtime.rtl.attr(e,t);await this.providers.get(n).start()}},registerProvider:function(e,t){if(!this.initialized){if(this.providers.has(e))throw new Runtime.Exceptions.RuntimeException("Provider + '"+e+"' already registered");if(!(t instanceof Runtime.BaseProvider))throw new Runtime.Exceptions.RuntimeException("Provider + '"+e+"' must be intstanceof BaseProvider");this.providers.set(e,t)}},_init:function(){Runtime.BaseObject.prototype._init.call(this),this.app=null,this.base_path="",this.entry_point="",this.cli_args=Runtime.Vector.from([]),this.environments=Runtime.Map.from({}),this.modules=Runtime.Vector.from([]),this.providers=Runtime.Map.from({}),this.entities=Runtime.Vector.from([]),this.start_time=0,this.tz="UTC",this.initialized=!1,this.started=!1}}),Object.assign(Runtime.Context,Runtime.BaseObject),Object.assign(Runtime.Context,{create:function(e){(e=(e=e instanceof Runtime.Dict?e:Runtime.Dict.from(e)).toMap()).has("start_time")||e.set("start_time",Date.now()),e.has("modules")&&((t=e.get("modules"))instanceof Runtime.Collection||(t=Runtime.Collection.from(t)),e.set("modules",t.toVector())),e.has("environments")||e.set("environments",new Runtime.Map);var t=Runtime.rtl.attr(e,"environments"),t=(t.has("DEBUG")||t.set("DEBUG",!1),t.has("LOCALE")||t.set("LOCALE","en_US"),t.has("LOCALE_CODE")||t.set("LOCALE_CODE","en"),Runtime.rtl.newInstance(this.getClassName()));return e.has("base_path")&&(t.base_path=e.get("base_path")),e.has("entry_point")&&(t.entry_point=e.get("entry_point")),e.has("cli_args")&&(t.cli_args=e.get("cli_args")),e.has("environments")&&(t.environments=e.get("environments")),e.has("modules")&&(t.modules=e.get("modules")),e.has("start_time")&&(t.start_time=e.get("start_time")),e.has("tz")&&(t.tz=e.get("tz")),t},getRequiredModules:function(e){var t=new Runtime.Vector,n=new Runtime.Map;return this._getRequiredModules(t,n,e),t.removeDuplicates()},_getRequiredModules:function(e,t,n){if(null!=n)for(var i=0;i<n.count();i++){var o,r=n.item(i);t.has(r)||(t.set(r,!0),o=new Runtime.Callback(r+Runtime.rtl.toStr(".ModuleDescription"),"requiredModules"),null!=(o=Runtime.rtl.apply(o))&&(o=o.keys(),this._getRequiredModules(e,t,o)),e.push(r))}},getEntitiesFromModules:function(e){for(var t=new Runtime.Vector,n=0;n<e.count();n++){var i=e.item(n),i=new Runtime.Callback(i+Runtime.rtl.toStr(".ModuleDescription"),"entities");i.exists()&&(i=Runtime.rtl.apply(i))&&t.appendItems(i)}return t},getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.Context"},getParentClassName:function(){return"Runtime.BaseObject"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Context),window["Runtime.Context"]=Runtime.Context,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Context),(Runtime="undefined"==typeof Runtime?{}:Runtime).Curl=function(e,t){null==t&&(t=null),Runtime.BaseObject.call(this),this.url=e,null!=t&&t.has("post")&&(this.post=t.get("post"))},Runtime.Curl.prototype=Object.create(Runtime.BaseObject.prototype),Runtime.Curl.prototype.constructor=Runtime.Curl,Object.assign(Runtime.Curl.prototype,{send:async function(){return this.code=0,this.response="",await this.sendPost(),Promise.resolve(this.response)},_init:function(){Runtime.BaseObject.prototype._init.call(this),this.url="",this.post=null,this.code=0,this.response=""}}),Object.assign(Runtime.Curl,Runtime.BaseObject),Object.assign(Runtime.Curl,{getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.Curl"},getParentClassName:function(){return"Runtime.BaseObject"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Curl),window["Runtime.Curl"]=Runtime.Curl,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Curl),Object.assign(Runtime.Curl.prototype,{buildPostData:function(e,i){null==i&&(i=new FormData);var o=e.keys();for(let n=0;n<o.length;n++){var r,s=o[n];let t=e.get(s);if(t instanceof FileList)for(let e=0;n<t.length;e++)i.append(s+"[]",t.item(e),t.item(e).name);else t instanceof File?i.append(s,t,t.name):((r=new Runtime.Serializer).removeFlag(Runtime.Serializer.ALLOW_CLASS_NAME),t=r.json_encode(t),i.append(s,t))}return i},sendPost:async function(){return new Promise((e,t)=>{try{var n=this.buildPostData(this.post),i=new XMLHttpRequest;i.open("POST",this.url,!0),i.send(n),i.onreadystatechange=(o=this,r=i,s=e,a=t,function(){4==r.readyState&&(o.code=r.status,o.response=r.responseText,200==r.status?s():a(new Runtime.Exceptions.CurlException(r.status,r.responseText)))})}catch(e){t(e)}var o,r,s,a})}}),(Runtime="undefined"==typeof Runtime?{}:Runtime).Date=function(e){null==e&&(e=null),Runtime.BaseObject.call(this),null!=e&&(e.has("y")&&(this.y=e.get("y")),e.has("m")&&(this.m=e.get("m")),e.has("d"))&&(this.d=e.get("d"))},Runtime.Date.prototype=Object.create(Runtime.BaseObject.prototype),Runtime.Date.prototype.constructor=Runtime.Date,Object.assign(Runtime.Date.prototype,{toMap:function(){return Runtime.Map.from({y:this.y,m:this.m,d:this.d})},getDate:function(){return this.y+Runtime.rtl.toStr("-")+Runtime.rtl.toStr(this.m)+Runtime.rtl.toStr("-")+Runtime.rtl.toStr(this.d)},normalize:function(){return this},toString:function(){return this.y+Runtime.rtl.toStr("-")+Runtime.rtl.toStr(this.m)+Runtime.rtl.toStr("-")+Runtime.rtl.toStr(this.d)},_init:function(){Runtime.BaseObject.prototype._init.call(this),this.y=0,this.m=0,this.d=0}}),Object.assign(Runtime.Date,Runtime.BaseObject),Object.assign(Runtime.Date,{getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.Date"},getParentClassName:function(){return"Runtime.BaseObject"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null},__implements__:[Runtime.StringInterface]}),Runtime.rtl.defClass(Runtime.Date),window["Runtime.Date"]=Runtime.Date,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Date),Runtime.Date.prototype.toObject=function(){return new Date(this.y,this.m-1,this.d)},Runtime.Date.fromObject=function(e){var t=use("Runtime.Dict"),n=Number(e.getFullYear()),i=Number(e.getMonth())+1,o=Number(e.getDate());return e=new Runtime.Date(ctx,t.from({y:n,m:i,d:o}))},(Runtime="undefined"==typeof Runtime?{}:Runtime).DateTime=function(e){null==e&&(e=null),Runtime.BaseObject.call(this),null!=e&&(e.has("y")&&(this.y=e.get("y")),e.has("m")&&(this.m=e.get("m")),e.has("d")&&(this.d=e.get("d")),e.has("h")&&(this.h=e.get("h")),e.has("i")&&(this.i=e.get("i")),e.has("s")&&(this.s=e.get("s")),e.has("ms")&&(this.ms=e.get("ms")),e.has("tz"))&&(this.tz=e.get("tz"))},Runtime.DateTime.prototype=Object.create(Runtime.BaseObject.prototype),Runtime.DateTime.prototype.constructor=Runtime.DateTime,Object.assign(Runtime.DateTime.prototype,{toMap:function(){return Runtime.Map.from({y:this.y,m:this.m,d:this.d,h:this.h,i:this.i,s:this.s,ms:this.ms,tz:this.tz})},shiftTime:function(e){e=this.getTimestamp()+e;return this.constructor.create(e,this.tz)},shift:function(e){var t=this.getTimestamp();return this.constructor.create(t,e)},setWeekNumber:function(e){var t=new Date(this.y,0,1,0,0,0),e=Math.round(t.getTime()/1e3)-60*t.getTimezoneOffset()-86400*(t.getDay()-1)+604800*e+60*t.getTimezoneOffset();return this.constructor.fromObject(new Date(1e3*e),this.tz,!1)},getTimestamp:function(){var e=this.toObject();return Math.round(e.getTime()/1e3)},timestamp:function(){return this.getTimestamp()},getDayOfWeek:function(){return this.toObject().getDay()},toString:function(e){""==(e=null==e?"":e)&&(e=Runtime.rtl.getContext().tz);var t=0,n=this.toObject(),e=(""==e&&(e=this.tz),t=this.constructor.getTimezoneOffset(e),t-=n.getTimezoneOffset(),n=this.constructor.shiftOffset(n,-t),Number(n.getFullYear())),t=Number(n.getMonth())+1,i=Number(n.getDate()),o=Number(n.getHours()),r=Number(n.getMinutes()),n=Number(n.getSeconds());return e+"-"+(t<10?"0"+t:""+t)+"-"+(i<10?"0"+i:""+i)+" "+(o<10?"0"+o:""+o)+":"+(r<10?"0"+r:""+r)+":"+(n<10?"0"+n:""+n)},getDatabaseTime:function(){return this.toString("UTC")},getRFC822:function(){var e=this.y,t=this.m,n=this.d,i=this.h,o=this.i,r=this.s,s=new Date(e,t-1,n,i,o,r),e=e<10?"0"+e:""+e,t=t<10?"0"+t:""+t,n=n<10?"0"+n:""+n,i=i<10?"0"+i:""+i,o=o<10?"0"+o:""+o,r=r<10?"0"+r:""+r,s=s.getDay();return(6==s?"Sat":5==s?"Fri":4==s?"Thu":3==s?"Wed":2==s?"Tue":1==s?"Mon":0==s?"Sun":"")+", "+n+" "+(12==t?"Dec":11==t?"Nov":10==t?"Oct":9==t?"Sep":8==t?"Aug":7==t?"Jul":6==t?"Jun":5==t?"May":4==t?"Apr":3==t?"Mar":2==t?"Feb":1==t?"Jan":"")+" "+e+" "+i+":"+o+":"+r+" "+this.tz},getISO8601:function(){this.y;var e=(e=this.m)<10?"0"+e:""+e,t=(t=this.d)<10?"0"+t:""+t,n=(n=this.h)<10?"0"+n:""+n,i=(i=this.i)<10?"0"+i:""+i,o=(o=this.s)<10?"0"+o:""+o,r=Math.ceil(-this.constructor.getTimezoneOffset(this.tz)/60);return this.y+"-"+e+"-"+t+"T"+n+":"+i+":"+o+(r=0<=(r=r<10&&0<=r?"0"+r:r)?"+"+r:r)+"00"},normalize:function(){return this},_init:function(){Runtime.BaseObject.prototype._init.call(this),this.y=1970,this.m=1,this.d=1,this.h=0,this.i=0,this.s=0,this.ms=0,this.tz="UTC"}}),Object.assign(Runtime.DateTime,Runtime.BaseObject),Object.assign(Runtime.DateTime,{create:function(e,t){null==t&&(t="UTC");var n=null,n=-1==(e=null==e?-1:e)?new Date:new Date(1e3*e);return this.fromObject(n,t)},from:function(e,t){if(null==t&&(t="UTC"),Runtime.rs.strlen(e)<19)return null;19<Runtime.rs.strlen(e)&&(t=Runtime.rs.substr(e,19));var n=new Runtime.DateTime;return n.y=Runtime.rtl.to(Runtime.rs.substr(e,0,4),{e:"int"}),n.m=Runtime.rtl.to(Runtime.rs.substr(e,5,2),{e:"int"}),n.d=Runtime.rtl.to(Runtime.rs.substr(e,8,2),{e:"int"}),n.h=Runtime.rtl.to(Runtime.rs.substr(e,11,2),{e:"int"}),n.i=Runtime.rtl.to(Runtime.rs.substr(e,14,2),{e:"int"}),n.s=Runtime.rtl.to(Runtime.rs.substr(e,17,2),{e:"int"}),n.tz=t,n},now:function(e){return this.create(-1,e=null==e?"UTC":e)},getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.DateTime"},getParentClassName:function(){return"Runtime.BaseObject"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null},__implements__:[Runtime.StringInterface]}),Runtime.rtl.defClass(Runtime.DateTime),window["Runtime.DateTime"]=Runtime.DateTime,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.DateTime),Runtime.DateTime.getTimezoneOffset=function(e){return"UTC"==e||"GMT"==e?0:"GMT+1"==e?-60:"GMT+2"==e?-120:"GMT+3"==e?-180:"GMT+4"==e?-240:"GMT+5"==e?-300:"GMT+6"==e?-360:"GMT+7"==e?-420:"GMT+8"==e?-480:"GMT+9"==e?-540:"GMT+10"==e?-600:"GMT+11"==e?-660:"GMT+13"==e?-780:"GMT+14"==e?-840:"GMT-1"==e?60:"GMT-2"==e?120:"GMT-3"==e?180:"GMT-4"==e?240:"GMT-5"==e?300:"GMT-6"==e?360:"GMT-7"==e?420:"GMT-8"==e?480:"GMT-9"==e?540:"GMT-10"==e?600:"GMT-11"==e?660:"GMT-12"==e?720:0},Runtime.DateTime.shiftOffset=function(e,t){var n=Math.floor(t/60),t=t%60;return e.setMinutes(e.getMinutes()+t),e.setHours(e.getHours()+n),e},Runtime.DateTime.prototype.toObject=function(){var e=new Date(this.y,this.m-1,this.d,this.h,this.i,this.s),t=this.constructor.getTimezoneOffset(this.tz)-e.getTimezoneOffset();return e=this.constructor.shiftOffset(e,t)},Runtime.DateTime.fromObject=function(e,t,n){null==n&&(n=!0);var i=use("Runtime.Dict"),n=(n&&(n=(n=this.getTimezoneOffset(t))-e.getTimezoneOffset(),e=this.shiftOffset(e,-n)),Number(e.getFullYear())),o=Number(e.getMonth())+1,r=Number(e.getDate()),s=Number(e.getHours()),a=Number(e.getMinutes()),l=Number(e.getSeconds());return e=new Runtime.DateTime(i.from({y:n,m:o,d:r,h:s,i:a,s:l,tz:t}))},(Runtime="undefined"==typeof Runtime?{}:Runtime).Math=function(){},Object.assign(Runtime.Math.prototype,{}),Object.assign(Runtime.Math,{ceil:function(e){return Math.ceil(e)},floor:function(e){return Math.floor(e)},round:function(e){return Math.round(e)},max:function(e,t){return t<e?e:t},min:function(e,t){return e<t?e:t},urandom:function(){var e;return null!=window&&null!=window.crypto&&null!=window.crypto.getRandomValues?(e=new Uint32Array(1),window.crypto.getRandomValues(e),e[0]/4294967296):Math.random()},random:function(e,t){return this.round(this.urandom()*(t-e+1)+e)},getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.Math"},getParentClassName:function(){return""},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Math),window["Runtime.Math"]=Runtime.Math,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Math),(Runtime="undefined"==typeof Runtime?{}:Runtime).Money=function(e,t){Runtime.BaseObject.call(this),this.value=e,this.currency=t},Runtime.Money.prototype=Object.create(Runtime.BaseObject.prototype),Runtime.Money.prototype.constructor=Runtime.Money,Object.assign(Runtime.Money.prototype,{getValue:function(){return this.value},getCurrency:function(){return this.currency},add:function(e){if(this.currency!=e.currency)throw new Runtime.Exceptions.RuntimeException("Money currency mismatch");this.value=Runtime.rtl.attr(this.value,["value"])+e.currency},_init:function(){Runtime.BaseObject.prototype._init.call(this),this.value=0,this.currency=""}}),Object.assign(Runtime.Money,Runtime.BaseObject),Object.assign(Runtime.Money,{getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.Money"},getParentClassName:function(){return"Runtime.BaseObject"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Money),window["Runtime.Money"]=Runtime.Money,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Money),(Runtime="undefined"==typeof Runtime?{}:Runtime).RawString=function(e){this.s="",Runtime.rtl.isString(e)&&(this.s=e)},Object.assign(Runtime.RawString.prototype,{toString:function(){return this.s},_init:function(){this.s=null}}),Object.assign(Runtime.RawString,{normalize:function(e){return Runtime.rtl.isString(e)?e:e instanceof Runtime.RawString?e.s:e instanceof Runtime.Collection?(e=e.map(e=>this.normalize(e)),Runtime.rs.join("",e)):""},getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.RawString"},getParentClassName:function(){return""},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null},__implements__:[Runtime.StringInterface]}),Runtime.rtl.defClass(Runtime.RawString),window["Runtime.RawString"]=Runtime.RawString,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.RawString),(Runtime="undefined"==typeof Runtime?{}:Runtime).Reference=function(e){null==e&&(e=null),Runtime.BaseObject.call(this),this.ref=e},Runtime.Reference.prototype=Object.create(Runtime.BaseObject.prototype),Runtime.Reference.prototype.constructor=Runtime.Reference,Object.assign(Runtime.Reference.prototype,{_init:function(){Runtime.BaseObject.prototype._init.call(this),this.uq=Runtime.rtl.unique(),this.ref=null}}),Object.assign(Runtime.Reference,Runtime.BaseObject),Object.assign(Runtime.Reference,{getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.Reference"},getParentClassName:function(){return"Runtime.BaseObject"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Reference),window["Runtime.Reference"]=Runtime.Reference,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Reference),(Runtime="undefined"==typeof Runtime?{}:Runtime).Serializer=function(){Runtime.BaseObject.apply(this,arguments)},Runtime.Serializer.prototype=Object.create(Runtime.BaseObject.prototype),Runtime.Serializer.prototype.constructor=Runtime.Serializer,Object.assign(Runtime.Serializer.prototype,{isImport:function(){return(this.flags&this.constructor.IMPORT)==this.constructor.IMPORT},isExport:function(){return(this.flags&this.constructor.EXPORT)==this.constructor.EXPORT},allowClassName:function(){return(this.flags&this.constructor.ALLOW_CLASS_NAME)==this.constructor.ALLOW_CLASS_NAME},setFlag:function(e){this.flags=this.flags|e},removeFlag:function(e){this.flags=this.flags&!e},hasFlag:function(e){return(this.flags&e)==e},setCallback:function(e){this.callback_name=e},process:function(e,t,n){this.isImport()&&this.import(e,t,n),this.isExport()&&this.export(e,t,n)},import:function(e,t,n){var n=n.get(t),i=this.constructor.getAttr(e,t),i=this.importItem(i,n);this.constructor.setAttr(e,t,i)},newInstance:function(e,t){return Runtime.rtl.newInstance(e)},importItem:function(i,e){if(Runtime.rtl.isScalarValue(e))return e;if(e instanceof Runtime.BaseStruct)return e;if(e instanceof Runtime.Date)return e;if(e instanceof Runtime.DateTime)return e;var t,n;if(e instanceof Runtime.Dict&&e.has("__class_name__"))return n=e.get("__class_name__"),this.allowClassName()&&Runtime.rtl.exists(Runtime.rtl.find_class(n))&&Runtime.rtl.is_instanceof(n,"Runtime.BaseObject")?(t=null,t=Runtime.rtl.is_instanceof(i,n)?i:this.newInstance(n,e),(n=new Runtime.Callback(t,this.callback_name)).exists()&&Runtime.rtl.apply(n,Runtime.Vector.from([this,e])),t):null;if(e instanceof Runtime.Dict)return o=Runtime.Map.from({}),e.each((e,t)=>{var n=this.constructor.getAttr(i,t),n=this.importItem(n,e);o.set(t,n)}),o;if(e instanceof Runtime.Collection){for(var o=Runtime.Vector.from([]),r=0;r<e.count();r++){var s=e.get(r),a=i instanceof Runtime.Collection?i.get(r):null,a=this.importItem(a,s);o.push(a)}return o}return null},export:function(e,t,n){e=this.constructor.getAttr(e,t),e=this.exportItem(e);n.set(t,e)},exportItem:function(e){if(Runtime.rtl.isScalarValue(e))return e;if(e instanceof Runtime.BaseStruct)return e;if(e instanceof Runtime.Date)return e;if(e instanceof Runtime.DateTime)return e;var t;if(e instanceof Runtime.Dict)return n=Runtime.Map.from({}),e.each((e,t)=>{e=this.exportItem(e);n.set(t,e)}),n;if(e instanceof Runtime.Collection){for(var n=Runtime.Vector.from([]),i=0;i<e.count();i++){var o=e.get(i),o=this.exportItem(o);n.push(o)}return n}return e instanceof Runtime.BaseObject?(n=Runtime.Map.from({}),this.allowClassName()&&n.set("__class_name__",e.constructor.getClassName()),(t=new Runtime.Callback(e,this.callback_name)).exists()&&Runtime.rtl.apply(t,Runtime.Vector.from([this,n])),n):null},toNative:function(t){if(!Runtime.rtl.isScalarValue(t)){var i=this.allowClassName(),e=(use("Runtime.rtl"),use("Runtime.BaseStruct")),n=(use("Runtime.SerializeInterface"),use("Runtime.Collection")),o=use("Runtime.Date"),r=use("Runtime.DateTime"),s=use("Runtime.Dict");if(t instanceof o?(t=t.toMap(),i&&t.set("__class_name__","Runtime.Date")):t instanceof r?(t=t.toMap(),i&&t.set("__class_name__","Runtime.DateTime")):t instanceof e&&(o=t.constructor.getClassName(),t=t.toMap(),i)&&t.set("__class_name__",o),t instanceof n){t=t.cp();for(let e=0;e<t.length;e++)t[e]=this.toNative(t[e],i);return t.cp()}if(t instanceof s){let n={};return t.each((e,t)=>{n[t]=this.toNative(e,i)}),n}}return t},toPrimitive:function(e){var t,n,i,o,r,s,a;return Runtime.rtl.isScalarValue(e)?e:(t=this.allowClassName(),n=use("Runtime.rtl"),use("Runtime.RuntimeUtils"),i=use("Runtime.Vector"),o=use("Runtime.Date"),r=use("Runtime.DateTime"),s=use("Runtime.Map"),Array.isArray(e)?i.from(e).map(e=>this.toPrimitive(e)):"object"==typeof e?(a=e.__class_name__,e=(e=s.from(e)).map((e,t)=>this.toPrimitive(e)),"Runtime.Date"==a?new o(e):"Runtime.DateTime"==a?new r(e):t&&n.exists(n.find_class(a))&&n.is_instanceof(a,"Runtime.BaseStruct")?(e.remove("__class_name__"),n.newInstance(a,new i(e))):e):e)},json_encode:function(e){use("Runtime.RuntimeUtils"),use("Runtime.Collection"),use("Runtime.Dict"),use("Runtime.Date"),use("Runtime.DateTime");return e=this.toNative(e),JSON.stringify(e,(e,t)=>t)},json_decode:function(e){try{use("Runtime.Serializer");var t=null;try{t=JSON.parse(e,(e,t)=>null==t?t:this.toPrimitive(t))}catch(e){t=null}return t}catch(e){throw e}return null},_init:function(){Runtime.BaseObject.prototype._init.call(this),this.flags=1,this.callback_name=""}}),Object.assign(Runtime.Serializer,Runtime.BaseObject),Object.assign(Runtime.Serializer,{ALLOW_CLASS_NAME:1,EXPORT:2,IMPORT:4,JSON_PRETTY:8,getAttr:function(e,t){return null==e?null:e[t]},setAttr:function(e,t,n){e[t]=n},copy:function(e){var t=Runtime.rtl.newInstance(this.getClassName());return t.toPrimitive(t.toNative(e))},getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.Serializer"},getParentClassName:function(){return"Runtime.BaseObject"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Serializer),window["Runtime.Serializer"]=Runtime.Serializer,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Serializer),(Runtime="undefined"==typeof Runtime?{}:Runtime).ModuleDescription=function(){},Object.assign(Runtime.ModuleDescription.prototype,{}),Object.assign(Runtime.ModuleDescription,{getModuleName:function(){return"Runtime"},getModuleVersion:function(){return"0.12.0"},requiredModules:function(){return null},entities:function(){return Runtime.Vector.from([new Runtime.Entity.Provider("input",null),new Runtime.Entity.Provider("output","Runtime.Providers.OutputProvider"),new Runtime.Entity.Provider("log",null),new Runtime.Entity.Provider("hook","Runtime.Providers.HookProvider")])},getNamespace:function(){return"Runtime"},getClassName:function(){return"Runtime.ModuleDescription"},getParentClassName:function(){return""},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.ModuleDescription),window["Runtime.ModuleDescription"]=Runtime.ModuleDescription,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.ModuleDescription),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Entity&&(Runtime.Entity={}),Runtime.Entity.Entity=function(){Runtime.BaseStruct.apply(this,arguments)},Runtime.Entity.Entity.prototype=Object.create(Runtime.BaseStruct.prototype),Runtime.Entity.Entity.prototype.constructor=Runtime.Entity.Entity,Object.assign(Runtime.Entity.Entity.prototype,{_init:function(){Runtime.BaseStruct.prototype._init.call(this),this.name=""},takeValue:function(e,t){return null==t&&(t=null),"name"==e?this.name:Runtime.BaseStruct.prototype.takeValue.call(this,e,t)}}),Object.assign(Runtime.Entity.Entity,Runtime.BaseStruct),Object.assign(Runtime.Entity.Entity,{getNamespace:function(){return"Runtime.Entity"},getClassName:function(){return"Runtime.Entity.Entity"},getParentClassName:function(){return"Runtime.BaseStruct"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){var e=[];return e.push("name"),Runtime.Vector.from(e)},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Entity.Entity),window["Runtime.Entity.Entity"]=Runtime.Entity.Entity,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Entity.Entity),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Entity&&(Runtime.Entity={}),Runtime.Entity.Hook=function(e){Runtime.Entity.Entity.call(this,Runtime.Map.from({name:e}))},Runtime.Entity.Hook.prototype=Object.create(Runtime.Entity.Entity.prototype),Runtime.Entity.Hook.prototype.constructor=Runtime.Entity.Hook,Object.assign(Runtime.Entity.Hook.prototype,{takeValue:function(e,t){return null==t&&(t=null),Runtime.Entity.Entity.prototype.takeValue.call(this,e,t)}}),Object.assign(Runtime.Entity.Hook,Runtime.Entity.Entity),Object.assign(Runtime.Entity.Hook,{getNamespace:function(){return"Runtime.Entity"},getClassName:function(){return"Runtime.Entity.Hook"},getParentClassName:function(){return"Runtime.Entity.Entity"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Entity.Hook),window["Runtime.Entity.Hook"]=Runtime.Entity.Hook,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Entity.Hook),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Entity&&(Runtime.Entity={}),Runtime.Entity.Provider=function(e,t,n){null==n&&(n=null),Runtime.Entity.Entity.call(this,Runtime.Map.from({name:e,value:t,params:n}))},Runtime.Entity.Provider.prototype=Object.create(Runtime.Entity.Entity.prototype),Runtime.Entity.Provider.prototype.constructor=Runtime.Entity.Provider,Object.assign(Runtime.Entity.Provider.prototype,{_init:function(){Runtime.Entity.Entity.prototype._init.call(this),this.value=""},takeValue:function(e,t){return null==t&&(t=null),"value"==e?this.value:Runtime.Entity.Entity.prototype.takeValue.call(this,e,t)}}),Object.assign(Runtime.Entity.Provider,Runtime.Entity.Entity),Object.assign(Runtime.Entity.Provider,{getNamespace:function(){return"Runtime.Entity"},getClassName:function(){return"Runtime.Entity.Provider"},getParentClassName:function(){return"Runtime.Entity.Entity"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){var e=[];return e.push("value"),Runtime.Vector.from(e)},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Entity.Provider),window["Runtime.Entity.Provider"]=Runtime.Entity.Provider,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Entity.Provider),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Hooks&&(Runtime.Hooks={}),Runtime.Hooks.RuntimeHook=function(){Runtime.BaseHook.apply(this,arguments)},Runtime.Hooks.RuntimeHook.prototype=Object.create(Runtime.BaseHook.prototype),Runtime.Hooks.RuntimeHook.prototype.constructor=Runtime.Hooks.RuntimeHook,Object.assign(Runtime.Hooks.RuntimeHook.prototype,{getMethodName:function(e){return e==this.constructor.INIT?"init":e==this.constructor.START?"start":e==this.constructor.LAUNCHED?"launched":e==this.constructor.RUN?"run":e==this.constructor.ENV?"env":""},init:async function(e){return Promise.resolve(e)},start:async function(e){return Promise.resolve(e)},launched:async function(e){return Promise.resolve(e)},run:async function(e){return Promise.resolve(e)},env:function(e){return e}}),Object.assign(Runtime.Hooks.RuntimeHook,Runtime.BaseHook),Object.assign(Runtime.Hooks.RuntimeHook,{INIT:"runtime::init",START:"runtime::start",LAUNCHED:"runtime::launched",RUN:"runtime::run",ENV:"runtime::env",getNamespace:function(){return"Runtime.Hooks"},getClassName:function(){return"Runtime.Hooks.RuntimeHook"},getParentClassName:function(){return"Runtime.BaseHook"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Hooks.RuntimeHook),window["Runtime.Hooks.RuntimeHook"]=Runtime.Hooks.RuntimeHook,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Hooks.RuntimeHook),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Providers&&(Runtime.Providers={}),Runtime.Providers.HookProvider=function(){Runtime.BaseProvider.apply(this,arguments)},Runtime.Providers.HookProvider.prototype=Object.create(Runtime.BaseProvider.prototype),Runtime.Providers.HookProvider.prototype.constructor=Runtime.Providers.HookProvider,Object.assign(Runtime.Providers.HookProvider.prototype,{init:async function(){var e=Runtime.rtl.getContext().getEntities("Runtime.Entity.Hook");this.base_hooks=new Runtime.Vector;for(var t=0;t<e.count();t++){var n=Runtime.rtl.attr(e,t),n=Runtime.rtl.newInstance(n.name);n.hook=this,n.register_hooks(),this.base_hooks.push(n)}},start:async function(){await Runtime.BaseProvider.prototype.start.bind(this)()},register:function(e,t,n,i){null==i&&(i=0),this.hooks.has(e)||this.hooks.set(e,new Runtime.Map);e=Runtime.rtl.attr(this.hooks,e);e.has(i)||e.set(i,new Runtime.Vector),e.get(i).push(new Runtime.Callback(t,n))},remove:function(e,t,n,i){null==i&&(i=100),this.hooks.has(e)||this.hooks.setValue(e,new Runtime.Map);e=Runtime.rtl.attr(this.hooks,e),e.has(i)||e.setValue(i,new Runtime.Vector),e=e.get(i),i=e.find(e=>e.obj==t&&e.name==n);-1<i&&e.removePosition(i)},getMethods:function(e){if(!this.hooks.has(e))return Runtime.Vector.from([]);for(var t=new Runtime.Vector,n=Runtime.rtl.attr(this.hooks,e),i=n.keys().sort(),o=0;o<i.count();o++){var r=Runtime.rtl.attr(i,o),r=n.get(r);t.appendItems(r)}return t.toCollection()},_init:function(){Runtime.BaseProvider.prototype._init.call(this),this.base_hooks=Runtime.Vector.from([]),this.hooks=new Runtime.Map}}),Object.assign(Runtime.Providers.HookProvider,Runtime.BaseProvider),Object.assign(Runtime.Providers.HookProvider,{getNamespace:function(){return"Runtime.Providers"},getClassName:function(){return"Runtime.Providers.HookProvider"},getParentClassName:function(){return"Runtime.BaseProvider"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Providers.HookProvider),window["Runtime.Providers.HookProvider"]=Runtime.Providers.HookProvider,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Providers.HookProvider),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Providers&&(Runtime.Providers={}),Runtime.Providers.OutputProvider=function(){Runtime.BaseProvider.call(this),this.color_table=Runtime.Map.from({black:"0;30",dark_red:"0;31",green:"0;32",brown:"0;33",dark_blue:"0;34",dark_purple:"0;35",dark_cyan:"0;36",gray:"0;37",dark_gray:"0;90",red:"0;91",light_green:"0;92",yellow:"0;93",blue:"0;94",purple:"0;95",cyan:"0;96",white:"0;97",bold_black:"1;30",bold_dark_red:"1;31",bold_green:"1;32",bold_brown:"1;33",bold_dark_blue:"1;34",bold_dark_purple:"1;35",bold_dark_cyan:"1;36",bold_gray:"1;37",bold_dark_gray:"1;90",bold_red:"1;91",bold_light_green:"1;92",bold_yellow:"1;93",bold_blue:"1;94",bold_purple:"1;95",bold_cyan:"1;96",bold_white:"1;97",italic_black:"3;30",italic_dark_red:"3;31",italic_green:"3;32",italic_brown:"3;33",italic_dark_blue:"3;34",italic_dark_purple:"3;35",italic_dark_cyan:"3;36",italic_gray:"3;37",italic_dark_gray:"3;90",italic_red:"3;91",italic_light_green:"3;92",italic_yellow:"3;93",italic_blue:"3;94",italic_purple:"3;95",italic_cyan:"3;96",italic_white:"3;97",underline_black:"4;30",underline_dark_red:"4;31",underline_green:"4;32",underline_brown:"4;33",underline_dark_blue:"4;34",underline_dark_purple:"4;35",underline_dark_cyan:"4;36",underline_gray:"4;37",underline_dark_gray:"4;90",underline_red:"4;91",underline_light_green:"4;92",underline_yellow:"4;93",underline_blue:"4;94",underline_purple:"4;95",underline_cyan:"4;96",underline_white:"4;97",bg_black:"0;40",bg_dark_red:"0;41",bg_green:"0;42",bg_brown:"0;43",bg_dark_blue:"0;44",bg_dark_purple:"0;45",bg_dark_cyan:"0;46",bg_gray:"0;47",bg_dark_gray:"0;100",bg_red:"0;101",bg_light_green:"0;102",bg_yellow:"0;103",bg_blue:"0;104",bg_purple:"0;105",bg_cyan:"0;106",bg_white:"0;107",bg_italic_black:"3;40",bg_italic_dark_red:"3;41",bg_italic_green:"3;42",bg_italic_brown:"3;43",bg_italic_dark_blue:"3;44",bg_italic_dark_purple:"3;45",bg_italic_dark_cyan:"3;46",bg_italic_gray:"3;47",bg_italic_dark_gray:"3;100",bg_italic_red:"3;101",bg_italic_light_green:"3;102",bg_italic_yellow:"3;103",bg_italic_blue:"3;104",bg_italic_purple:"3;105",bg_italic_cyan:"3;106",bg_italic_white:"3;107",bg_underline_black:"4;40",bg_underline_dark_red:"4;41",bg_underline_green:"4;42",bg_underline_brown:"4;43",bg_underline_dark_blue:"4;44",bg_underline_dark_purple:"4;45",bg_underline_dark_cyan:"4;46",bg_underline_gray:"4;47",bg_underline_dark_gray:"4;100",bg_underline_red:"4;101",bg_underline_light_green:"4;102",bg_underline_yellow:"4;103",bg_underline_blue:"4;104",bg_underline_purple:"4;105",bg_underline_cyan:"4;106",bg_underline_white:"4;107"})},Runtime.Providers.OutputProvider.prototype=Object.create(Runtime.BaseProvider.prototype),Runtime.Providers.OutputProvider.prototype.constructor=Runtime.Providers.OutputProvider,Object.assign(Runtime.Providers.OutputProvider.prototype,{print:function(e,t,n){if(null==t&&(t=!0),null==n&&(n=""),!Runtime.rtl.isString(e))throw new Runtime.Exceptions.RuntimeException("print message must be string");console.log(e)},print_error:function(e){var t,n;e instanceof Error?(n=this.getColor("dark_red"),n=(t=String.fromCharCode(27))+"["+n+"m"+e.stack+t+"[0m",this.print(n,!0,"err")):this.print(this.color("dark_red",e),!0,"err")},color:function(e,t){return e=this.getColor(e),t=(t=Runtime.rs.chr(27)+Runtime.rtl.toStr("[")+Runtime.rtl.toStr(e)+Runtime.rtl.toStr("m")+Runtime.rtl.toStr(t))+Runtime.rtl.toStr(Runtime.rs.chr(27))+Runtime.rtl.toStr("[0m")},getColor:function(e){e=Runtime.rs.lower(e);return this.color_table.has(e)?Runtime.rtl.attr(this.color_table,e):5<Runtime.rs.strlen(e)?"0":e}}),Object.assign(Runtime.Providers.OutputProvider,Runtime.BaseProvider),Object.assign(Runtime.Providers.OutputProvider,{getNamespace:function(){return"Runtime.Providers"},getClassName:function(){return"Runtime.Providers.OutputProvider"},getParentClassName:function(){return"Runtime.BaseProvider"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Providers.OutputProvider),window["Runtime.Providers.OutputProvider"]=Runtime.Providers.OutputProvider,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Providers.OutputProvider),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.ApiProvider=function(){Runtime.BaseProvider.apply(this,arguments)},Runtime.Web.ApiProvider.prototype=Object.create(Runtime.BaseProvider.prototype),Runtime.Web.ApiProvider.prototype.constructor=Runtime.Web.ApiProvider,Object.assign(Runtime.Web.ApiProvider.prototype,{callApi:async function(e){return Promise.resolve(await this.sendApi(e))},sendApi:async function(e){var t,n=new Runtime.Monad(Runtime.rtl.attr(e,"service")).monad(Runtime.rtl.m_to("string","app")).value(),i=new Runtime.Monad(Runtime.rtl.attr(e,"api_name")).monad(Runtime.rtl.m_to("string","")).value(),o=new Runtime.Monad(Runtime.rtl.attr(e,"method")).monad(Runtime.rtl.m_to("string","")).value(),e=new Runtime.Monad(Runtime.rtl.attr(e,"data")).monad(Runtime.rtl.m_to("Runtime.Dict",null)).value(),r=(r=Runtime.Vector.from(["","api",n,i,o])).filter(e=>""!=e),r="/"+Runtime.rtl.toStr(r.join("/"))+Runtime.rtl.toStr("/"),s=new Runtime.Web.ApiResult;try{var a=Runtime.Map.from({service:n,api_name:i,method_name:o,data:e}),l=await new Runtime.Curl(r,Runtime.Map.from({post:a})).send(),u=Runtime.rtl.json_decode(l);u&&u instanceof Runtime.Dict?s.importContent(u):s.exception(new Runtime.Exceptions.AbstractException("Api response error"))}catch(e){if(!(e instanceof Runtime.Exceptions.CurlException))throw t=e;s.exception(t=e),s.ob_content=t.http_content,Runtime.rtl.getContext().env("DEBUG")&&Runtime.io.print_error(t.http_content)}return Promise.resolve(s)}}),Object.assign(Runtime.Web.ApiProvider,Runtime.BaseProvider),Object.assign(Runtime.Web.ApiProvider,{getNamespace:function(){return"Runtime.Web"},getClassName:function(){return"Runtime.Web.ApiProvider"},getParentClassName:function(){return"Runtime.BaseProvider"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Web.ApiProvider),window["Runtime.Web.ApiProvider"]=Runtime.Web.ApiProvider,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Web.ApiProvider),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.ApiResult=function(){Runtime.BaseObject.apply(this,arguments)},Runtime.Web.ApiResult.prototype=Object.create(Runtime.BaseObject.prototype),Runtime.Web.ApiResult.prototype.constructor=Runtime.Web.ApiResult,Object.assign(Runtime.Web.ApiResult.prototype,{isError:function(){return this.code<0},isException:function(){return this.is_exception},isSuccess:function(){return 0<this.code},getErrorMessage:function(){return this.message},getErrorCode:function(){return this.code},getContent:function(){var e=Runtime.Map.from({code:this.code,message:this.message,data:this.data});return""!=this.error_name&&e.set("error_name",this.error_name),""!=this.error_file&&e.set("error_file",this.error_file),""!=this.error_line&&e.set("error_line",this.error_line),""!=this.error_pos&&e.set("error_pos",this.error_pos),""!=this.error_trace&&e.set("error_trace",this.error_trace),e},importContent:function(e){this.data=e.get("data",null),this.code=e.get("code",-1),this.message=e.get("message","Unknown error"),this.ob_content=e.get("ob_content",""),this.error_name=e.get("error_name",""),this.error_file=e.get("error_file",""),this.error_line=e.get("error_line",""),this.error_pos=e.get("error_pos","")},setData:function(e){if(null!=e)if(e instanceof Runtime.Dict)for(var t=e.keys(),n=0;n<t.count();n++){var i=t.get(n);this.data.set(i,e.get(i))}else this.data=e},success:function(e){null==(e=null==e?null:e)?(this.code=Runtime.rtl.ERROR_OK,this.message="Ok"):(e.has("code")?this.code=Runtime.rtl.attr(e,"code"):this.code=Runtime.rtl.ERROR_OK,e.has("message")?this.message=Runtime.rtl.attr(e,"message"):this.message="Ok",e.has("data")&&this.setData(Runtime.rtl.attr(e,"data")))},exception:function(e){this.code=e.getErrorCode(),this.message=e.getErrorMessage(),this.error_name=e.constructor.getClassName(),this.error_file=e.getFileName(),this.error_line=e.getErrorLine(),this.error_pos=e.getErrorPos(),this.is_exception=!0},fail:function(e){(e=null==e?null:e)instanceof Runtime.Exceptions.AbstractException?(this.code=e.getErrorCode(),this.message=e.getErrorMessage(),this.error_name=e.constructor.getClassName()):e instanceof Runtime.Dict?(e.has("code")?this.code=Runtime.rtl.attr(e,"code"):this.code=Runtime.rtl.ERROR_UNKNOWN,e.has("message")?this.message=Runtime.rtl.attr(e,"message"):this.message="Error",e.has("data")&&this.setData(Runtime.rtl.attr(e,"data"))):(this.code=Runtime.rtl.ERROR_UNKNOWN,this.message="Error")},_init:function(){Runtime.BaseObject.prototype._init.call(this),this.code=0,this.message="",this.data=Runtime.Map.from({}),this.ob_content="",this.error_name=null,this.error_file="",this.error_line="",this.error_pos=0,this.error_trace=null,this.is_exception=!1}}),Object.assign(Runtime.Web.ApiResult,Runtime.BaseObject),Object.assign(Runtime.Web.ApiResult,{getNamespace:function(){return"Runtime.Web"},getClassName:function(){return"Runtime.Web.ApiResult"},getParentClassName:function(){return"Runtime.BaseObject"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Web.ApiResult),window["Runtime.Web.ApiResult"]=Runtime.Web.ApiResult,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Web.ApiResult),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.BaseApp=function(){Runtime.BaseObject.apply(this,arguments)},Runtime.Web.BaseApp.prototype=Object.create(Runtime.BaseObject.prototype),Runtime.Web.BaseApp.prototype.constructor=Runtime.Web.BaseApp,Object.assign(Runtime.Web.BaseApp.prototype,{init:async function(){},start:async function(){},main:async function(){return Promise.resolve(0)},createLayout:function(){return new Runtime.Web.LayoutModel},createRenderContainer:function(){var e=new Runtime.Web.RenderContainer;return e.request=this.createRequest(),e.layout=this.createLayout(),Runtime.rtl.getContext().callHook(Runtime.Web.Hooks.AppHook.CREATE_CONTAINER,Runtime.Map.from({container:e})),e},createRequest:function(){return null}}),Object.assign(Runtime.Web.BaseApp,Runtime.BaseObject),Object.assign(Runtime.Web.BaseApp,{getNamespace:function(){return"Runtime.Web"},getClassName:function(){return"Runtime.Web.BaseApp"},getParentClassName:function(){return"Runtime.BaseObject"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Web.BaseApp),window["Runtime.Web.BaseApp"]=Runtime.Web.BaseApp,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Web.BaseApp),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.BaseModel=function(e){null==e&&(e=null),Runtime.BaseObject.call(this),e&&(e.has("layout")&&(this.layout=e.get("layout")),e.has("component")&&(this.component=e.get("component")),e.has("widget_name")&&(this.widget_name=e.get("widget_name")),e.has("parent_widget"))&&(e=e.get("parent_widget"),this.layout=e.layout,this.parent_widget=e,this.model_path=e.model_path.concat(Runtime.Vector.from(["widgets",this.widget_name])),e.widgets.set(this.widget_name,this)),null!=this.layout&&""!=this.component&&this.layout.addComponent(this.component)},Runtime.Web.BaseModel.prototype=Object.create(Runtime.BaseObject.prototype),Runtime.Web.BaseModel.prototype.constructor=Runtime.Web.BaseModel,Object.assign(Runtime.Web.BaseModel.prototype,{getWidget:function(e){return this.widgets.get(e)},getWidgetName:function(){return this.widget_name},loadData:async function(){for(var e=this.widgets.keys(),t=0;t<e.count();t++){var n=e.get(t);await this.widgets.get(n).loadData()}},processFrontendData:function(e,t){e.process(this,"widget_name",t),e.process(this,"widgets",t),e.isExport()&&t.set("__class_name__",this.constructor.getClassName())},url:function(e,t){var i;return null==t&&(t=null),this.layout.routes.has(e)?(i=this.layout.routes.get(e),null!=t&&t.each((e,t)=>{var n=Runtime.rs.indexOf(i,"{"+Runtime.rtl.toStr(t)+Runtime.rtl.toStr("}"));i=0<=n?Runtime.rs.replace("{"+Runtime.rtl.toStr(t)+Runtime.rtl.toStr("}"),e,i):Runtime.rs.url_get_add(i,t,e)}),i):null},_init:function(){Runtime.BaseObject.prototype._init.call(this),this.parent_widget=null,this.layout=null,this.component="",this.widget_name="",this.widgets=Runtime.Map.from({}),this.model_path=Runtime.Vector.from([])}}),Object.assign(Runtime.Web.BaseModel,Runtime.BaseObject),Object.assign(Runtime.Web.BaseModel,{getNamespace:function(){return"Runtime.Web"},getClassName:function(){return"Runtime.Web.BaseModel"},getParentClassName:function(){return"Runtime.BaseObject"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Web.BaseModel),window["Runtime.Web.BaseModel"]=Runtime.Web.BaseModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Web.BaseModel),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.Component={name:"Runtime.Web.Component",props:{model:{default:null},data:{default:null}},data:function(){return{render_cache:new Runtime.Map}},methods:{render:function(){return this._flatten([])},renderSlot:function(e){e=this.$slots[e];return null==e?null:e()},getParent:function(){return this.$parent},getRef:function(e){return this.$refs[e]},emit:function(e,t){return null==t&&(t=null),this.$emit.apply(this,arguments)},onCreated:function(){},onBeforeMount:function(){},onMounted:function(){},onBeforeUpdate:function(){},onUpdated:function(){},onBeforeUnmount:function(){},onUnmounted:function(){},_model:function(e,t){return null==t&&(t=!1),(e=null==e?null:e)instanceof Runtime.Collection?0==e.count()?this.model:t?this.layout.model(e):Runtime.rtl.attr(this.model,e):e},_class_name:function(e){return e.push(this.$options.getCssHash(this.$options.getClassName())),(e=e.filter(e=>""!=e)).join(" ")},_merge_attrs:function(e,t){return Object.assign({},e,t.toObject())},_escape:function(e){return Runtime.rtl.isScalarValue(e)?Runtime.rs.htmlEscape(e):""},_t:function(e,t){null==(t=null==t?null:t)||t instanceof Array&&0==t.length||(Runtime.rtl.isScalarValue(t)&&(t=""+t),this._parent_elem_push(e,t))},_e:function(e,t,n,i){null==i&&(i=null);i=Vue.h(t=null==t?null:t,n=null==n?null:n);return this._parent_elem_push(e,i),i},_c:function(e,t,n,i){null==n&&(n=null),null==i&&(i=null);var o=use(t=null==t?null:t);if(null==o)throw new Runtime.Exceptions.ItemNotFound(t);return t=Vue.h(o,n,i),this._parent_elem_push(e,t),t},_parent_elem_push:function(t,n){if(t instanceof Array)if(n instanceof Array)for(let e=0;e<n.length;e++)t.push(n[e]);else t.push(n);else if("object"==typeof t)if(n instanceof Array){null==t.children&&(t.children=[],t.shapeFlag=17);for(let e=0;e<n.length;e++)t.children.push(n[e])}else"string"==typeof n?(null==t.children&&(t.children="",t.shapeFlag=9),t.children instanceof Array?t.children.push(n):t.children+=n):"object"==typeof n&&(null==t.children&&(t.children=[],t.shapeFlag=17),"string"==typeof t.children&&(t.children=[t.children],t.shapeFlag=17),t.children.push(n))},_flatten:function(e,t){return null==t&&(t=!0),0==e.length?null:1==e.length?e[0]:e},_teleport:function(e,t,n){null==n&&(n=null),null==(t=null==t?null:t).to&&(t.to=".teleports");n=Vue.h(Vue.Teleport,t,[]);return this._parent_elem_push(e,n),n}}},Object.assign(Runtime.Web.Component,{onBeforeCreate:function(){},components:function(){return Runtime.Vector.from([])},getCssHash:function(e){var t=Runtime.rtl._memorizeValue("Runtime.Web.Component.getCssHash",arguments);return t==Runtime.rtl._memorize_not_found&&(t=new Runtime.Monad(Runtime.rtl.getParents(e)).callMethod("toVector",[]).callMethod("prepend",[e]).callMethod("filter",[e=>"Runtime.BaseObject"!=e&&"Runtime.Web.Component"!=e&&""!=e]).callMethod("map",[e=>"h-"+Runtime.rtl.toStr(this.hash(e))]).call(Runtime.lib.join(" ")).value(),Runtime.rtl._memorizeSave("Runtime.Web.Component.getCssHash",arguments,t)),t},hash:function(e){var t,n=Runtime.rtl._memorizeValue("Runtime.Web.Component.hash",arguments);return n==Runtime.rtl._memorize_not_found&&(t=Runtime.rs.hash(e,!0,337,65537)+65537,t=Runtime.rs.toHex(t),n=Runtime.rs.substr(t,-4),Runtime.rtl._memorizeSave("Runtime.Web.Component.hash",arguments,n)),n},isComponent:function(e){var t=Runtime.rs.substr(e,0,1),n=Runtime.rs.upper(t);return""!=e&&("{"==t||t==n)},getNamespace:function(){return"Runtime.Web"},getClassName:function(){return"Runtime.Web.Component"},getParentClassName:function(){return"Runtime.BaseObject"}}),Runtime.rtl.defClass(Runtime.Web.Component),window["Runtime.Web.Component"]=Runtime.Web.Component,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Web.Component),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.Events=function(){Runtime.BaseObject.apply(this,arguments)},Runtime.Web.Events.prototype=Object.create(Runtime.BaseObject.prototype),Runtime.Web.Events.prototype.constructor=Runtime.Web.Events,Object.assign(Runtime.Web.Events.prototype,{add:function(e,t){this.items.has(e)||this.items.set(e,Runtime.Vector.from([])),t.exists()&&this.items.get(e).append(t)},emmit:function(e,t){if(null==t&&(t=null),this.items.has(e))for(var n=this.items.get(e),i=0;i<n.count();i++){var o=n.get(i);Runtime.rtl.apply(o,t)}},_init:function(){Runtime.BaseObject.prototype._init.call(this),this.items=Runtime.Map.from({})}}),Object.assign(Runtime.Web.Events,Runtime.BaseObject),Object.assign(Runtime.Web.Events,{getNamespace:function(){return"Runtime.Web"},getClassName:function(){return"Runtime.Web.Events"},getParentClassName:function(){return"Runtime.BaseObject"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Web.Events),window["Runtime.Web.Events"]=Runtime.Web.Events,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Web.Events),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.LayoutModel=function(e){null==e&&(e=null),Runtime.Web.BaseModel.call(this,e),this.layout=this},Runtime.Web.LayoutModel.prototype=Object.create(Runtime.Web.BaseModel.prototype),Runtime.Web.LayoutModel.prototype.constructor=Runtime.Web.LayoutModel,Object.assign(Runtime.Web.LayoutModel.prototype,{init:function(){},processFrontendData:function(e,t){e.process(this,"title",t),e.process(this,"layout_name",t),e.process(this,"current_page_model",t),e.process(this,"current_page",t),e.process(this,"f_inc",t),e.process(this,"route",t),e.process(this,"request_full_uri",t),e.process(this,"request_uri",t),e.process(this,"request_query",t),e.process(this,"components",t),e.process(this,"routes",t),Runtime.Web.BaseModel.prototype.processFrontendData.call(this,e,t)},model:function(e){return Runtime.rtl.attr(this,e)},getPageModel:function(){return this.widgets.get(this.current_page_model)},setPageModel:function(e){e=Runtime.rtl.newInstance(e,Runtime.Vector.from([Runtime.Map.from({parent_widget:this,widget_name:e})]));this.current_page_model=e.constructor.getClassName()},setCurrentPage:function(e){this.current_page=e},setLayoutName:function(e){this.layout_name=e},setPageTitle:function(e){this.title=e},getLayoutClassName:function(){this.layout_name;var e=Runtime.rtl.getContext().callHook(Runtime.Web.Hooks.AppHook.LAYOUT_CLASS_NAME,Runtime.Map.from({layout_name:this.layout_name,class_name:""}));return Runtime.rtl.attr(e,"class_name")},callApi:async function(e){e=await Runtime.rtl.getContext().provider("Runtime.Web.ApiProvider").callApi(e);return Promise.resolve(e)},addComponent:function(e){this.components.push(e)},getComponents:function(e){null==(e=null==e?null:e)&&(e=Runtime.Vector.from([]));var t=new Runtime.Vector,n=new Runtime.Map;return(e=e.concat(this.components)).push(this.getLayoutClassName()),e=Runtime.rtl.getContext().callHook(Runtime.Web.Hooks.AppHook.COMPONENTS,Runtime.Map.from({layout:this,components:e})).get("components"),this.constructor._getRequiredComponents(t,n,e),t.removeDuplicates()},_init:function(){Runtime.Web.BaseModel.prototype._init.call(this),this.title="",this.layout_name="default",this.current_page_model="",this.current_page="",this.route=null,this.request_full_uri="",this.request_host="",this.request_uri="",this.request_query=null,this.components=Runtime.Vector.from([]),this.routes=Runtime.Map.from({}),this.f_inc="1"}}),Object.assign(Runtime.Web.LayoutModel,Runtime.Web.BaseModel),Object.assign(Runtime.Web.LayoutModel,{_getRequiredComponents:function(e,t,n){if(null!=n)for(var i=0;i<n.count();i++){var o,r=n.item(i);""==r||t.has(r)||(t.set(r,!0),(o=new Runtime.Callback(r,"components")).exists()&&(o=Runtime.rtl.apply(o),this._getRequiredComponents(e,t,o)),e.push(r))}},getCss:function(e,t){null==(t=null==t?null:t)&&(t=Runtime.rtl.getContext().callHook(Runtime.Web.Hooks.AppHook.CSS_VARS,t));e=(e=e.map(e=>{return""!=e&&(e=new Runtime.Callback(e,"css")).exists()?Runtime.rtl.apply(e,Runtime.Vector.from([t])):""})).map(e=>Runtime.rs.trim(e)).filter(e=>""!=e);return Runtime.rs.trim(Runtime.rs.join("\n",e))},getNamespace:function(){return"Runtime.Web"},getClassName:function(){return"Runtime.Web.LayoutModel"},getParentClassName:function(){return"Runtime.Web.BaseModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Web.LayoutModel),window["Runtime.Web.LayoutModel"]=Runtime.Web.LayoutModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Web.LayoutModel),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.PageModel=function(e){null==e&&(e=null),Runtime.Web.BaseModel.call(this,e),this.widget_name=this.constructor.getClassName(),this.model_path=Runtime.Vector.from(["widgets",this.widget_name])},Runtime.Web.PageModel.prototype=Object.create(Runtime.Web.BaseModel.prototype),Runtime.Web.PageModel.prototype.constructor=Runtime.Web.PageModel,Object.assign(Runtime.Web.PageModel.prototype,{}),Object.assign(Runtime.Web.PageModel,Runtime.Web.BaseModel),Object.assign(Runtime.Web.PageModel,{getNamespace:function(){return"Runtime.Web"},getClassName:function(){return"Runtime.Web.PageModel"},getParentClassName:function(){return"Runtime.Web.BaseModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Web.PageModel),window["Runtime.Web.PageModel"]=Runtime.Web.PageModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Web.PageModel),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.RenderContainer=function(){Runtime.BaseObject.apply(this,arguments)},Runtime.Web.RenderContainer.prototype=Object.create(Runtime.BaseObject.prototype),Runtime.Web.RenderContainer.prototype.constructor=Runtime.Web.RenderContainer,Object.assign(Runtime.Web.RenderContainer.prototype,{callApi:function(e){return null},exportData:function(){var e=Runtime.Map.from({entry_point:"",modules:Runtime.Vector.from([]),environments:this.frontend_env}),t=new Runtime.Web.WidgetSerializer;return t.setCallback("processFrontendData"),t.setFlag(Runtime.Serializer.EXPORT),t.process(this,"layout",e),Runtime.rtl.getContext().callHook(Runtime.Web.Hooks.AppHook.EXPORT_DATA,Runtime.Map.from({container:this,data:e})),e},importData:function(e){Runtime.rtl.getContext().callHook(Runtime.Web.Hooks.AppHook.IMPORT_DATA,Runtime.Map.from({container:this,data:e}));var t=new Runtime.Web.WidgetSerializer;t.setCallback("processFrontendData"),t.setFlag(Runtime.Serializer.IMPORT),this.layout.processFrontendData(t,e.get("layout")),Runtime.rtl.getContext().callHook(Runtime.Web.Hooks.AppHook.IMPORT_DATA_AFTER,Runtime.Map.from({container:this,data:e}))},render:function(e){this.layout.addComponent(e=null==e?"":e),this.layout.setCurrentPage(e),this.response=new Runtime.Web.RenderResponse,this.response.class_name=e},setResponse:function(e){this.response=e},_init:function(){Runtime.BaseObject.prototype._init.call(this),this.base_route=null,this.request=null,this.response=null,this.route=null,this.layout=null,this.frontend_env=Runtime.Map.from({}),this.teleports=Runtime.Vector.from([])}}),Object.assign(Runtime.Web.RenderContainer,Runtime.BaseObject),Object.assign(Runtime.Web.RenderContainer,{getNamespace:function(){return"Runtime.Web"},getClassName:function(){return"Runtime.Web.RenderContainer"},getParentClassName:function(){return"Runtime.BaseObject"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Web.RenderContainer),window["Runtime.Web.RenderContainer"]=Runtime.Web.RenderContainer,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Web.RenderContainer),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.RenderHelper=function(){},Object.assign(Runtime.Web.RenderHelper.prototype,{}),Object.assign(Runtime.Web.RenderHelper,{rgbToInt:function(e){"#"==this.substr(e,0,1)&&(e=this.substr(e,1));var t="",n="",i="",o=this.strlen(e);return 3==o?(t=Runtime.rs.substr(e,0,1),t+=Runtime.rtl.toStr(t),n=Runtime.rs.substr(e,1,1),n+=Runtime.rtl.toStr(n),i=Runtime.rs.substr(e,2,1),i+=Runtime.rtl.toStr(i)):6==o&&(t=Runtime.rs.substr(e,0,2),n=Runtime.rs.substr(e,2,2),i=Runtime.rs.substr(e,4,2)),t=this.hexdec(t),n=this.hexdec(n),i=this.hexdec(i),Runtime.Vector.from([t,n,i])},intToRgb:function(e,t,n){return(e=e.toString(16).padStart(2,"0"))+(t=t.toString(16).padStart(2,"0"))+(n=n.toString(16).padStart(2,"0"))},brightness:function(e,t){var e=this.rgbToInt(e),n=Runtime.rtl.attr(e,0),i=Runtime.rtl.attr(e,1),e=Runtime.rtl.attr(e,2);return(n=255<(n=Runtime.Math.round(n+n*t/100))?255:n)<0&&(n=0),(i=255<(i=Runtime.Math.round(i+i*t/100))?255:i)<0&&(i=0),(e=255<(e=Runtime.Math.round(e+e*t/100))?255:e)<0&&(e=0),"#"+Runtime.rtl.toStr(this.intToRgb(n,i,e))},strip_tags:function(e,t){if(null==(t=null==t?null:t))e=Runtime.re.replace("<[^>]+>","",e);else{var n=Runtime.re.matchAll("<[^>]+>",e,"i");if(n)for(var i=0;i<n.count();i++){var o=Runtime.rtl.attr(n,i),o=Runtime.rtl.attr(o,0),r=Runtime.re.matchAll("<(\\/|)([a-zA-Z]+)(|[^>]*)>",o,"i");r&&(r=this.strtolower(Runtime.rtl.attr(Runtime.rtl.attr(r,0),2)),-1==t.indexOf(r))&&(e=this.replace(o,"",e))}}return e=Runtime.rs.trim(Runtime.rs.spaceless(e))},getNamespace:function(){return"Runtime.Web"},getClassName:function(){return"Runtime.Web.RenderHelper"},getParentClassName:function(){return""},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Web.RenderHelper),window["Runtime.Web.RenderHelper"]=Runtime.Web.RenderHelper,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Web.RenderHelper),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.RenderProvider=function(e){null==e&&(e=null),Runtime.BaseProvider.call(this,e)},Runtime.Web.RenderProvider.prototype=Object.create(Runtime.BaseProvider.prototype),Runtime.Web.RenderProvider.prototype.constructor=Runtime.Web.RenderProvider,Object.assign(Runtime.Web.RenderProvider.prototype,{init:async function(){await Runtime.BaseProvider.prototype.init.bind(this)();var e=Runtime.rtl.getContext().getApp();this.container=e.createRenderContainer()},start:async function(){await Runtime.BaseProvider.prototype.start.bind(this)();var e=e=>({install:()=>{this.vue.config.globalProperties.$layout=e}}),t=Runtime.rtl.attr(window,"Vue"),n=Runtime.rtl.attr(window,"app_data"),i=new Runtime.Serializer,i=(i.setFlag(Runtime.Serializer.ALLOW_CLASS_NAME),n=i.toPrimitive(n,Runtime.Serializer.ALLOW_CLASS_NAME),this.container.importData(n),Runtime.rtl.getContext().callHook(Runtime.Web.Hooks.AppHook.RENDER_PROVIDER_SETTINGS,Runtime.Map.from({app:"#core_ui_root",ssr:!0,break:!1}))),n=(this.layout=t.reactive(this.container.layout),window&&(window.app_layout=this.layout),Runtime.rtl.find_class("Runtime.Web.AppComponent")),o=Runtime.Map.from({model:this.layout});if(i.get("break"))return Promise.resolve();var r=i.get("ssr"),r=(this.vue=r?t.createSSRApp(n,o.toObject()):t.createApp(n,o.toObject()),this.vue.use(e(this.layout)),await Runtime.rtl.getContext().callHookAsync(Runtime.Web.Hooks.AppHook.VUE_MODULES,Runtime.Map.from({vue:this.vue})),i.get("app"));this.vue.mount(r,!0)},_init:function(){Runtime.BaseProvider.prototype._init.call(this),this.vue=null}}),Object.assign(Runtime.Web.RenderProvider,Runtime.BaseProvider),Object.assign(Runtime.Web.RenderProvider,{getNamespace:function(){return"Runtime.Web"},getClassName:function(){return"Runtime.Web.RenderProvider"},getParentClassName:function(){return"Runtime.BaseProvider"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Web.RenderProvider),window["Runtime.Web.RenderProvider"]=Runtime.Web.RenderProvider,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Web.RenderProvider),Runtime.Web.Component.render=function(){return this.render()},Runtime.Web.Component.computed={layout:function(){return this.$layout}},Runtime.Web.Component.beforeCreate=function(){return this.$options.onBeforeCreate()},Runtime.Web.Component.created=function(){return this.onCreated()},Runtime.Web.Component.beforeMount=function(){return this.onBeforeMount()},Runtime.Web.Component.mounted=function(){return this.onMounted()},Runtime.Web.Component.beforeUpdate=function(){return this.onBeforeUpdate()},Runtime.Web.Component.updated=function(){return this.onUpdated()},Runtime.Web.Component.beforeUnmount=function(){return this.onBeforeUnmount()},Runtime.Web.Component.unmounted=function(){return this.onUnmounted()},void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.RouteInfo=function(){Runtime.BaseStruct.apply(this,arguments)},Runtime.Web.RouteInfo.prototype=Object.create(Runtime.BaseStruct.prototype),Runtime.Web.RouteInfo.prototype.constructor=Runtime.Web.RouteInfo,Object.assign(Runtime.Web.RouteInfo.prototype,{_changes:function(e){if(e.has("uri")&&!e.has("uri_match")){var t=Runtime.rtl.attr(e,"uri"),n=Runtime.rtl.attr(e,"uri_match"),i=(n=Runtime.re.replace("\\/","\\/",t),Runtime.re.matchAll("{(.*?)}",t));if(i){for(var o=new Runtime.Vector,r=0;r<i.count();r++){var s=Runtime.rtl.attr(i,r),s=Runtime.rtl.attr(s,1),n=Runtime.re.replace("{"+Runtime.rtl.toStr(s)+Runtime.rtl.toStr("}"),"([^\\/]*?)",n);o.push(s)}e.set("params",o.toCollection())}else e.set("params",Runtime.Vector.from([]));e.set("uri_match","^"+Runtime.rtl.toStr(n)+Runtime.rtl.toStr("$"))}},addMatches:function(e){for(var t=Runtime.Map.from({}),n=0;n<this.params.count();n++){var i=this.params.get(n),o=e.get(n);t.set(i,o)}return this.clone(Runtime.Map.from({matches:t}))},_init:function(){Runtime.BaseStruct.prototype._init.call(this),this.name="",this.uri="",this.uri_match="",this.domain="",this.method=null,this.middleware=Runtime.Vector.from([]),this.params=Runtime.Vector.from([]),this.matches=Runtime.Map.from({}),this.is_backend=!1,this.enable_locale=!0,this.pos=100},takeValue:function(e,t){return null==t&&(t=null),"name"==e?this.name:"uri"==e?this.uri:"uri_match"==e?this.uri_match:"domain"==e?this.domain:"method"==e?this.method:"middleware"==e?this.middleware:"params"==e?this.params:"matches"==e?this.matches:"is_backend"==e?this.is_backend:"enable_locale"==e?this.enable_locale:"pos"==e?this.pos:Runtime.BaseStruct.prototype.takeValue.call(this,e,t)}}),Object.assign(Runtime.Web.RouteInfo,Runtime.BaseStruct),Object.assign(Runtime.Web.RouteInfo,{getNamespace:function(){return"Runtime.Web"},getClassName:function(){return"Runtime.Web.RouteInfo"},getParentClassName:function(){return"Runtime.BaseStruct"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){var e=[];return e.push("name"),e.push("uri"),e.push("uri_match"),e.push("domain"),e.push("method"),e.push("middleware"),e.push("params"),e.push("matches"),e.push("is_backend"),e.push("enable_locale"),e.push("pos"),Runtime.Vector.from(e)},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Web.RouteInfo),window["Runtime.Web.RouteInfo"]=Runtime.Web.RouteInfo,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Web.RouteInfo),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.WidgetSerializer=function(){Runtime.Serializer.apply(this,arguments)},Runtime.Web.WidgetSerializer.prototype=Object.create(Runtime.Serializer.prototype),Runtime.Web.WidgetSerializer.prototype.constructor=Runtime.Web.WidgetSerializer,Object.assign(Runtime.Web.WidgetSerializer.prototype,{import:function(e,t,n){this.parent_widgets.push(e),Runtime.Serializer.prototype.import.call(this,e,t,n),this.parent_widgets.pop()},newInstance:function(e,t){var n,i,o;return Runtime.rtl.is_instanceof(e,"Runtime.Web.BaseModel")?(n=t.get("widget_name"),null!=(o=(i=this.parent_widgets.last()).widgets.get(n))?o:Runtime.rtl.newInstance(e,Runtime.Vector.from([Runtime.Map.from({parent_widget:i,widget_name:n})]))):Runtime.Serializer.prototype.newInstance.call(this,e,t)},_init:function(){Runtime.Serializer.prototype._init.call(this),this.parent_widgets=Runtime.Vector.from([])}}),Object.assign(Runtime.Web.WidgetSerializer,Runtime.Serializer),Object.assign(Runtime.Web.WidgetSerializer,{getNamespace:function(){return"Runtime.Web"},getClassName:function(){return"Runtime.Web.WidgetSerializer"},getParentClassName:function(){return"Runtime.Serializer"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Web.WidgetSerializer),window["Runtime.Web.WidgetSerializer"]=Runtime.Web.WidgetSerializer,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Web.WidgetSerializer),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),void 0===Runtime.Web.Hooks&&(Runtime.Web.Hooks={}),Runtime.Web.Hooks.AppHook=function(){Runtime.BaseHook.apply(this,arguments)},Runtime.Web.Hooks.AppHook.prototype=Object.create(Runtime.BaseHook.prototype),Runtime.Web.Hooks.AppHook.prototype.constructor=Runtime.Web.Hooks.AppHook,Object.assign(Runtime.Web.Hooks.AppHook.prototype,{getMethodName:function(e){return e==this.constructor.COMPONENTS?"components":e==this.constructor.CORE_UI?"core_ui":e==this.constructor.CREATE_CONTAINER?"create_container":e==this.constructor.CSS_VARS?"css_vars":e==this.constructor.EXPORT_DATA?"export_data":e==this.constructor.FIND_ROUTE?"find_route":e==this.constructor.FIND_ROUTE_AFTER?"find_route_after":e==this.constructor.IMPORT_DATA?"import_data":e==this.constructor.IMPORT_DATA_AFTER?"import_data_after":e==this.constructor.INIT_LAYOUT?"init_layout":e==this.constructor.LAYOUT_CLASS_NAME?"layout_class_name":e==this.constructor.MATCH_ROUTE?"match_route":e==this.constructor.MIDDLEWARE_AFTER?"middleware_after":e==this.constructor.MIDDLEWARE_BEFORE?"middleware_before":e==this.constructor.RENDER_BODY?"render_body":e==this.constructor.RENDER_FOOTER?"render_footer":e==this.constructor.RENDER_HEAD?"render_head":e==this.constructor.RENDER_PROVIDER_SETTINGS?"render_provider_settings":e==this.constructor.RESPONSE?"response":e==this.constructor.ROUTES_INIT?"routes_init":e==this.constructor.ROUTE_BEFORE?"route_before":e==this.constructor.VUE_MODULES?"vue_modules":""},register_hooks:function(){},components:function(e){},core_ui:function(e){},create_container:function(e){},css_vars:function(e){},export_data:function(e){},import_data:function(e){},import_data_after:function(e){},find_route:function(e){},find_route_after:function(e){},init_layout:async function(e){},layout_class_name:function(e){},match_route:function(e){},middleware_before:async function(e){},middleware_after:async function(e){},render_body:function(e){},render_footer:function(e){},render_head:function(e){},render_provider_settings:function(e){},routes_init:async function(e){},route_before:async function(e){},response:async function(e){},vue_modules:async function(e){}}),Object.assign(Runtime.Web.Hooks.AppHook,Runtime.BaseHook),Object.assign(Runtime.Web.Hooks.AppHook,{COMPONENTS:"runtime.web.app::components",CORE_UI:"runtime.web.app::core_ui",CREATE_CONTAINER:"runtime.web.app::create_container",CSS_VARS:"runtime.web.app::css_vars",EXPORT_DATA:"runtime.web.app::export_data",FIND_ROUTE:"runtime.web.app::find_route",FIND_ROUTE_AFTER:"runtime.web.app::find_route_after",IMPORT_DATA:"runtime.web.app::import_data",IMPORT_DATA_AFTER:"runtime.web.app::import_data_after",INIT_LAYOUT:"runtime.web.app::init_layout",LAYOUT_CLASS_NAME:"runtime.web.app::layout_class_name",MATCH_ROUTE:"runtime.web.app::match_route",MIDDLEWARE_AFTER:"runtime.web.app::middleware_after",MIDDLEWARE_BEFORE:"runtime.web.app::middleware_before",RENDER_BODY:"runtime.web.app::render_body",RENDER_FOOTER:"runtime.web.app::render_footer",RENDER_HEAD:"runtime.web.app::render_head",RENDER_PROVIDER_SETTINGS:"runtime.web.app::render_provider_settings",RESPONSE:"runtime.web.app::response",ROUTES_INIT:"runtime.web.app::routes_init",ROUTE_BEFORE:"runtime.web.app::route_before",VUE_MODULES:"runtime.web.app::vue_modules",getNamespace:function(){return"Runtime.Web.Hooks"},getClassName:function(){return"Runtime.Web.Hooks.AppHook"},getParentClassName:function(){return"Runtime.BaseHook"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Web.Hooks.AppHook),window["Runtime.Web.Hooks.AppHook"]=Runtime.Web.Hooks.AppHook,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Web.Hooks.AppHook),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.AppComponent={name:"Runtime.Web.AppComponent",extends:Runtime.Web.Component,methods:{render:function(){var e=[],t=this.layout.getLayoutClassName();this._c(e,t,{model:this._model(Runtime.Vector.from([]))});return this._flatten(e)}}},Object.assign(Runtime.Web.AppComponent,{getNamespace:function(){return"Runtime.Web"},getClassName:function(){return"Runtime.Web.AppComponent"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Web.AppComponent),window["Runtime.Web.AppComponent"]=Runtime.Web.AppComponent,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Web.AppComponent),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.ModuleDescription=function(){},Object.assign(Runtime.Web.ModuleDescription.prototype,{}),Object.assign(Runtime.Web.ModuleDescription,{getModuleName:function(){return"Runtime.Web"},getModuleVersion:function(){return"0.12.0"},requiredModules:function(){return Runtime.Map.from({Runtime:">=0.12"})},entities:function(){return Runtime.Vector.from([new Runtime.Entity.Provider("Runtime.Web.ApiProvider",new Runtime.Web.ApiProvider),new Runtime.Entity.Provider("Runtime.Web.RenderProvider",new Runtime.Web.RenderProvider)])},getNamespace:function(){return"Runtime.Web"},getClassName:function(){return"Runtime.Web.ModuleDescription"},getParentClassName:function(){return""},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Web.ModuleDescription),window["Runtime.Web.ModuleDescription"]=Runtime.Web.ModuleDescription,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Web.ModuleDescription),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.AppHook=function(){Runtime.Web.Hooks.AppHook.apply(this,arguments)},Runtime.Widget.AppHook.prototype=Object.create(Runtime.Web.Hooks.AppHook.prototype),Runtime.Widget.AppHook.prototype.constructor=Runtime.Widget.AppHook,Object.assign(Runtime.Widget.AppHook.prototype,{register_hooks:function(){this.register(this.constructor.COMPONENTS)},components:function(e){var t=Runtime.Vector.from(["Runtime.Widget.CSS","Runtime.Widget.Button","Runtime.Widget.Input","Runtime.Widget.Label","Runtime.Widget.RowButtons","Runtime.Widget.Select","Runtime.Widget.SelectLabel","Runtime.Widget.TextArea","Runtime.Widget.WidgetResult"]);t.appendItems(Runtime.rtl.attr(e,"components")),e.set("components",t)}}),Object.assign(Runtime.Widget.AppHook,Runtime.Web.Hooks.AppHook),Object.assign(Runtime.Widget.AppHook,{getNamespace:function(){return"Runtime.Widget"},getClassName:function(){return"Runtime.Widget.AppHook"},getParentClassName:function(){return"Runtime.Web.Hooks.AppHook"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.AppHook),window["Runtime.Widget.AppHook"]=Runtime.Widget.AppHook,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.AppHook),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.Button={name:"Runtime.Widget.Button",extends:Runtime.Web.Component,props:{href:{default:null},styles:{default:Runtime.Vector.from([])}},methods:{render:function(){var e,t=[],n=this.getHref();return null==n?(e=this._e(t,"button",{type:"button",onClick:this.onClick,class:this._class_name(["widget_button",this.getStyles()]),key:"widget_button"}),null!=this.model&&null!=this.model.content?this._t(e,this.model.content):this._t(e,this.renderSlot("default"))):(e=this._e(t,"a",{href:n,class:this._class_name(["nolink"]),key:"nolink"}),n=this._e(e,"button",{type:"button",onClick:this.onClick,class:this._class_name(["widget_button",this.getStyles()]),key:"widget_button"}),null!=this.model&&null!=this.model.content?this._t(n,this.model.content):this._t(n,this.renderSlot("default"))),this._flatten(t)},getHref:function(){var e=(null!=this.model?this.model:this).href;return Runtime.rtl.isCallable(e)?Runtime.rtl.apply(e,Runtime.Vector.from([this.data])):e},getStyles:function(){var e=(null!=this.model?this.model:this).styles;return(e instanceof Runtime.Widget.Styles?e:e.map(e=>"widget_button--"+Runtime.rtl.toStr(e))).join(" ")},onClick:function(e){this.model&&this.model.onClick(this.data),e.stopPropagation()}}},Object.assign(Runtime.Widget.Button,{css:function(e){return".widget_button.h-8dd7{"+Runtime.rtl.toStr("color: var(--widget-color-text);font-family: var(--widget-font-family);font-size: var(--widget-font-size);background-color: var(--widget-color-default);border: var(--widget-border-width) var(--widget-color-border) solid;padding: var(--widget-button-padding-y) var(--widget-button-padding-x);outline: 0;line-height: normal;cursor: pointer;")+Runtime.rtl.toStr("}.widget_button.h-8dd7:active{")+Runtime.rtl.toStr("box-shadow: inset 0px 2px 5px 0px rgba(0,0,0,0.25);")+Runtime.rtl.toStr("}.widget_button--small.h-8dd7{")+Runtime.rtl.toStr("padding: var(--widget-button-padding-small-y) var(--widget-button-padding-small-x);")+Runtime.rtl.toStr("}.widget_button--large.h-8dd7{")+Runtime.rtl.toStr("padding: var(--widget-button-padding-large-y) var(--widget-button-padding-large-x);")+Runtime.rtl.toStr("}.widget_button--primary.h-8dd7{")+Runtime.rtl.toStr("color: var(--widget-color-primary-text);background-color: var(--widget-color-primary);border-color: var(--widget-color-primary);")+Runtime.rtl.toStr("}.widget_button--danger.h-8dd7{")+Runtime.rtl.toStr("color: var(--widget-color-danger-text);background-color: var(--widget-color-danger);border-color: var(--widget-color-danger);")+Runtime.rtl.toStr("}.widget_button--success.h-8dd7{")+Runtime.rtl.toStr("color: var(--widget-color-success-text);background-color: var(--widget-color-success);border-color: var(--widget-color-success);")+Runtime.rtl.toStr("}.widget_button--last.h-8dd7{")+Runtime.rtl.toStr("border-right-width: var(--widget-border-width) !important;")+Runtime.rtl.toStr("}")},getNamespace:function(){return"Runtime.Widget"},getClassName:function(){return"Runtime.Widget.Button"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.Button),window["Runtime.Widget.Button"]=Runtime.Widget.Button,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Button),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.ButtonModel=function(e){null==e&&(e=null),Runtime.Web.BaseModel.call(this,e),e&&(e.has("component")&&(this.component=e.get("component")),e.has("content")&&(this.content=e.get("content")),e.has("styles")&&this.styles.addStyles(e.get("styles")),e.has("href"))&&(this.href=e.get("href"))},Runtime.Widget.ButtonModel.prototype=Object.create(Runtime.Web.BaseModel.prototype),Runtime.Widget.ButtonModel.prototype.constructor=Runtime.Widget.ButtonModel,Object.assign(Runtime.Widget.ButtonModel.prototype,{getComponent:function(){return this.component},getContent:function(){return this.content},onClick:function(e){null==e&&(e=null),this.events.emmit("onClick",Runtime.Vector.from([e]))},_init:function(){Runtime.Web.BaseModel.prototype._init.call(this),this.events=new Runtime.Web.Events,this.styles=new Runtime.Widget.Styles(Runtime.Map.from({prefix:"widget_button"})),this.component="Runtime.Widget.Button",this.content=null,this.href=null}}),Object.assign(Runtime.Widget.ButtonModel,Runtime.Web.BaseModel),Object.assign(Runtime.Widget.ButtonModel,{getNamespace:function(){return"Runtime.Widget"},getClassName:function(){return"Runtime.Widget.ButtonModel"},getParentClassName:function(){return"Runtime.Web.BaseModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.ButtonModel),window["Runtime.Widget.ButtonModel"]=Runtime.Widget.ButtonModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.ButtonModel),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.CSS={name:"Runtime.Widget.CSS",extends:Runtime.Web.Component,methods:{}},Object.assign(Runtime.Widget.CSS,{css:function(e){return":root {"+Runtime.rtl.toStr("--widget-font-family: 'Ubuntu', sans-serif;--widget-font-size: 14px;--widget-font-size-h1: 1.8rem;--widget-font-size-h2: 1.5rem;--widget-font-size-h3: 1.2rem;--widget-font-size-h4: 1rem;--widget-font-size-h5: 1rem;--widget-font-size-h6: 1rem;--widget-line-height: 1.2;--widget-space: 0.5rem;/*--widget-color-border: #dee2e6;*/--widget-color-border: #e0e1e6;--widget-color-success: #198754;--widget-color-success-text: #fff;--widget-color-danger-text: #fff;--widget-color-danger: #dc3545;--widget-color-default: #fff;--widget-color-hover: rgba(0, 0, 0, 0.075);--widget-color-link: #337ab7;--widget-color-primary-text: #fff;--widget-color-primary: #337ab7;--widget-color-selected-text: #fff;--widget-color-selected: #337ab7;--widget-color-text: #000;--widget-color-table-background: #fff;--widget-border-width: 1px;--widget-button-padding-x: 0.9rem;--widget-button-padding-y: 0.5rem;--widget-button-padding-small-x: 0.72rem;--widget-button-padding-small-y: 0.4rem;--widget-button-padding-large-x: 1.25rem;--widget-button-padding-large-y: 0.7rem;--widget-margin-h1: 1.8rem 0px;--widget-margin-h2: 1.5rem 0px;--widget-margin-h3: 1.2rem 0px;--widget-margin-h4: 1rem 0px;--widget-margin-h5: 1rem 0px;--widget-margin-h6: 1rem 0px;")+Runtime.rtl.toStr("}*{")+Runtime.rtl.toStr("box-sizing: border-box;")+Runtime.rtl.toStr("}body, html{")+Runtime.rtl.toStr("font-family: var(--widget-font-family);font-size: var(--widget-font-size);line-height: var(--widget-line-height);width: 100%;padding: 0;margin: 0;")+Runtime.rtl.toStr("}a {")+Runtime.rtl.toStr(" text-decoration: inherit; color: var(--widget-color-link); cursor: pointer; ")+Runtime.rtl.toStr("}a:hover, a:visited:hover {")+Runtime.rtl.toStr(" text-decoration: underline; color: red; ")+Runtime.rtl.toStr("}a:visited {")+Runtime.rtl.toStr(" text-decoration: inherit; color: var(--widget-color-link); ")+Runtime.rtl.toStr("}a.link {")+Runtime.rtl.toStr(" text-decoration: none; color: var(--widget-color-link); cursor: pointer; ")+Runtime.rtl.toStr("}a.link:hover, a.link:visited:hover {")+Runtime.rtl.toStr(" text-decoration: underline; color: red; ")+Runtime.rtl.toStr("}a.link:visited {")+Runtime.rtl.toStr(" text-decoration: none; color: var(--widget-color-link); ")+Runtime.rtl.toStr("}a.nolink{")+Runtime.rtl.toStr("text-decoration: inherit;color: inherit;")+Runtime.rtl.toStr("}a.nolink:hover,a.nolink:visited,a.nolink:visited:hover{")+Runtime.rtl.toStr("text-decoration: inherit;color: inherit;")+Runtime.rtl.toStr("}.cursor{")+Runtime.rtl.toStr("cursor:pointer;")+Runtime.rtl.toStr("}.d-flex{")+Runtime.rtl.toStr("display: flex;")+Runtime.rtl.toStr("}.w-50{")+Runtime.rtl.toStr("width: 50%;")+Runtime.rtl.toStr("}")},getNamespace:function(){return"Runtime.Widget"},getClassName:function(){return"Runtime.Widget.CSS"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.CSS),window["Runtime.Widget.CSS"]=Runtime.Widget.CSS,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.CSS),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.Input={name:"Runtime.Widget.Input",extends:Runtime.Web.Component,props:{readonly:{default:!1},name:{default:""},value:{default:""}},methods:{render:function(){var e=[],t=this.getProps();this._e(e,"input",this._merge_attrs({name:this.name,value:this.value,onChange:this.onChange,class:this._class_name(["widget_input"]),key:"widget_input"},t));return this._flatten(e)},getProps:function(){return this.readonly?Runtime.Map.from({readonly:!0}):Runtime.Map.from({})},onChange:function(e){var t=e.target.value;this.model&&this.model.onChange(t,this.data),this.$nextTick(()=>{this.model&&this.model.onChanged(t,this.data),this.emit("valueChanged",t,this.data)})}}},Object.assign(Runtime.Widget.Input,{css:function(e){return".widget_input.h-f2df{"+Runtime.rtl.toStr("width: 100%;font-family: var(--widget-font-family);    font-size: var(--widget-font-size);padding: var(--widget-button-padding-y) var(--widget-button-padding-x);background-color: var(--widget-color-default);border-width: var(--widget-border-width);border-color: var(--widget-color-border);border-style: solid;outline: transparent;line-height: normal;min-height: 32px;")+Runtime.rtl.toStr("}")},getNamespace:function(){return"Runtime.Widget"},getClassName:function(){return"Runtime.Widget.Input"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.Input),window["Runtime.Widget.Input"]=Runtime.Widget.Input,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Input),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.Label={name:"Runtime.Widget.Label",extends:Runtime.Web.Component,props:{value:{default:""}},methods:{render:function(){var e=[],t=this._e(e,"span",{class:this._class_name(["widget_label"]),key:"widget_label"});return this._t(t,Runtime.rtl.isEmpty(this.value)?"":this.value),this._flatten(e)}}},Object.assign(Runtime.Widget.Label,{css:function(e){},getNamespace:function(){return"Runtime.Widget"},getClassName:function(){return"Runtime.Widget.Label"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.Label),window["Runtime.Widget.Label"]=Runtime.Widget.Label,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Label),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.Pagination={name:"Runtime.Widget.Pagination",extends:Runtime.Web.Component,props:{page:{default:1},pages:{default:1},delta:{default:5},is_href:{default:!0}},methods:{render:function(){var e=[],t=Runtime.Math.max(2,this.page-this.delta+1),n=Runtime.Math.min(this.page+this.delta,this.pages-1),i=Runtime.Map.from({}),o=this._e(e,"nav",{class:this._class_name(["pagination"]),key:"pagination"});if(1<this.pages){var r=this._e(o,"ul",{}),o=(this.is_href&&(Runtime.rtl.getContext().translate=i.set("href",this.getPageUrl(1))),this._e(r,"li",{class:this._class_name([1==this.page?"active":""])})),o=this._e(o,"a",this._merge_attrs({onClick:()=>this.onClick(1)},i));if(this._t(o,"1"),2<t&&(o=this._e(r,"li",{}),this._t(o,"...")),t<=n)for(let e=t;e<=n;e++){this.is_href&&(Runtime.rtl.getContext().translate=i.set("href",this.getPageUrl(e)));var s=this._e(r,"li",{class:this._class_name([this.page==e?"active":""])}),s=this._e(s,"a",this._merge_attrs({onClick:()=>this.onClick(e)},i));this._t(s,e)}n<this.pages-1&&(o=this._e(r,"li",{}),this._t(o,"...")),1<this.pages&&(this.is_href&&(Runtime.rtl.getContext().translate=i.set("href",this.getPageUrl(this.pages))),t=this._e(r,"li",{class:this._class_name([this.page==this.pages?"active":""])}),o=this._e(t,"a",this._merge_attrs({onClick:()=>this.onClick(this.pages)},i)),this._t(o,this.pages))}return this._flatten(e)},getPageUrl:function(e){var t=this.layout.request_full_uri;return Runtime.rs.url_get_add(t,"page",e)},onClick:function(e){this.is_href||this.emit("page",e)}}},Object.assign(Runtime.Widget.Pagination,{css:function(e){return".pagination.h-e7d6 {"+Runtime.rtl.toStr("text-align: center;padding: 10px 0;width: 100%;")+Runtime.rtl.toStr("}.pagination.h-e7d6 ul, .pagination.h-e7d6 li {")+Runtime.rtl.toStr("padding: 0;margin: 0;")+Runtime.rtl.toStr("}.pagination.h-e7d6 li {")+Runtime.rtl.toStr("display: inline-block;vertical-align: top;list-style: none;margin-left: 5px;margin-right: 5px;")+Runtime.rtl.toStr("}.pagination.h-e7d6 a, .pagination.h-e7d6 a:hover, .pagination.h-e7d6 span {")+Runtime.rtl.toStr("display: table-cell;vertical-align: middle;background-color: var(--widget-color-table-background);border-color: var(--widget-color-border);border-width: var(--widget-border-width);border-style: solid;color: var(--widget-color-text);text-align: center;width: 30px;height: 30px;font-size: 14px;text-decoration: none;")+Runtime.rtl.toStr("}.pagination.h-e7d6 li:first-child{")+Runtime.rtl.toStr("margin-left: 0px;")+Runtime.rtl.toStr("}.pagination.h-e7d6 li.active.h-e7d6 a, .pagination.h-e7d6 li.active.h-e7d6 a:hover {")+Runtime.rtl.toStr("background-color: var(--widget-color-selected);border-color: var(--widget-color-selected);color: var(--widget-color-selected-text);")+Runtime.rtl.toStr("}")},getNamespace:function(){return"Runtime.Widget"},getClassName:function(){return"Runtime.Widget.Pagination"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.Pagination),window["Runtime.Widget.Pagination"]=Runtime.Widget.Pagination,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Pagination),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.RenderList={name:"Runtime.Widget.RenderList",extends:Runtime.Web.Component,methods:{render:function(){var e=[],t=this._e(e,"div",{class:this._class_name(["render_list"]),key:"render_list"});for(let e=0;e<this.model.items.count();e++){var n=this.model.items.get(e),n=this.model.parent_widget.getWidget(n),i=n.component;this._c(t,i,{model:this._model(n)})}return this._flatten(e)}}},Object.assign(Runtime.Widget.RenderList,{getNamespace:function(){return"Runtime.Widget"},getClassName:function(){return"Runtime.Widget.RenderList"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.RenderList),window["Runtime.Widget.RenderList"]=Runtime.Widget.RenderList,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.RenderList),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.RenderListModel=function(){Runtime.Web.BaseModel.apply(this,arguments)},Runtime.Widget.RenderListModel.prototype=Object.create(Runtime.Web.BaseModel.prototype),Runtime.Widget.RenderListModel.prototype.constructor=Runtime.Widget.RenderListModel,Object.assign(Runtime.Widget.RenderListModel.prototype,{addRender:function(e){e instanceof Runtime.Web.BaseModel?this.items.push(e.getWidgetName()):Runtime.rtl.isString(e)&&this.items.push(e)},_init:function(){Runtime.Web.BaseModel.prototype._init.call(this),this.widget_name="render_list",this.component="Runtime.Widget.RenderList",this.items=Runtime.Vector.from([])}}),Object.assign(Runtime.Widget.RenderListModel,Runtime.Web.BaseModel),Object.assign(Runtime.Widget.RenderListModel,{getNamespace:function(){return"Runtime.Widget"},getClassName:function(){return"Runtime.Widget.RenderListModel"},getParentClassName:function(){return"Runtime.Web.BaseModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.RenderListModel),window["Runtime.Widget.RenderListModel"]=Runtime.Widget.RenderListModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.RenderListModel),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.RowButtons={name:"Runtime.Widget.RowButtons",extends:Runtime.Web.Component,methods:{render:function(){var e=[],n=this._e(e,"div",{class:this._class_name(["widget_row_buttons",this.getStyles()]),key:"widget_row_buttons"});for(let e=0;e<this.model.buttons.count();e++){let t=this.model.buttons.get(e);var i=t.getComponent();this._c(n,i,{model:this._model(t),data:this.data},()=>{var e=[];return this._t(e,t.getContent()),this._flatten(e)})}return this._flatten(e)},getStyles:function(){return this.model.styles.join(" ")}}},Object.assign(Runtime.Widget.RowButtons,{css:function(e){return".widget_row_buttons.h-a598{"+Runtime.rtl.toStr("display: flex;gap: var(--widget-space);")+Runtime.rtl.toStr("}.widget_row_buttons--align-end.h-a598{")+Runtime.rtl.toStr("justify-content: end;")+Runtime.rtl.toStr("}.widget_row_buttons--no-gap.h-a598{")+Runtime.rtl.toStr("gap: 0;")+Runtime.rtl.toStr("}.widget_row_buttons--no-gap.h-a598 .widget_button.h-8dd7{")+Runtime.rtl.toStr("border-right-width: 0;")+Runtime.rtl.toStr("}")},getNamespace:function(){return"Runtime.Widget"},getClassName:function(){return"Runtime.Widget.RowButtons"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.RowButtons),window["Runtime.Widget.RowButtons"]=Runtime.Widget.RowButtons,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.RowButtons),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.RowButtonsModel=function(e){null==e&&(e=null),Runtime.Web.BaseModel.call(this,e),e&&e.has("styles")&&this.styles.addStyles(e.get("styles"))},Runtime.Widget.RowButtonsModel.prototype=Object.create(Runtime.Web.BaseModel.prototype),Runtime.Widget.RowButtonsModel.prototype.constructor=Runtime.Widget.RowButtonsModel,Object.assign(Runtime.Widget.RowButtonsModel.prototype,{add:function(e){return this.buttons.append(e),e},find:function(t){return this.buttons.findItem(e=>e.widget_name==t)},count:function(){return this.buttons.count()},get:function(e){return this.buttons.get(e)},_init:function(){Runtime.Web.BaseModel.prototype._init.call(this),this.buttons=Runtime.Vector.from([]),this.styles=new Runtime.Widget.Styles(Runtime.Map.from({prefix:"widget_row_buttons"}))}}),Object.assign(Runtime.Widget.RowButtonsModel,Runtime.Web.BaseModel),Object.assign(Runtime.Widget.RowButtonsModel,{getNamespace:function(){return"Runtime.Widget"},getClassName:function(){return"Runtime.Widget.RowButtonsModel"},getParentClassName:function(){return"Runtime.Web.BaseModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.RowButtonsModel),window["Runtime.Widget.RowButtonsModel"]=Runtime.Widget.RowButtonsModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.RowButtonsModel),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.Select={name:"Runtime.Widget.Select",extends:Runtime.Web.Component,props:{value:{default:""},name:{default:""},options:{default:null},show_select_value:{default:!0}},methods:{render:function(){var e,t=[],n=this._e(t,"select",{name:this.name,onChange:this.onChange,class:this._class_name(["widget_select"]),key:"widget_select"}),i=this.getOptions();let o=Runtime.Map.from({});if(1==this.show_select_value&&(""!==this.value&&null!==this.value||(o=Runtime.Map.from({selected:"selected"})),e=this._e(n,"option",this._merge_attrs({value:" ",key:":select_value"},o)),this._t(e," ")),null!=i)for(let e=0;e<i.count();e++){var r=i.get(e),s=(o=Runtime.Map.from({}),r.get("value")==this.value&&""!==this.value&&null!==this.value&&(o=Runtime.Map.from({selected:"selected"})),this._e(n,"option",this._merge_attrs({value:""+Runtime.rtl.toStr(r.get("value")),key:r.get("value")},o)));this._t(s,r.get("label"))}return this._flatten(t)},getOptions:function(){return null==this.model?this.options:this.model.getOptions()},onChange:function(e){var t=e.target.value;this.model&&this.model.onChange(t,this.data),this.$nextTick(()=>{this.model&&this.model.onChanged(t,this.data),this.$emit("valueChanged",t,this.data)})}}},Object.assign(Runtime.Widget.Select,{css:function(e){return".widget_select.h-d72d{"+Runtime.rtl.toStr("width: 100%;font-family: var(--widget-font-family);font-size: var(--widget-font-size);padding: var(--widget-button-padding-y) var(--widget-button-padding-x);background-color: var(--widget-color-default);border-width: var(--widget-border-width);border-color: var(--widget-color-border);border-style: solid;outline: transparent;line-height: normal;min-height: 32px;")+Runtime.rtl.toStr("}")},getNamespace:function(){return"Runtime.Widget"},getClassName:function(){return"Runtime.Widget.Select"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.Select),window["Runtime.Widget.Select"]=Runtime.Widget.Select,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Select),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.SelectLabel={name:"Runtime.Widget.SelectLabel",extends:Runtime.Web.Component,props:{value:{default:""},options:{default:Runtime.Vector.from([])}},methods:{render:function(){var e=[],t=this._e(e,"span",{class:this._class_name(["widget_select_label"]),key:"widget_select_label"}),n=this.options?this.options.findItem(e=>e.get("value")==this.value):null;return this._t(t,null!=n?n.get("label"):""),this._flatten(e)}}},Object.assign(Runtime.Widget.SelectLabel,{css:function(e){},getNamespace:function(){return"Runtime.Widget"},getClassName:function(){return"Runtime.Widget.SelectLabel"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.SelectLabel),window["Runtime.Widget.SelectLabel"]=Runtime.Widget.SelectLabel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.SelectLabel),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.Show={name:"Runtime.Widget.Show",extends:Runtime.Web.Component,methods:{render:function(){var e=[],t=this.model.component;return this.model.isShow(this.data)&&this._c(e,t,{data:this.data,model:this._model(this.model.model)}),this._flatten(e)}}},Object.assign(Runtime.Widget.Show,{getNamespace:function(){return"Runtime.Widget"},getClassName:function(){return"Runtime.Widget.Show"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.Show),window["Runtime.Widget.Show"]=Runtime.Widget.Show,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Show),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.ShowModel=function(e){null==e&&(e=null),Runtime.Web.BaseModel.call(this,e),e&&(e.has("condition")&&(this.condition=e.get("condition")),e.has("model"))&&(this.model=e.get("model"))},Runtime.Widget.ShowModel.prototype=Object.create(Runtime.Web.BaseModel.prototype),Runtime.Widget.ShowModel.prototype.constructor=Runtime.Widget.ShowModel,Object.assign(Runtime.Widget.ShowModel.prototype,{isShow:function(e){return null!=this.condition&&Runtime.rtl.apply(this.condition,Runtime.Vector.from([e]))},_init:function(){Runtime.Web.BaseModel.prototype._init.call(this),this.condition=null,this.model=null}}),Object.assign(Runtime.Widget.ShowModel,Runtime.Web.BaseModel),Object.assign(Runtime.Widget.ShowModel,{getNamespace:function(){return"Runtime.Widget"},getClassName:function(){return"Runtime.Widget.ShowModel"},getParentClassName:function(){return"Runtime.Web.BaseModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.ShowModel),window["Runtime.Widget.ShowModel"]=Runtime.Widget.ShowModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.ShowModel),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.Styles=function(e){null==e&&(e=null),Runtime.Web.BaseModel.call(this,e),e&&(e.has("prefix")&&(this.prefix=e.get("prefix")),e.has("items"))&&this.addStyles(e.get("items"))},Runtime.Widget.Styles.prototype=Object.create(Runtime.Web.BaseModel.prototype),Runtime.Widget.Styles.prototype.constructor=Runtime.Widget.Styles,Object.assign(Runtime.Widget.Styles.prototype,{add:function(e){""!=e&&("@"==Runtime.rtl.attr(e,0)?this.items.append(Runtime.rs.substr(e,1)):this.items.append(this.prefix+Runtime.rtl.toStr("--")+Runtime.rtl.toStr(e)))},addStyles:function(e){if(0!=e.count())for(var t=0;t<e.count();t++)this.add(e.get(t))},join:function(e){return this.items.join(e)},_init:function(){Runtime.Web.BaseModel.prototype._init.call(this),this.prefix="",this.items=Runtime.Vector.from([])}}),Object.assign(Runtime.Widget.Styles,Runtime.Web.BaseModel),Object.assign(Runtime.Widget.Styles,{patchPrefix:function(t,e){return e.map(e=>""==e?"":"@"==Runtime.rtl.attr(e,0)?Runtime.rs.substr(e,1):t+Runtime.rtl.toStr("--")+Runtime.rtl.toStr(e)).filter(e=>""!=e)},getNamespace:function(){return"Runtime.Widget"},getClassName:function(){return"Runtime.Widget.Styles"},getParentClassName:function(){return"Runtime.Web.BaseModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.Styles),window["Runtime.Widget.Styles"]=Runtime.Widget.Styles,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Styles),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.TextArea={name:"Runtime.Widget.TextArea",extends:Runtime.Web.Component,props:{name:{default:""},readonly:{default:!1},value:{default:""}},methods:{render:function(){var e=[],t=this.getProps(),t=this._e(e,"textarea",this._merge_attrs({name:this.name,ref:"textarea",onChange:this.onChange,class:this._class_name(["widget_textarea"]),key:"widget_textarea"},t));return this._t(t,this.value),this._flatten(e)},getProps:function(){return this.readonly?Runtime.Map.from({readonly:!0}):Runtime.Map.from({})},onUpdated:function(){this.getRef("textarea").value=this.value},onChange:function(e){var t=e.target.value;this.model&&this.model.onChange(t,this.data),this.$nextTick(()=>{this.model&&this.model.onChanged(t,this.data),this.emit("valueChanged",t,this.data)})}}},Object.assign(Runtime.Widget.TextArea,{css:function(e){return".widget_textarea.h-ee82{"+Runtime.rtl.toStr("width: 100%;max-width: 100%;min-height: 400px;font-family: var(--widget-font-family);font-size: var(--widget-font-size);padding: var(--widget-button-padding-y) var(--widget-button-padding-x);background-color: var(--widget-color-default);border-width: var(--widget-border-width);border-color: var(--widget-color-border);border-style: solid;outline: transparent;line-height: normal;")+Runtime.rtl.toStr("}")},getNamespace:function(){return"Runtime.Widget"},getClassName:function(){return"Runtime.Widget.TextArea"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.TextArea),window["Runtime.Widget.TextArea"]=Runtime.Widget.TextArea,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.TextArea),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.WidgetResult={name:"Runtime.Widget.WidgetResult",extends:Runtime.Web.Component,methods:{render:function(){var e=[],t=this._e(e,"div",{class:this._class_name(["widget_result",this.getErrorClass()]),key:"widget_result"});return this._t(t,this.model.message),this._flatten(e)},getErrorClass:function(){var e=this.model;return""==e.message?"widget_result--hide":e.isSuccess()?"widget_result--success":e.isError()?"widget_result--error":""}}},Object.assign(Runtime.Widget.WidgetResult,{css:function(e){return".widget_result.h-e870{"+Runtime.rtl.toStr("text-align: center;margin-top: var(--widget-space);")+Runtime.rtl.toStr("}.widget_result--success.h-e870{")+Runtime.rtl.toStr("color: var(--widget-color-success);")+Runtime.rtl.toStr("}.widget_result--error.h-e870{")+Runtime.rtl.toStr("color: var(--widget-color-danger);")+Runtime.rtl.toStr("}.widget_result--hide.h-e870{")+Runtime.rtl.toStr("display: none;")+Runtime.rtl.toStr("}")},getNamespace:function(){return"Runtime.Widget"},getClassName:function(){return"Runtime.Widget.WidgetResult"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.WidgetResult),window["Runtime.Widget.WidgetResult"]=Runtime.Widget.WidgetResult,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.WidgetResult),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.WidgetResultModel=function(){Runtime.BaseObject.apply(this,arguments)},Runtime.Widget.WidgetResultModel.prototype=Object.create(Runtime.BaseObject.prototype),Runtime.Widget.WidgetResultModel.prototype.constructor=Runtime.Widget.WidgetResultModel,Object.assign(Runtime.Widget.WidgetResultModel.prototype,{setMessage:function(e){this.message=e},setSuccess:function(e,t){this.code=t=null==t?1:t,this.message=e},setError:function(e,t){this.code=t=null==t?-1:t,this.message=e},setApiResult:function(e){this.code=e.code,this.message=e.message},setWaitMessage:function(){this.code=0,this.message="Wait please ..."},clear:function(){this.code=0,this.message=""},isError:function(){return this.code<0},isSuccess:function(){return 0<this.code},processFrontendData:function(e,t){e.process(this,"code",t),e.process(this,"message",t)},_init:function(){Runtime.BaseObject.prototype._init.call(this),this.code=0,this.message=""}}),Object.assign(Runtime.Widget.WidgetResultModel,Runtime.BaseObject),Object.assign(Runtime.Widget.WidgetResultModel,{getNamespace:function(){return"Runtime.Widget"},getClassName:function(){return"Runtime.Widget.WidgetResultModel"},getParentClassName:function(){return"Runtime.BaseObject"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.WidgetResultModel),window["Runtime.Widget.WidgetResultModel"]=Runtime.Widget.WidgetResultModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.WidgetResultModel),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.ModuleDescription=function(){},Object.assign(Runtime.Widget.ModuleDescription.prototype,{}),Object.assign(Runtime.Widget.ModuleDescription,{getModuleName:function(){return"Runtime.Web.Crud"},getModuleVersion:function(){return"0.1.0"},requiredModules:function(){return Runtime.Map.from({})},entities:function(){return Runtime.Vector.from([new Runtime.Entity.Hook("Runtime.Widget.AppHook")])},getNamespace:function(){return"Runtime.Widget"},getClassName:function(){return"Runtime.Widget.ModuleDescription"},getParentClassName:function(){return""},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.ModuleDescription),window["Runtime.Widget.ModuleDescription"]=Runtime.Widget.ModuleDescription,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.ModuleDescription),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Crud&&(Runtime.Widget.Crud={}),Runtime.Widget.Crud.CrudApiStorage=function(e){null==e&&(e=null),Runtime.BaseObject.call(this),e&&(e.has("class_name")&&(this.api_name=e.get("class_name")+Runtime.rtl.toStr("::crud")),e.has("primary_keys")&&(this.primary_keys=e.get("primary_keys")),e.has("layout")&&(this.layout=e.get("layout")),e.has("item_fields")&&(this.item_fields=e.get("item_fields")),e.has("save_fields")&&(this.save_fields=e.get("save_fields")),e.has("search_fields"))&&(this.search_fields=e.get("search_fields"))},Runtime.Widget.Crud.CrudApiStorage.prototype=Object.create(Runtime.BaseObject.prototype),Runtime.Widget.Crud.CrudApiStorage.prototype.constructor=Runtime.Widget.Crud.CrudApiStorage,Object.assign(Runtime.Widget.Crud.CrudApiStorage.prototype,{setApiResult:function(e,t){null==t&&(t=""),null!=e&&(e.data.has("item")&&this.setItem(Runtime.rtl.attr(e.data,"item")),e.data.has("pk")&&this.setPrimaryKey(Runtime.rtl.attr(e.data,"pk")),e.data.has("items")&&this.setItems(Runtime.rtl.attr(e.data,"items")),e.data.has("limit")&&this.setLimit(Runtime.rtl.attr(e.data,"limit")),e.data.has("page")&&this.setPage(Runtime.rtl.attr(e.data,"page")),e.data.has("pages")&&this.setPages(Runtime.rtl.attr(e.data,"pages")),this.result.setApiResult(e),"item"==t)&&this.result.isSuccess()&&this.result.clear()},setItems:function(e){this.items=e},getItems:function(){return this.items},setItem:function(e){this.item=e,this.updatePrimaryKey()},getItem:function(){return this.item},getItemByRowNumber:function(e){return this.getItems().get(e)},findIndex:function(o){return null==o?-1:this.getItems().find(e=>{for(var t=o.keys(),n=0;n<t.count();n++){var i=t.get(n);if(!e.has(i))return!1;if(e.get(i)!=o.get(i))return!1}return!0})},getItemValue:function(e){return this.getItem().get(e)},getPrimaryKeys:function(){return this.primary_keys},setPrimaryKeys:function(e){this.primary_keys=e},getItemPrimaryKey:function(){var e=this.getPrimaryKeys();return this.getItem().intersect(e)},getPrimaryKey:function(){return this.item_pk},setPrimaryKey:function(e){this.item_pk=e},updatePrimaryKey:function(){var e=this.getItemPrimaryKey();this.setPrimaryKey(e)},setLimit:function(e){this.limit=e},setPage:function(e){this.page=e},setPages:function(e){this.pages=e},clear:function(){this.item=Runtime.Map.from({}),this.item_pk=null,this.result.clear()},processFrontendData:function(e,t){e.process(this,"item",t),e.process(this,"item_pk",t),e.process(this,"items",t),e.process(this,"page",t),e.process(this,"pages",t),e.process(this,"limit",t),e.process(this,"result",t)},setPostData:function(e,t){this.post_data.set(e,t)},setForeignKey:function(e,t){this.foreign_key=e,this.foreign_value=t},mergePostData:function(e,t){return e=e.concat(this.post_data),null!=this.foreign_key&&(e.set(this.foreign_key,this.foreign_value),e.has("item"))&&e.get("item").set(this.foreign_key,this.foreign_value),"search"==t&&null!=this.search_fields&&e.set("fields",this.search_fields),"item"==t&&null!=this.item_fields&&e.set("fields",this.item_fields),"save"==t&&null!=this.save_fields&&(t=(t=e.get("item")).intersect(this.save_fields),e.set("item",t)),e},doSearch:async function(e){e=(e=null==(e=null==e?null:e)?Runtime.Map.from({}):e).concat(Runtime.Map.from({page:this.page,limit:this.limit})),e=this.mergePostData(e,"search");e=await this.layout.callApi(Runtime.Map.from({api_name:this.api_name,method:"actionSearch",data:e}));return this.setApiResult(e,"search"),Promise.resolve(e)},doItem:async function(e){e=(e=null==(e=null==e?null:e)?Runtime.Map.from({}):e).concat(Runtime.Map.from({pk:this.item_pk})),e=this.mergePostData(e,"item");e=await this.layout.callApi(Runtime.Map.from({api_name:this.api_name,method:"actionItem",data:e}));return this.setApiResult(e,"item"),Promise.resolve(e)},doSave:async function(e){e=(e=null==(e=null==e?null:e)?Runtime.Map.from({}):e).concat(Runtime.Map.from({item:this.item,pk:this.item_pk})),e=this.mergePostData(e,"save");e=await this.layout.callApi(Runtime.Map.from({api_name:this.api_name,method:"actionSave",data:e}));return this.setApiResult(e,"save"),Promise.resolve(e)},doDelete:async function(e){e=(e=null==(e=null==e?null:e)?Runtime.Map.from({}):e).concat(Runtime.Map.from({pk:this.item_pk})),e=this.mergePostData(e,"delete");e=await this.layout.callApi(Runtime.Map.from({api_name:this.api_name,method:"actionDelete",data:e}));return this.setApiResult(e,"delete"),Promise.resolve(e)},_init:function(){Runtime.BaseObject.prototype._init.call(this),this.api_name="",this.post_data=Runtime.Map.from({}),this.item=Runtime.Map.from({}),this.item_pk=null,this.item_fields=null,this.save_fields=null,this.search_fields=null,this.items=null,this.page=1,this.pages=0,this.limit=10,this.foreign_key=null,this.foreign_value=null,this.primary_keys=Runtime.Vector.from([]),this.layout=null,this.result=new Runtime.Widget.WidgetResultModel}}),Object.assign(Runtime.Widget.Crud.CrudApiStorage,Runtime.BaseObject),Object.assign(Runtime.Widget.Crud.CrudApiStorage,{getNamespace:function(){return"Runtime.Widget.Crud"},getClassName:function(){return"Runtime.Widget.Crud.CrudApiStorage"},getParentClassName:function(){return"Runtime.BaseObject"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.Crud.CrudApiStorage),window["Runtime.Widget.Crud.CrudApiStorage"]=Runtime.Widget.Crud.CrudApiStorage,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Crud.CrudApiStorage),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Crud&&(Runtime.Widget.Crud={}),Runtime.Widget.Crud.CrudPage={name:"Runtime.Widget.Crud.CrudPage",extends:Runtime.Web.Component,methods:{renderWidgets:function(){var e,t=[],n=this.model.getWidget("render_list");return n&&(e=n.component,this._c(t,e,{model:this._model(n)})),this._flatten(t)},renderIndex:function(){var e=[],t=this.model.getWidget("table").component;this._c(e,t,{model:this._model(Runtime.Vector.from(["widgets","table"]))});return this._flatten(e)},renderSave:function(){var e=[],t=this.model.getWidget("form").component;this._c(e,t,{model:this._model(Runtime.Vector.from(["widgets","form"]))});return this._flatten(e)},renderDelete:function(){return this._flatten([])},render:function(){var e=[],t=this._e(e,"div",{class:this._class_name(["crud_page"]),key:"crud_page"});return"index"==this.model.action?this._t(t,this.renderIndex()):"add"==this.model.action||"edit"==this.model.action?this._t(t,this.renderSave()):this.model.action,this._t(t,this.renderWidgets()),this._flatten(e)}}},Object.assign(Runtime.Widget.Crud.CrudPage,{css:function(e){},getNamespace:function(){return"Runtime.Widget.Crud"},getClassName:function(){return"Runtime.Widget.Crud.CrudPage"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.Crud.CrudPage),window["Runtime.Widget.Crud.CrudPage"]=Runtime.Widget.Crud.CrudPage,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Crud.CrudPage),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Crud&&(Runtime.Widget.Crud={}),Runtime.Widget.Crud.CrudPageModel=function(e){null==e&&(e=null),Runtime.Web.PageModel.call(this,e);new Runtime.Widget.RenderListModel(Runtime.Map.from({parent_widget:this}))},Runtime.Widget.Crud.CrudPageModel.prototype=Object.create(Runtime.Web.PageModel.prototype),Runtime.Widget.Crud.CrudPageModel.prototype.constructor=Runtime.Widget.Crud.CrudPageModel,Object.assign(Runtime.Widget.Crud.CrudPageModel.prototype,{setAction:function(e){this.action=e},processFrontendData:function(e,t){e.process(this,"action",t),Runtime.Web.PageModel.prototype.processFrontendData.call(this,e,t)},_init:function(){Runtime.Web.PageModel.prototype._init.call(this),this.action="",this.component="Runtime.Widget.Crud.CrudPage"}}),Object.assign(Runtime.Widget.Crud.CrudPageModel,Runtime.Web.PageModel),Object.assign(Runtime.Widget.Crud.CrudPageModel,{getNamespace:function(){return"Runtime.Widget.Crud"},getClassName:function(){return"Runtime.Widget.Crud.CrudPageModel"},getParentClassName:function(){return"Runtime.Web.PageModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.Crud.CrudPageModel),window["Runtime.Widget.Crud.CrudPageModel"]=Runtime.Widget.Crud.CrudPageModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Crud.CrudPageModel),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Crud&&(Runtime.Widget.Crud={}),Runtime.Widget.Crud.CrudProxyStorage=function(e){null==e&&(e=null),Runtime.Widget.Crud.CrudApiStorage.call(this,e),e&&(e.has("container")&&(this.container=e.get("container")),e.has("path"))&&(this.path=e.get("path"))},Runtime.Widget.Crud.CrudProxyStorage.prototype=Object.create(Runtime.Widget.Crud.CrudApiStorage.prototype),Runtime.Widget.Crud.CrudProxyStorage.prototype.constructor=Runtime.Widget.Crud.CrudProxyStorage,Object.assign(Runtime.Widget.Crud.CrudProxyStorage.prototype,{processFrontendData:function(e,t){},getItems:function(){return Runtime.rtl.attr(this.container,this.path)},getItem:function(){return this.item},doSearch:async function(e){null==e&&(e=null);e=new Runtime.Web.ApiResult;return e.success(Runtime.Map.from({data:Runtime.Map.from({})})),this.setApiResult(e,"search"),Promise.resolve(e)},doItem:async function(e){null==e&&(e=null);e=new Runtime.Web.ApiResult;return e.success(Runtime.Map.from({data:Runtime.Map.from({})})),this.setApiResult(e,"item"),Promise.resolve(e)},doSave:async function(e){null==e&&(e=null);e=this.findIndex(this.item_pk),-1==e?this.getItems().push(this.item):this.getItems().set(e,this.item),e=new Runtime.Web.ApiResult;return e.success(Runtime.Map.from({data:Runtime.Map.from({pk:this.getItemPrimaryKey(),item:this.item.clone()})})),this.setApiResult(e,"save"),Promise.resolve(e)},doDelete:async function(e){null==e&&(e=null);e=this.findIndex(this.item_pk),-1<e&&this.getItems().remove(e),e=new Runtime.Web.ApiResult;return e.success(Runtime.Map.from({data:Runtime.Map.from({pk:this.getItemPrimaryKey()})})),this.setApiResult(e,"delete"),Promise.resolve(e)},_init:function(){Runtime.Widget.Crud.CrudApiStorage.prototype._init.call(this),this.container=null,this.path=null}}),Object.assign(Runtime.Widget.Crud.CrudProxyStorage,Runtime.Widget.Crud.CrudApiStorage),Object.assign(Runtime.Widget.Crud.CrudProxyStorage,{getNamespace:function(){return"Runtime.Widget.Crud"},getClassName:function(){return"Runtime.Widget.Crud.CrudProxyStorage"},getParentClassName:function(){return"Runtime.Widget.Crud.CrudApiStorage"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.Crud.CrudProxyStorage),window["Runtime.Widget.Crud.CrudProxyStorage"]=Runtime.Widget.Crud.CrudProxyStorage,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Crud.CrudProxyStorage),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Crud&&(Runtime.Widget.Crud={}),Runtime.Widget.Crud.Dictionary=function(e){null==e&&(e=null),Runtime.Web.BaseModel.call(this,e),e&&(e.has("storage")&&(this.storage=e.get("storage")),e.has("filter")&&(this.filter=e.get("filter")),e.has("transform"))&&(this.transform=e.get("transform"))},Runtime.Widget.Crud.Dictionary.prototype=Object.create(Runtime.Web.BaseModel.prototype),Runtime.Widget.Crud.Dictionary.prototype.constructor=Runtime.Widget.Crud.Dictionary,Object.assign(Runtime.Widget.Crud.Dictionary.prototype,{getOptions:function(){return this.options},setApiResult:function(e,t){null==t&&(t=""),this.result.setApiResult(e)},reloadOptions:function(){var e=this.storage.items;null!=e&&(this.filter&&(e=e.filter(this.filter)),this.transform&&(e=e.map(this.transform)),this.options=e)},loadData:async function(){await Runtime.Web.BaseModel.prototype.loadData.call(this),this.storage.setLimit(-1);var e=await this.storage.doSearch();this.setApiResult(e,"search"),this.reloadOptions()},processFrontendData:function(e,t){e.process(this,"options",t),e.process(this,"result",t),e.process(this,"storage",t),Runtime.Web.BaseModel.prototype.processFrontendData.call(this,e,t)},onChange:function(e){null==e&&(e=null),this.events.emmit("onChange",Runtime.Vector.from([e]))},onChanged:function(e){null==e&&(e=null),this.events.emmit("onChanged",Runtime.Vector.from([e]))},_init:function(){Runtime.Web.BaseModel.prototype._init.call(this),this.options=Runtime.Vector.from([]),this.events=new Runtime.Web.Events,this.result=new Runtime.Widget.WidgetResultModel,this.storage=null,this.filter=null,this.transform=null}}),Object.assign(Runtime.Widget.Crud.Dictionary,Runtime.Web.BaseModel),Object.assign(Runtime.Widget.Crud.Dictionary,{getNamespace:function(){return"Runtime.Widget.Crud"},getClassName:function(){return"Runtime.Widget.Crud.Dictionary"},getParentClassName:function(){return"Runtime.Web.BaseModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.Crud.Dictionary),window["Runtime.Widget.Crud.Dictionary"]=Runtime.Widget.Crud.Dictionary,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Crud.Dictionary),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Crud&&(Runtime.Widget.Crud={}),Runtime.Widget.Crud.FieldException=function(e){null==e&&(e=null),Runtime.Exceptions.AbstractException.call(this,"Fields error",Runtime.rtl.ERROR_VALIDATION,e)},Runtime.Widget.Crud.FieldException.prototype=Object.create(Runtime.Exceptions.AbstractException.prototype),Runtime.Widget.Crud.FieldException.prototype.constructor=Runtime.Widget.Crud.FieldException,Object.assign(Runtime.Widget.Crud.FieldException.prototype,{}),Object.assign(Runtime.Widget.Crud.FieldException,Runtime.Exceptions.AbstractException),Object.assign(Runtime.Widget.Crud.FieldException,{getNamespace:function(){return"Runtime.Widget.Crud"},getClassName:function(){return"Runtime.Widget.Crud.FieldException"},getParentClassName:function(){return"Runtime.Exceptions.AbstractException"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.Crud.FieldException),window["Runtime.Widget.Crud.FieldException"]=Runtime.Widget.Crud.FieldException,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Crud.FieldException),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Dialog&&(Runtime.Widget.Dialog={}),Runtime.Widget.Dialog.Dialog={name:"Runtime.Widget.Dialog.Dialog",extends:Runtime.Web.Component,methods:{renderTitle:function(){var e,t=[];return""!=this.model.title&&(e=this._e(t,"div",{class:this._class_name(["widget_dialog__title"]),key:"widget_dialog__title"}),this._t(e,this.model.title)),this._flatten(t)},renderContent:function(){var e=[],t=this._e(e,"div",{class:this._class_name(["widget_dialog__content"]),key:"widget_dialog__content"});return this._t(t,this.renderSlot("default")),this._flatten(e)},renderButtons:function(){var e=[];return null!=this.model.buttons&&this._c(e,"Runtime.Widget.RowButtons",{model:this._model(this.model.buttons)}),this._flatten(e)},renderResult:function(){var e=[];this._c(e,"Runtime.Widget.WidgetResult",{model:this._model(this.model.result)});return this._flatten(e)},renderDialog:function(){var e=[];return this._t(e,this.renderTitle()),this._t(e,this.renderContent()),this._t(e,this.renderButtons()),this._t(e,this.renderResult()),this._flatten(e)},render:function(){var e=[],t=this.getProps(),n=this._e(e,"div",{class:this._class_name(["widget_dialog",this.model.is_open?"widget_dialog--open":"widget_dialog--hide",this.model.styles.join(" ")]),key:"widget_dialog"}),n=(this._e(n,"div",{class:this._class_name(["widget_dialog__shadow"]),key:"widget_dialog__shadow"}),this._e(n,"div",{class:this._class_name(["widget_dialog__box"]),key:"widget_dialog__box"})),n=this._e(n,"table",{class:this._class_name(["widget_dialog__wrap"]),key:"widget_dialog__wrap"}),n=this._e(n,"tbody",{}),n=this._e(n,"tr",{}),n=this._e(n,"td",{}),n=this._e(n,"div",this._merge_attrs({class:this._class_name(["widget_dialog__container"]),key:"widget_dialog__container"},t));return this._t(n,this.renderDialog()),this._flatten(e)},getProps:function(){var e=Runtime.Vector.from([]);return""!=this.model.width&&e.push("max-width: "+Runtime.rtl.toStr(this.model.width)),Runtime.Map.from({style:e.join(";")})}}},Object.assign(Runtime.Widget.Dialog.Dialog,{css:function(e){return".widget_dialog.h-a5bc{"+Runtime.rtl.toStr("}.widget_dialog__box.h-a5bc, .widget_dialog__shadow.h-a5bc{")+Runtime.rtl.toStr("position: fixed;top: 0; left: 0;width: 100%; height: 100%;z-index: 1001;")+Runtime.rtl.toStr("}.widget_dialog__box.h-a5bc{")+Runtime.rtl.toStr("overflow: auto;overflow-y: scroll;display: none;")+Runtime.rtl.toStr("}.widget_dialog--open.h-a5bc .widget_dialog__box.h-a5bc{")+Runtime.rtl.toStr("display: block;")+Runtime.rtl.toStr("}.widget_dialog__shadow.h-a5bc{")+Runtime.rtl.toStr("background-color: #000;opacity: 0.2;overflow: hidden;display: none;")+Runtime.rtl.toStr("}.widget_dialog--open.h-a5bc .widget_dialog__shadow.h-a5bc{")+Runtime.rtl.toStr("display: block;")+Runtime.rtl.toStr("}.widget_dialog__wrap.h-a5bc{")+Runtime.rtl.toStr("width: 100%;min-height: 100%;")+Runtime.rtl.toStr("}.widget_dialog__wrap.h-a5bc > tr > td{")+Runtime.rtl.toStr("padding: 20px;")+Runtime.rtl.toStr("}.widget_dialog__container.h-a5bc{")+Runtime.rtl.toStr("position: relative;padding: calc(var(--widget-space) * 3);background-color: white;max-width: 350px;margin: calc(var(--widget-space) * 5) auto;width: auto;z-index: 1002;box-shadow: 2px 4px 10px 0px rgba(0,0,0,0.5);font-size: var(--widget-font-size);")+Runtime.rtl.toStr("}.widget_dialog__title.h-a5bc{")+Runtime.rtl.toStr("font-weight: bold;font-size: var(--widget-font-size-h2);text-align: left;margin: var(--widget-margin-h2);margin-top: 0;")+Runtime.rtl.toStr("}.widget_dialog__buttons.h-a598{")+Runtime.rtl.toStr("margin: var(--widget-margin-h2);margin-bottom: 0;")+Runtime.rtl.toStr("}.widget_dialog__buttons.h-a598 .widget_button.h-8dd7{")+Runtime.rtl.toStr("min-width: 70px;")+Runtime.rtl.toStr("}")},components:function(){return Runtime.Vector.from(["Runtime.Widget.Button","Runtime.Widget.RowButtons","Runtime.Widget.WidgetResult"])},getNamespace:function(){return"Runtime.Widget.Dialog"},getClassName:function(){return"Runtime.Widget.Dialog.Dialog"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.Dialog.Dialog),window["Runtime.Widget.Dialog.Dialog"]=Runtime.Widget.Dialog.Dialog,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Dialog.Dialog),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Dialog&&(Runtime.Widget.Dialog={}),Runtime.Widget.Dialog.DialogModel=function(e){null==e&&(e=null),Runtime.Web.BaseModel.call(this,e),e&&e.has("styles")&&this.styles.addStyles(e.get("styles"))},Runtime.Widget.Dialog.DialogModel.prototype=Object.create(Runtime.Web.BaseModel.prototype),Runtime.Widget.Dialog.DialogModel.prototype.constructor=Runtime.Widget.Dialog.DialogModel,Object.assign(Runtime.Widget.Dialog.DialogModel.prototype,{setWidth:function(e){this.width=e},show:function(){this.is_open=!0},hide:function(){this.is_open=!1},_init:function(){Runtime.Web.BaseModel.prototype._init.call(this),this.is_open=!1,this.title="",this.content="",this.width="",this.component="Runtime.Widget.Dialog.Dialog",this.buttons=new Runtime.Widget.RowButtonsModel(Runtime.Map.from({styles:Runtime.Vector.from(["@widget_dialog__buttons"])})),this.styles=new Runtime.Widget.Styles(Runtime.Map.from({prefix:"widget_dialog"})),this.result=new Runtime.Widget.WidgetResultModel}}),Object.assign(Runtime.Widget.Dialog.DialogModel,Runtime.Web.BaseModel),Object.assign(Runtime.Widget.Dialog.DialogModel,{getNamespace:function(){return"Runtime.Widget.Dialog"},getClassName:function(){return"Runtime.Widget.Dialog.DialogModel"},getParentClassName:function(){return"Runtime.Web.BaseModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.Dialog.DialogModel),window["Runtime.Widget.Dialog.DialogModel"]=Runtime.Widget.Dialog.DialogModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Dialog.DialogModel),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Dialog&&(Runtime.Widget.Dialog={}),Runtime.Widget.Dialog.ModuleDescription=function(){},Object.assign(Runtime.Widget.Dialog.ModuleDescription.prototype,{}),Object.assign(Runtime.Widget.Dialog.ModuleDescription,{getModuleName:function(){return"Runtime.Widget.Dialog"},getModuleVersion:function(){return"0.12"},requiredModules:function(){return Runtime.Map.from({"Runtime.Web":"*","Runtime.Widget":"*"})},entities:function(){return Runtime.Vector.from([])},getNamespace:function(){return"Runtime.Widget.Dialog"},getClassName:function(){return"Runtime.Widget.Dialog.ModuleDescription"},getParentClassName:function(){return""},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.Dialog.ModuleDescription),window["Runtime.Widget.Dialog.ModuleDescription"]=Runtime.Widget.Dialog.ModuleDescription,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Dialog.ModuleDescription),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Form&&(Runtime.Widget.Form={}),Runtime.Widget.Form.Form={name:"Runtime.Widget.Form.Form",extends:Runtime.Web.Component,methods:{renderTopButtons:function(){var e=[];return 0<this.model.top_buttons.count()&&this._c(e,"Runtime.Widget.RowButtons",{model:this._model(this.model.top_buttons)}),this._flatten(e)},renderBottomButtons:function(){var e=[];return 0<this.model.bottom_buttons.count()&&this._c(e,"Runtime.Widget.RowButtons",{model:this._model(this.model.bottom_buttons)}),this._flatten(e)},renderField:function(e){var t=[];let n=e.get("name");var i=e.get("component","Runtime.Widget.Input"),o=e.get("model",null),e=e.get("props",Runtime.Map.from({}));let r="";this.model.storage&&(r=this.model.storage.getItemValue(n));var s=this._e(t,"div",{class:this._class_name(["widget_form__field"]),key:(n,"widget_form__field")});this._c(s,i,this._merge_attrs({value:r,name:n,model:this._model(o),onValueChanged:e=>this.onValueChanged(n,e),data:Runtime.Map.from({field_name:n})},e));return this._flatten(t)},renderRow:function(e){var t=[],n=e.get("name"),i=this._e(t,"div",{class:this._class_name(["widget_form__row"]),key:"widget_form__row"}),o=this._e(i,"label",{class:this._class_name(["widget_form__row_label"]),key:"widget_form__row_label"}),r=(this._t(o,e.get("label")),this._t(i,this.renderField(e)),this.model.getFieldResult(n));if(0==r.count())this._e(i,"div",{"data-name":n,class:this._class_name(["widget_form__field_error widget_form__field_error--hide"]),key:"widget_form__field_error"});else{var s=this._e(i,"div",{"data-name":n,class:this._class_name(["widget_form__field_error"]),key:"widget_form__field_error"});for(let e=0;e<r.count();e++){var a=this._e(s,"div",{});this._t(a,r.get(e))}}return this._flatten(t)},renderContent:function(){var e=[],t=this._e(e,"div",{class:this._class_name(["widget_form__content"]),key:"widget_form__content"});for(let e=0;e<this.model.fields.count();e++){var n=this.model.fields.get(e);this._t(t,this.renderRow(n))}return this._flatten(e)},renderResult:function(){var e=[];return this.model.storage&&this.model.show_result&&this._c(e,"Runtime.Widget.WidgetResult",{model:this._model(this.model.storage.result)}),this._flatten(e)},renderForm:function(){var e=[],t=this._e(e,"form",{method:"POST",enctype:"multipart/form-data",onsubmit:"return false;"});return this._t(t,this.renderContent()),this._t(t,this.renderBottomButtons()),this._t(t,this.renderResult()),this._flatten(e)},renderWidgets:function(){var e,t=[],n=this.model.getWidget("render_list");return n&&(e=n.component,this._c(t,e,{model:this._model(n)})),this._flatten(t)},render:function(){var e=[],t=this._e(e,"div",{class:this._class_name(["widget_form",this.getStyles()]),key:"widget_form"});return this._t(t,this.renderTopButtons()),this._t(t,this.renderForm()),this._t(t,this.renderWidgets()),this._flatten(e)},getStyles:function(){return this.model.styles.join(" ")},onValueChanged:function(e,t){this.model.onChangeField(e,t)}}},Object.assign(Runtime.Widget.Form.Form,{css:function(e){return".widget_form__row.h-b6a8{"+Runtime.rtl.toStr("margin-bottom: calc(var(--widget-space) * 3);")+Runtime.rtl.toStr("}.widget_form__row_label.h-b6a8{")+Runtime.rtl.toStr("display: block;font-weight: bold;margin-bottom: var(--widget-space);")+Runtime.rtl.toStr("}.widget_form__field_error.h-b6a8{")+Runtime.rtl.toStr("color: var(--widget-color-danger);margin-top: var(--widget-space);")+Runtime.rtl.toStr("}.widget_form.h-b6a8 .widget_form__top_buttons.h-a598{")+Runtime.rtl.toStr("margin-bottom: calc(var(--widget-space) * 3);")+Runtime.rtl.toStr("}.widget_form.h-b6a8 .widget_form__bottom_buttons.h-a598{")+Runtime.rtl.toStr("margin-top: var(--widget-space);justify-content: center;")+Runtime.rtl.toStr("}")},components:function(){return Runtime.Vector.from(["Runtime.Widget.Input","Runtime.Widget.RowButtons","Runtime.Widget.WidgetResult"])},getNamespace:function(){return"Runtime.Widget.Form"},getClassName:function(){return"Runtime.Widget.Form.Form"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.Form.Form),window["Runtime.Widget.Form.Form"]=Runtime.Widget.Form.Form,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Form.Form),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Form&&(Runtime.Widget.Form={}),Runtime.Widget.Form.FormModel=function(e){null==e&&(e=null),Runtime.Web.BaseModel.call(this,e),e&&(e.has("action")&&(this.action=e.get("action")),e.has("storage")&&(this.storage=e.get("storage")),e.has("styles"))&&this.styles.addStyles(e.get("styles")),null==this.storage&&this.setDataStorage(this.createDataStorage()),this.initWidgets(),this.initFields(),this.initButtons(),this.initStyles()},Runtime.Widget.Form.FormModel.prototype=Object.create(Runtime.Web.BaseModel.prototype),Runtime.Widget.Form.FormModel.prototype.constructor=Runtime.Widget.Form.FormModel,Object.assign(Runtime.Widget.Form.FormModel.prototype,{createDataStorage:function(){return null},initWidgets:function(){new Runtime.Widget.RenderListModel(Runtime.Map.from({parent_widget:this}))},initFields:function(){},initButtons:function(){},initStyles:function(){},setAction:function(e){this.action=e},setDataStorage:function(e){this.storage=e},addField:function(e){this.fields.append(e)},removeField:function(t){this.fields=this.fields.filter(e=>e.get("name")!=t)},getFieldResult:function(e){return this.fields_error.has(e)?this.fields_error.get(e):Runtime.Vector.from([])},clear:function(){this.storage.clear(),this.fields_error=Runtime.Map.from({});for(var e=0;e<this.fields.count();e++){var t=this.fields.get(e),n=t.get("name"),t=t.get("default","");this.storage.item.set(n,t)}},onChangeField:function(e,t){this.storage.item.set(e,t)},getErrorMessage:function(){return this.storage.error.message},processFrontendData:function(e,t){e.process(this,"action",t),e.process(this,"storage",t),Runtime.Web.BaseModel.prototype.processFrontendData.call(this,e,t)},setApiResult:function(e,t){null==t&&(t=""),null!=e&&"save"==t&&e.data.has("fields")&&(this.fields_error=e.data.get("fields"))},loadData:async function(){this.storage.item_pk&&await this.storage.doItem(),await Runtime.Web.BaseModel.prototype.loadData.call(this)},save:async function(){this.storage.result.setWaitMessage();var e=await this.storage.doSave();this.setApiResult(e,"save")},delete:async function(){this.storage.result.setWaitMessage();var e=await this.storage.doDelete();this.setApiResult(e,"delete")},getPageTitle:function(e){return"add"==(e=null==e?"":e)?"Add item":"edit"==e?"Edit item":"delete"==e?"Delete item":""},_init:function(){Runtime.Web.BaseModel.prototype._init.call(this),this.action="",this.storage=null,this.component="Runtime.Widget.Form.Form",this.widget_name="form",this.fields=Runtime.Vector.from([]),this.fields_error=Runtime.Map.from({}),this.top_buttons=new Runtime.Widget.RowButtonsModel(Runtime.Map.from({styles:Runtime.Vector.from(["@widget_form__top_buttons"])})),this.bottom_buttons=new Runtime.Widget.RowButtonsModel(Runtime.Map.from({styles:Runtime.Vector.from(["@widget_form__bottom_buttons"])})),this.styles=new Runtime.Widget.Styles(Runtime.Map.from({prefix:"widget_form"})),this.show_result=!0}}),Object.assign(Runtime.Widget.Form.FormModel,Runtime.Web.BaseModel),Object.assign(Runtime.Widget.Form.FormModel,{getNamespace:function(){return"Runtime.Widget.Form"},getClassName:function(){return"Runtime.Widget.Form.FormModel"},getParentClassName:function(){return"Runtime.Web.BaseModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.Form.FormModel),window["Runtime.Widget.Form.FormModel"]=Runtime.Widget.Form.FormModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Form.FormModel),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Form&&(Runtime.Widget.Form={}),Runtime.Widget.Form.SaveButton={name:"Runtime.Widget.Form.SaveButton",extends:Runtime.Web.Component,methods:{render:function(){var e=[],t=(this._t(e,"    "),this._e(e,"div",{class:this._class_name(["save_button"]),key:"save_button"}));this._t(t,"        "),this._c(t,"Runtime.Widget.Button",{model:this._model(this.model),onClick:this.onSave},()=>{var e=[];return this._t(e,"Save"),this._flatten(e)}),this._t(t,"        "),this._c(t,"Runtime.Widget.WidgetResult",{model:this._model(this.model.form.storage.result)});return this._t(t,"    "),this._flatten(e)},onSave:async function(){await this.model.save()}}},Object.assign(Runtime.Widget.Form.SaveButton,{css:function(e){return".save_button.h-3fba{"+Runtime.rtl.toStr("    display: flex;    align-items: center;    gap: 5px;")+Runtime.rtl.toStr("}.save_button.h-3fba .widget_result.h-e870{")+Runtime.rtl.toStr("    margin-top: 0;")+Runtime.rtl.toStr("}")},components:function(){return Runtime.Vector.from(["Runtime.Widget.Button","Runtime.Widget.WidgetResult"])},getNamespace:function(){return"Runtime.Widget.Form"},getClassName:function(){return"Runtime.Widget.Form.SaveButton"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.Form.SaveButton),window["Runtime.Widget.Form.SaveButton"]=Runtime.Widget.Form.SaveButton,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Form.SaveButton),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Form&&(Runtime.Widget.Form={}),Runtime.Widget.Form.SaveButtonModel=function(e){null==e&&(e=null),Runtime.Widget.ButtonModel.call(this,e),e&&(e.has("parent_widget")&&(this.form=e.get("parent_widget")),e.has("form"))&&(this.form=e.get("form")),this.styles.add("success")},Runtime.Widget.Form.SaveButtonModel.prototype=Object.create(Runtime.Widget.ButtonModel.prototype),Runtime.Widget.Form.SaveButtonModel.prototype.constructor=Runtime.Widget.Form.SaveButtonModel,Object.assign(Runtime.Widget.Form.SaveButtonModel.prototype,{save:async function(){await this.form.save()},_init:function(){Runtime.Widget.ButtonModel.prototype._init.call(this),this.widget_name="save_button",this.component="Runtime.Widget.Form.SaveButton",this.form=null}}),Object.assign(Runtime.Widget.Form.SaveButtonModel,Runtime.Widget.ButtonModel),Object.assign(Runtime.Widget.Form.SaveButtonModel,{getNamespace:function(){return"Runtime.Widget.Form"},getClassName:function(){return"Runtime.Widget.Form.SaveButtonModel"},getParentClassName:function(){return"Runtime.Widget.ButtonModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.Form.SaveButtonModel),window["Runtime.Widget.Form.SaveButtonModel"]=Runtime.Widget.Form.SaveButtonModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Form.SaveButtonModel),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Form&&(Runtime.Widget.Form={}),Runtime.Widget.Form.ModuleDescription=function(){},Object.assign(Runtime.Widget.Form.ModuleDescription.prototype,{}),Object.assign(Runtime.Widget.Form.ModuleDescription,{getModuleName:function(){return"Runtime.Widget.Form"},getModuleVersion:function(){return"0.12"},requiredModules:function(){return Runtime.Map.from({"Runtime.Web":"*"})},entities:function(){return Runtime.Vector.from([])},getNamespace:function(){return"Runtime.Widget.Form"},getClassName:function(){return"Runtime.Widget.Form.ModuleDescription"},getParentClassName:function(){return""},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.Form.ModuleDescription),window["Runtime.Widget.Form.ModuleDescription"]=Runtime.Widget.Form.ModuleDescription,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Form.ModuleDescription),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Tab&&(Runtime.Widget.Tab={}),Runtime.Widget.Tab.Tab={name:"Runtime.Widget.Tab.Tab",extends:Runtime.Web.Component,props:{name:{default:""}},methods:{render:function(){var e,t=[];return this.model.canShow(this.name)&&(e=this._e(t,"div",{"data-tab":this.name,class:this._class_name(["tabs__item",this.model.isActive(this.name)?"tabs__item--active":""]),key:"tabs__item"}),this._t(e,this.renderSlot("default"))),this._flatten(t)}}},Object.assign(Runtime.Widget.Tab.Tab,{css:function(e){return".tabs__item.h-878a{"+Runtime.rtl.toStr("position: relative;display: none;")+Runtime.rtl.toStr("}.tabs__item--active.h-878a{")+Runtime.rtl.toStr("display: block;")+Runtime.rtl.toStr("}")},getNamespace:function(){return"Runtime.Widget.Tab"},getClassName:function(){return"Runtime.Widget.Tab.Tab"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.Tab.Tab),window["Runtime.Widget.Tab.Tab"]=Runtime.Widget.Tab.Tab,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Tab.Tab),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Tab&&(Runtime.Widget.Tab={}),Runtime.Widget.Tab.Tabs={name:"Runtime.Widget.Tab.Tabs",extends:Runtime.Web.Component,methods:{renderHeader:function(){var t=[];for(let e=0;e<this.model.tabs.count();e++){var n,i=this.model.tabs.get(e),o=Runtime.rtl.attr(i,"name"),r=Runtime.rtl.attr(i,"label"),i=Runtime.rtl.attr(i,"href"),s=this.model.isActive(o);null==i?(n=this._e(t,"div",{"data-name":o,onClick:this.onClick,class:this._class_name(["tabs__header_item",s?"tabs__header_item--active":""]),key:"tabs__header_item"}),this._t(n,r)):(n=this._e(t,"a",{"data-name":o,href:i,class:this._class_name(["tabs__header_item",s?"tabs__header_item--active":""]),key:"tabs__header_item"}),this._t(n,r))}return this._flatten(t)},render:function(){var e=[],t=this._e(e,"div",{class:this._class_name(["tabs"]),key:"tabs"}),n=this._e(t,"div",{class:this._class_name(["tabs__header"]),key:"tabs__header"}),n=(this._t(n,this.renderHeader()),this._e(t,"div",{class:this._class_name(["tabs__content"]),key:"tabs__content"}));return this._t(n,this.renderSlot("default")),this._flatten(e)},onClick:function(e){e=e.target.getAttribute("data-name");this.model.setActive(e),this.emit("select",e)}}},Object.assign(Runtime.Widget.Tab.Tabs,{css:function(e){return".tabs.h-020a{"+Runtime.rtl.toStr("position: relative;")+Runtime.rtl.toStr("}.tabs__header.h-020a{")+Runtime.rtl.toStr("display: flex;position: relative;border-bottom-width: var(--widget-border-width);border-bottom-color: var(--widget-color-border);border-bottom-style: solid;")+Runtime.rtl.toStr("}.tabs__header_item.h-020a{")+Runtime.rtl.toStr("position: relative;padding: calc(1.5 * var(--widget-space));border-color: transparent;border-width: var(--widget-border-width);border-style: solid;border-bottom-width: 0px;text-decoration: none;color: inherit;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-khtml-user-select: none;-ms-user-select: none;    top: var(--widget-border-width);")+Runtime.rtl.toStr("}.tabs__header_item.h-020a:hover, .tabs__header_item.h-020a:visited, .tabs__header_item.h-020a:visited:hover{")+Runtime.rtl.toStr("text-decoration: none;color: inherit;")+Runtime.rtl.toStr("}.tabs__header_item--active.h-020a{")+Runtime.rtl.toStr("background-color: var(--widget-color-table-background);border-color: var(--widget-color-border);")+Runtime.rtl.toStr("}.tabs__content.h-020a{")+Runtime.rtl.toStr("margin-top: calc(2 * var(--widget-space));")+Runtime.rtl.toStr("}")},getNamespace:function(){return"Runtime.Widget.Tab"},getClassName:function(){return"Runtime.Widget.Tab.Tabs"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.Tab.Tabs),window["Runtime.Widget.Tab.Tabs"]=Runtime.Widget.Tab.Tabs,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Tab.Tabs),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Tab&&(Runtime.Widget.Tab={}),Runtime.Widget.Tab.TabsModel=function(e){null==e&&(e=null),Runtime.Web.BaseModel.call(this,e),e&&(e.has("active")&&(this.active=e.get("active")),e.has("tabs"))&&(this.tabs=e.get("tabs"))},Runtime.Widget.Tab.TabsModel.prototype=Object.create(Runtime.Web.BaseModel.prototype),Runtime.Widget.Tab.TabsModel.prototype.constructor=Runtime.Widget.Tab.TabsModel,Object.assign(Runtime.Widget.Tab.TabsModel.prototype,{isActive:function(e){return this.active==e},setActive:function(e){this.active=e},canShow:function(e){var t=this.tabs.findItem(Runtime.lib.equalAttr("name",e));return null!=t&&(!t.has("href")||t.get("name")==e)},_init:function(){Runtime.Web.BaseModel.prototype._init.call(this),this.active="",this.tabs=Runtime.Vector.from([])}}),Object.assign(Runtime.Widget.Tab.TabsModel,Runtime.Web.BaseModel),Object.assign(Runtime.Widget.Tab.TabsModel,{getNamespace:function(){return"Runtime.Widget.Tab"},getClassName:function(){return"Runtime.Widget.Tab.TabsModel"},getParentClassName:function(){return"Runtime.Web.BaseModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.Tab.TabsModel),window["Runtime.Widget.Tab.TabsModel"]=Runtime.Widget.Tab.TabsModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Tab.TabsModel),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Table&&(Runtime.Widget.Table={}),Runtime.Widget.Table.DeleteDialog={name:"Runtime.Widget.Table.DeleteDialog",extends:Runtime.Web.Component,methods:{render:function(){var e=[],t=this.model.dialog.component;this._c(e,t,{model:this._model(this.model.dialog),ref:"dialog"},()=>{var e=[],t=this._e(e,"div",{class:this._class_name(["widget_delete__content"]),key:"widget_delete__content"});return this._t(t,this.model.dialog.content),this.model.form.storage&&this._c(e,"Runtime.Widget.WidgetResult",{model:this._model(this.model.form.storage.result)}),this._flatten(e)});return this._flatten(e)}}},Object.assign(Runtime.Widget.Table.DeleteDialog,{css:function(e){return".widget_delete__content.h-38e6{"+Runtime.rtl.toStr("margin-bottom: calc(var(--widget-space) * 3);")+Runtime.rtl.toStr("}")},components:function(){return Runtime.Vector.from(["Runtime.Widget.WidgetResult"])},getNamespace:function(){return"Runtime.Widget.Table"},getClassName:function(){return"Runtime.Widget.Table.DeleteDialog"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.Table.DeleteDialog),window["Runtime.Widget.Table.DeleteDialog"]=Runtime.Widget.Table.DeleteDialog,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Table.DeleteDialog),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Table&&(Runtime.Widget.Table={}),Runtime.Widget.Table.DeleteDialogModel=function(e){null==e&&(e=null),Runtime.Web.BaseModel.call(this,e),e&&(e.has("parent_widget")&&(this.table=e.get("parent_widget")),e.has("table")&&(this.table=e.get("table")),e.has("form"))&&(this.form=e.get("form")),this.dialog.title="Delete item",this.dialog.buttons.styles.add("align-end"),this.dialog.buttons.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Cancel",widget_name:"cancel_button",styles:Runtime.Vector.from(["gray"])}))).events.add("onClick",new Runtime.Callback(this,"onCloseButtonClick")),this.dialog.buttons.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Save",widget_name:"confirm_button",styles:Runtime.Vector.from(["danger"])}))).events.add("onClick",new Runtime.Callback(this,"onConfirmButtonClick"))},Runtime.Widget.Table.DeleteDialogModel.prototype=Object.create(Runtime.Web.BaseModel.prototype),Runtime.Widget.Table.DeleteDialogModel.prototype.constructor=Runtime.Widget.Table.DeleteDialogModel,Object.assign(Runtime.Widget.Table.DeleteDialogModel.prototype,{onClick:async function(e){e=(e=null==e?null:e).get("row_number"),this.form.clear(),e=this.table.getItemByRowNumber(e),e=Runtime.Serializer.copy(e);this.form.storage.setItem(e),this.dialog.title=this.form.getPageTitle("delete"),this.dialog.content="Do you want to delete item ?",this.form.setAction("delete"),this.dialog.show()},onCloseButtonClick:function(){this.dialog.hide()},onConfirmButtonClick:async function(){await this.form.delete(),this.form.storage.result.isSuccess()&&(this.dialog.hide(),await this.table.refresh())},_init:function(){Runtime.Web.BaseModel.prototype._init.call(this),this.widget_name="delete_dialog",this.component="Runtime.Widget.Table.DeleteDialog",this.form=null,this.table=null,this.dialog=new Runtime.Widget.Dialog.DialogModel}}),Object.assign(Runtime.Widget.Table.DeleteDialogModel,Runtime.Web.BaseModel),Object.assign(Runtime.Widget.Table.DeleteDialogModel,{getNamespace:function(){return"Runtime.Widget.Table"},getClassName:function(){return"Runtime.Widget.Table.DeleteDialogModel"},getParentClassName:function(){return"Runtime.Web.BaseModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.Table.DeleteDialogModel),window["Runtime.Widget.Table.DeleteDialogModel"]=Runtime.Widget.Table.DeleteDialogModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Table.DeleteDialogModel),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Table&&(Runtime.Widget.Table={}),Runtime.Widget.Table.RefreshButton={name:"Runtime.Widget.Table.RefreshButton",extends:Runtime.Web.Component,methods:{render:function(){var e=[],t=(this._t(e,"    "),this._e(e,"div",{class:this._class_name(["refresh_button"]),key:"refresh_button"}));this._t(t,"        "),this._c(t,"Runtime.Widget.Button",{model:this._model(this.model),onClick:this.onRefresh},()=>{var e=[];return this._t(e,"Refresh"),this._flatten(e)}),this._t(t,"        "),this._c(t,"Runtime.Widget.WidgetResult",{model:this._model(this.model.result)});return this._t(t,"    "),this._flatten(e)},onRefresh:async function(){await this.model.refresh()}}},Object.assign(Runtime.Widget.Table.RefreshButton,{css:function(e){return".refresh_button.h-6727{"+Runtime.rtl.toStr("    display: flex;    align-items: center;    gap: 5px;")+Runtime.rtl.toStr("}.refresh_button.h-6727 .widget_result.h-e870{")+Runtime.rtl.toStr("    margin-top: 0;")+Runtime.rtl.toStr("}")},components:function(){return Runtime.Vector.from(["Runtime.Widget.Button","Runtime.Widget.WidgetResult"])},getNamespace:function(){return"Runtime.Widget.Table"},getClassName:function(){return"Runtime.Widget.Table.RefreshButton"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.Table.RefreshButton),window["Runtime.Widget.Table.RefreshButton"]=Runtime.Widget.Table.RefreshButton,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Table.RefreshButton),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Table&&(Runtime.Widget.Table={}),Runtime.Widget.Table.RefreshButtonModel=function(e){null==e&&(e=null),Runtime.Widget.ButtonModel.call(this,e),e&&(e.has("parent_widget")&&(this.table=e.get("parent_widget")),e.has("table"))&&(this.table=e.get("table")),this.styles.add("primary")},Runtime.Widget.Table.RefreshButtonModel.prototype=Object.create(Runtime.Widget.ButtonModel.prototype),Runtime.Widget.Table.RefreshButtonModel.prototype.constructor=Runtime.Widget.Table.RefreshButtonModel,Object.assign(Runtime.Widget.Table.RefreshButtonModel.prototype,{refresh:async function(){this.result.message="Refresh",this.result.code=0;var e=await this.table.refresh();this.result.setApiResult(e)},_init:function(){Runtime.Widget.ButtonModel.prototype._init.call(this),this.widget_name="refresh_button",this.component="Runtime.Widget.Table.RefreshButton",this.result=new Runtime.Widget.WidgetResultModel,this.table=null}}),Object.assign(Runtime.Widget.Table.RefreshButtonModel,Runtime.Widget.ButtonModel),Object.assign(Runtime.Widget.Table.RefreshButtonModel,{getNamespace:function(){return"Runtime.Widget.Table"},getClassName:function(){return"Runtime.Widget.Table.RefreshButtonModel"},getParentClassName:function(){return"Runtime.Widget.ButtonModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.Table.RefreshButtonModel),window["Runtime.Widget.Table.RefreshButtonModel"]=Runtime.Widget.Table.RefreshButtonModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Table.RefreshButtonModel),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Table&&(Runtime.Widget.Table={}),Runtime.Widget.Table.SaveDialog={name:"Runtime.Widget.Table.SaveDialog",extends:Runtime.Web.Component,methods:{render:function(){var e=[],t=this.model.dialog.component;this._c(e,t,{model:this._model(this.model.dialog)},()=>{var e=[],t=this.model.form.component;this._c(e,t,{model:this._model(this.model.form)});return this._flatten(e)});return this._flatten(e)}}},Object.assign(Runtime.Widget.Table.SaveDialog,{getNamespace:function(){return"Runtime.Widget.Table"},getClassName:function(){return"Runtime.Widget.Table.SaveDialog"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.Table.SaveDialog),window["Runtime.Widget.Table.SaveDialog"]=Runtime.Widget.Table.SaveDialog,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Table.SaveDialog),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Table&&(Runtime.Widget.Table={}),Runtime.Widget.Table.SaveDialogModel=function(e){null==e&&(e=null),Runtime.Web.BaseModel.call(this,e),e&&(e.has("parent_widget")&&(this.table=e.get("parent_widget")),e.has("table")&&(this.table=e.get("table")),e.has("form"))&&(this.form=e.get("form")),this.dialog.title="Add item",this.dialog.buttons.styles.add("align-end"),this.layout.addComponent(this.dialog.component),this.dialog.buttons.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Cancel",widget_name:"cancel_button",styles:Runtime.Vector.from(["gray"])}))).events.add("onClick",new Runtime.Callback(this,"onCloseButtonClick")),this.dialog.buttons.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Save",widget_name:"confirm_button",styles:Runtime.Vector.from(["primary"])}))).events.add("onClick",new Runtime.Callback(this,"onConfirmButtonClick"))},Runtime.Widget.Table.SaveDialogModel.prototype=Object.create(Runtime.Web.BaseModel.prototype),Runtime.Widget.Table.SaveDialogModel.prototype.constructor=Runtime.Widget.Table.SaveDialogModel,Object.assign(Runtime.Widget.Table.SaveDialogModel.prototype,{onClick:async function(e){var t=-1;null!=(e=null==e?null:e)&&e.has("row_number")&&(t=e.get("row_number")),this.form.clear(),-1==t?(this.dialog.title=this.form.getPageTitle("add"),this.form.setAction("add")):(e=this.table.getItemByRowNumber(t),e=Runtime.Serializer.copy(e),this.form.storage.setItem(e),this.dialog.title=this.form.getPageTitle("edit"),this.form.setAction("edit")),this.dialog.show()},onCloseButtonClick:function(){this.dialog.hide()},onConfirmButtonClick:async function(){await this.form.save(),this.form.storage.result.isSuccess()&&(this.dialog.hide(),await this.table.refresh())},_init:function(){Runtime.Web.BaseModel.prototype._init.call(this),this.widget_name="save_dialog",this.component="Runtime.Widget.Table.SaveDialog",this.table=null,this.dialog=new Runtime.Widget.Dialog.DialogModel}}),Object.assign(Runtime.Widget.Table.SaveDialogModel,Runtime.Web.BaseModel),Object.assign(Runtime.Widget.Table.SaveDialogModel,{getNamespace:function(){return"Runtime.Widget.Table"},getClassName:function(){return"Runtime.Widget.Table.SaveDialogModel"},getParentClassName:function(){return"Runtime.Web.BaseModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.Table.SaveDialogModel),window["Runtime.Widget.Table.SaveDialogModel"]=Runtime.Widget.Table.SaveDialogModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Table.SaveDialogModel),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Table&&(Runtime.Widget.Table={}),Runtime.Widget.Table.Table={name:"Runtime.Widget.Table.Table",extends:Runtime.Web.Component,data:function(){return{row_selected:-1}},methods:{renderHeader:function(){var e=[],t=this.model.fields;if(t){var n=this._e(e,"tr",{class:this._class_name(["widget_table__row_header"]),key:"widget_table__row_header"});for(let e=0;e<t.count();e++){var i=Runtime.rtl.attr(t,e),o=i.get("name"),o=this._e(n,"th",{class:this._class_name(["widget_table__th widget_table__th--"+Runtime.rtl.toStr(o)]),key:o});this._t(o,i.get("label",""))}}return this._flatten(e)},renderField:function(e,t,n){var i=[],o=this.model.storage,r=n.get("name"),s=n.get("component",null),a=n.get("model",null),l=this._e(i,"td",{class:this._class_name(["widget_table__td widget_table__td--"+Runtime.rtl.toStr(r)]),key:r});return"row_number"==r?this._t(l,o.limit*(o.page-1)+t+1):null!=s?(o=n.get("props",Runtime.Map.from({})),this._c(l,s,this._merge_attrs({model:this._model(a),value:this.model.getItemValue(e,r),data:Runtime.Map.from({field_name:r,row_number:t})},o))):this._t(l,this.model.getItemValue(e,r)),this._flatten(i)},renderRow:function(t,n){var e=[],i=this.model.fields,o=this._e(e,"tr",{"data-row":n,onClick:()=>this.onRowClick(n),class:this._class_name(["widget_table__tr",this.isRowSelected(n)?"selected":""]),key:"widget_table__tr"});if(i)for(let e=0;e<i.count();e++){var r=Runtime.rtl.attr(i,e);this._t(o,this.renderField(t,n,r))}return this._flatten(e)},renderPagination:function(){var e,t,n=[],i=this.model.fields;return i&&1<this.model.storage.pages&&(e=this.model.pagination,t=this._e(n,"tr",{}),t=this._e(t,"td",{colspan:i.count()}),this._c(t,"Runtime.Widget.Pagination",this._merge_attrs({page:this.model.storage.page,pages:this.model.storage.pages,onPage:this.onChangePage},e))),this._flatten(n)},renderBody:function(){var t=[];if(this.model.storage){var n=this.model.storage.getItems();if(n)for(let e=0;e<n.count();e++){var i=n.get(e);this._t(t,this.renderRow(i,e))}this._t(t,this.renderPagination())}return this._flatten(t)},renderTopButtons:function(){var e=[];return 0<this.model.top_buttons.count()&&this._c(e,"Runtime.Widget.RowButtons",{model:this._model(this.model.top_buttons)}),this._flatten(e)},renderTable:function(){var e=[],t=this._e(e,"table",{class:this._class_name(["wiget_table__table",this.getStyles()]),key:"wiget_table__table"}),t=this._e(t,"tbody",{});return this._t(t,this.renderHeader()),this._t(t,this.renderBody()),this._flatten(e)},renderWidgets:function(){var e,t=[],n=this.model.getWidget("render_list");return n&&(e=n.component,this._c(t,e,{model:this._model(n)})),this._flatten(t)},render:function(){var e=[],t=this._e(e,"div",{class:this._class_name(["widget_table"]),key:"widget_table"});return this._t(t,this.renderTopButtons()),this._t(t,this.renderTable()),this._t(t,this.renderWidgets()),this._flatten(e)},isRowSelected:function(e){return this.row_selected==e},getSelectedItem:function(){return this.model.storage.getItemByRowNumber(this.row_selected)},getStyles:function(){return this.model.styles.join(" ")},onRowClick:function(e){this.model.onRowClick(e)},onChangePage:function(e){this.model.onChangePage(e)}}},Object.assign(Runtime.Widget.Table.Table,{css:function(e){return".wiget_table__table.h-6434{"+Runtime.rtl.toStr("width: auto;border-collapse: collapse;margin-bottom: 1rem;vertical-align: top;")+Runtime.rtl.toStr("}.widget_table__th.h-6434{")+Runtime.rtl.toStr("text-align: center;")+Runtime.rtl.toStr("}.widget_table__th.h-6434, .widget_table__td.h-6434{")+Runtime.rtl.toStr("vertical-align: middle;padding: var(--widget-space);background-color: var(--widget-color-table-background);")+Runtime.rtl.toStr("}.widget_table__tr.h-6434.selected td{")+Runtime.rtl.toStr("background-color: var(--widget-color-selected);color: var(--widget-color-selected-text);")+Runtime.rtl.toStr("}.widget_table.h-6434 .widget_table__top_buttons.h-a598{")+Runtime.rtl.toStr("margin-bottom: calc(var(--widget-space) * 3);")+Runtime.rtl.toStr("}.widget_table--border.h-6434{")+Runtime.rtl.toStr("border-color: var(--widget-color-border);border-width: var(--widget-border-width);border-style: solid;")+Runtime.rtl.toStr("}.widget_table--border.h-6434 .widget_table__th.h-6434, .widget_table--border.h-6434 .widget_table__td.h-6434{")+Runtime.rtl.toStr("border-color: var(--widget-color-border);border-width: var(--widget-border-width);border-style: solid;")+Runtime.rtl.toStr("}")},components:function(){return Runtime.Vector.from(["Runtime.Widget.Pagination"])},getNamespace:function(){return"Runtime.Widget.Table"},getClassName:function(){return"Runtime.Widget.Table.Table"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.Table.Table),window["Runtime.Widget.Table.Table"]=Runtime.Widget.Table.Table,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Table.Table),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Table&&(Runtime.Widget.Table={}),Runtime.Widget.Table.TableModel=function(e){null==e&&(e=null),Runtime.Web.BaseModel.call(this,e),e&&(e.has("storage")&&(this.storage=e.get("storage")),e.has("styles"))&&this.styles.addStyles(e.get("styles")),null==this.storage&&this.setDataStorage(this.createDataStorage()),this.initWidgets(),this.initFields(),this.initButtons(),this.initStyles()},Runtime.Widget.Table.TableModel.prototype=Object.create(Runtime.Web.BaseModel.prototype),Runtime.Widget.Table.TableModel.prototype.constructor=Runtime.Widget.Table.TableModel,Object.assign(Runtime.Widget.Table.TableModel.prototype,{createDataStorage:function(){return null},initWidgets:function(){new Runtime.Widget.RenderListModel(Runtime.Map.from({parent_widget:this}))},initFields:function(){},initButtons:function(){},initStyles:function(){},setDataStorage:function(e){this.storage=e},addField:function(e){return this.fields.append(e),e},removeField:function(t){this.fields=this.fields.filter(e=>e.get("name")!=t)},addEditFieldRowButtons:function(e){return e.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Edit",widget_name:"edit_button",styles:Runtime.Vector.from(["default","small"])})))},addDeleteFieldRowButtons:function(e){return e.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Delete",widget_name:"delete_button",styles:Runtime.Vector.from(["danger","small"])})))},addFieldRowButtons:function(){var e=new Runtime.Widget.RowButtonsModel;return this.addEditFieldRowButtons(e),this.addDeleteFieldRowButtons(e),this.addField(Runtime.Map.from({name:"row_buttons",component:"Runtime.Widget.RowButtons",model:e}))},getItemByRowNumber:function(e){return this.storage.getItemByRowNumber(e)},getItemValue:function(e,t){return e.get(t)},processFrontendData:function(e,t){e.process(this,"storage",t),Runtime.Web.BaseModel.prototype.processFrontendData.call(this,e,t)},loadData:async function(){this.storage&&await this.storage.doSearch(),await Runtime.Web.BaseModel.prototype.loadData.call(this)},refresh:async function(){return this.storage?Promise.resolve(await this.storage.doSearch()):Promise.resolve(null)},onRowClick:async function(e){},onChangePage:async function(e){this.storage.page=e,await this.storage.doSearch()},_init:function(){Runtime.Web.BaseModel.prototype._init.call(this),this.storage=null,this.component="Runtime.Widget.Table.Table",this.widget_name="table",this.fields=Runtime.Vector.from([]),this.pagination=Runtime.Map.from({}),this.top_buttons=new Runtime.Widget.RowButtonsModel(Runtime.Map.from({styles:Runtime.Vector.from(["@widget_table__top_buttons"])})),this.styles=new Runtime.Widget.Styles(Runtime.Map.from({prefix:"widget_table"}))}}),Object.assign(Runtime.Widget.Table.TableModel,Runtime.Web.BaseModel),Object.assign(Runtime.Widget.Table.TableModel,{getNamespace:function(){return"Runtime.Widget.Table"},getClassName:function(){return"Runtime.Widget.Table.TableModel"},getParentClassName:function(){return"Runtime.Web.BaseModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.Table.TableModel),window["Runtime.Widget.Table.TableModel"]=Runtime.Widget.Table.TableModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Table.TableModel),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Table&&(Runtime.Widget.Table={}),Runtime.Widget.Table.TableDialogModel=function(){Runtime.Widget.Table.TableModel.apply(this,arguments)},Runtime.Widget.Table.TableDialogModel.prototype=Object.create(Runtime.Widget.Table.TableModel.prototype),Runtime.Widget.Table.TableDialogModel.prototype.constructor=Runtime.Widget.Table.TableDialogModel,Object.assign(Runtime.Widget.Table.TableDialogModel.prototype,{initWidgets:function(){Runtime.Widget.Table.TableModel.prototype.initWidgets.call(this);var e=this.getWidget("form"),t=(null==e&&(e=new Runtime.Widget.Form.FormModel(Runtime.Map.from({parent_widget:this,widget_name:"form"}))),this.getWidget("render_list")),n=new Runtime.Widget.Table.SaveDialogModel(Runtime.Map.from({form:e,parent_widget:this})),n=(t.addRender(n.getWidgetName()),new Runtime.Widget.Table.DeleteDialogModel(Runtime.Map.from({form:e,parent_widget:this})));t.addRender(n.getWidgetName())},initButtons:function(){this.top_buttons.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Add",widget_name:"add_button",styles:Runtime.Vector.from(["success"])}))).events.add("onClick",new Runtime.Callback(this.getWidget("save_dialog"),"onClick"))},addEditFieldRowButtons:function(e){var e=e.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Edit",widget_name:"edit_button",styles:Runtime.Vector.from(["default","small"])}))),t=this.getWidget("save_dialog");e.events.add("onClick",new Runtime.Callback(t,"onClick"))},addDeleteFieldRowButtons:function(e){var e=e.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Delete",widget_name:"delete_button",styles:Runtime.Vector.from(["danger","small"])}))),t=this.getWidget("delete_dialog");e.events.add("onClick",new Runtime.Callback(t,"onClick"))}}),Object.assign(Runtime.Widget.Table.TableDialogModel,Runtime.Widget.Table.TableModel),Object.assign(Runtime.Widget.Table.TableDialogModel,{getNamespace:function(){return"Runtime.Widget.Table"},getClassName:function(){return"Runtime.Widget.Table.TableDialogModel"},getParentClassName:function(){return"Runtime.Widget.Table.TableModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.Table.TableDialogModel),window["Runtime.Widget.Table.TableDialogModel"]=Runtime.Widget.Table.TableDialogModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Table.TableDialogModel),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Table&&(Runtime.Widget.Table={}),Runtime.Widget.Table.ModuleDescription=function(){},Object.assign(Runtime.Widget.Table.ModuleDescription.prototype,{}),Object.assign(Runtime.Widget.Table.ModuleDescription,{getModuleName:function(){return"Runtime.Widget.Table"},getModuleVersion:function(){return"0.12.0"},requiredModules:function(){return Runtime.Map.from({"Runtime.Widget":"0.12","Runtime.Widget.Dialog":"0.12","Runtime.Widget.Form":"0.12"})},entities:function(){return Runtime.Vector.from([])},getNamespace:function(){return"Runtime.Widget.Table"},getClassName:function(){return"Runtime.Widget.Table.ModuleDescription"},getParentClassName:function(){return""},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Runtime.Widget.Table.ModuleDescription),window["Runtime.Widget.Table.ModuleDescription"]=Runtime.Widget.Table.ModuleDescription,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.Table.ModuleDescription),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.CodeMirror&&(Runtime.Widget.CodeMirror={}),Runtime.Widget.CodeMirror.CodeMirror={name:"Runtime.Widget.CodeMirror.CodeMirror",extends:Runtime.Web.Component,props:{language:{default:null},height:{default:""},value:{default:""},readonly:{default:!1}},data:function(){return{is_instance_created:!1,change_timer:null,instance:null,old_value:""}},methods:{render:function(){var e=[];this._e(e,"div",{ref:"codemirror",class:this._class_name(["widget_codemirror"]),key:"widget_codemirror"});return this._flatten(e)},onMounted:function(){setTimeout(()=>{var e,t=Runtime.rtl.require("@codemirror/view"),n=Runtime.rtl.require("@codemirror/state"),i=Runtime.rtl.require("@codemirror/commands"),i=[i.history(),t.lineNumbers(),t.keymap.of([i.indentWithTab])],n=("true"!=this.readonly&&"1"!=this.readonly||i.push(n.EditorState.readOnly.of(!0)),i.push(t.EditorView.updateListener.of(e=>{e.docChanged&&null==this.change_timer&&(this.change_timer=setTimeout(this.onCodeChanged.bind(this),200))})),this.getRef("codemirror")),t=(this.instance=new t.EditorView({extensions:i,parent:n}),this.is_instance_created=!0,""!=this.height&&(i=(t=this.instance.dom).querySelector(".cm-scroller"),n=t.querySelector(".cm-content"),e=t.querySelector(".cm-gutter"),t.style.minHeight=this.height,t.style.maxHeight=this.height,n.style.minHeight=this.height,e.style.minHeight=this.height,i.style.minHeight=this.height),this.value);t?(this.instance.dispatch({changes:{from:0,to:this.instance.state.doc.length,insert:t}}),this.old_value=t):(this.instance.dispatch({changes:{from:0,to:this.instance.state.doc.length,insert:""}}),this.old_value="")},10)},onCodeChanged:function(){this.change_timer=null;var e=this.instance.state.doc.toString();this.old_value=e,this.emit("valueChanged",e,this.data)},onUpdated:function(){this.is_instance_created&&this.old_value!=this.value&&this.instance.dispatch({changes:{from:0,to:this.instance.state.doc.length,insert:this.value}})}}},Object.assign(Runtime.Widget.CodeMirror.CodeMirror,{css:function(e){return".widget_codemirror.h-f977 .cm-editor{"+Runtime.rtl.toStr("border: 1px solid var(--widget-color-border);outline: none;")+Runtime.rtl.toStr("}")},getNamespace:function(){return"Runtime.Widget.CodeMirror"},getClassName:function(){return"Runtime.Widget.CodeMirror.CodeMirror"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Runtime.Widget.CodeMirror.CodeMirror),window["Runtime.Widget.CodeMirror.CodeMirror"]=Runtime.Widget.CodeMirror.CodeMirror,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Runtime.Widget.CodeMirror.CodeMirror),Runtime.rtl.defModule(function(e){var t={exports:null},n={};return t.exports=function(){var e,t=arguments[0],n=("string"==typeof t&&(t=document.createElement(t)),1),i=arguments[1];if(i&&"object"==typeof i&&null==i.nodeType&&!Array.isArray(i)){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&("string"==typeof(e=i[o])?t.setAttribute(o,e):null!=e&&(t[o]=e));n++}for(;n<arguments.length;n++)!function e(t,n){if("string"==typeof n)t.appendChild(document.createTextNode(n));else if(null!=n)if(null!=n.nodeType)t.appendChild(n);else{if(!Array.isArray(n))throw new RangeError("Unsupported child node: "+n);for(var i=0;i<n.length;i++)e(t,n[i])}}(t,arguments[n]);return t},{module_name:"crelt",exports:n=null!=t.exports?t.exports:n}}),Runtime.rtl.defModule(function(e){var t=null,n={},i="undefined"==typeof Symbol?"__":Symbol.for(""),r="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{},s=n.StyleModule=function(e,t){this.rules=[];var n,d=(t||{}).finish;function c(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}for(n in e)!function e(n,t,i,o){var r,s=[],a=/^@(\w+)\b/.exec(n[0]),l=a&&"keyframes"==a[1];if(a&&null==t)return i.push(n[0]+";");for(r in t){var u=t[r];if(/&/.test(r))e(r.split(/,\s*/).map(function(t){return n.map(function(e){return t.replace(/&/,e)})}).reduce(function(e,t){return e.concat(t)}),u,i);else if(u&&"object"==typeof u){if(!a)throw new RangeError("The value of a property ("+r+") should be a primitive value.");e(c(r),u,s,l)}else null!=u&&s.push(r.replace(/_.*/,"").replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})+": "+u+";")}(s.length||l)&&i.push((!d||a||o?n:n.map(d)).join(", ")+" {"+s.join(" ")+"}")}(c(n),e[n],this.rules)},a=(s.prototype.getRules=function(){return this.rules.join("\n")},s.newName=function(){var e=o[i]||1;return o[i]=e+1,""+e.toString(36)},s.mount=function(e,t,n){var i=e[r],n=n&&n.nonce;i?n&&i.setNonce(n):i=new l(e,n),i.mount(Array.isArray(t)?t:[t])},new Map),l=function(e,t){var n=e.ownerDocument||e,i=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){var o=a.get(n);if(o)return e.adoptedStyleSheets=[o.sheet].concat(e.adoptedStyleSheets),e[r]=o;this.sheet=new i.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),a.set(n,this)}else{this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);o=e.head||e;o.insertBefore(this.styleTag,o.firstChild)}this.modules=[],e[r]=this};return l.prototype.mount=function(e){for(var t=this.sheet,n=0,i=0,o=0;o<e.length;o++){var r=e[o],s=this.modules.indexOf(r);if(s<i&&-1<s&&(this.modules.splice(s,1),i--,s=-1),-1==s){if(this.modules.splice(i++,0,r),t)for(var a=0;a<r.rules.length;a++)t.insertRule(r.rules[a],n++)}else{for(;i<s;)n+=this.modules[i++].rules.length;n+=r.rules.length,i++}}if(!t){for(var l="",u=0;u<this.modules.length;u++)l+=this.modules[u].getRules()+"\n";this.styleTag.textContent=l}},l.prototype.setNonce=function(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)},{module_name:"style-mod",exports:n=null!=t?t:n}}),Runtime.rtl.defModule(function(e){for(var t=null,n={},i=(Object.defineProperty(n,"__esModule",{value:!0}),{8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}),o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},r="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),s="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),a=0;a<10;a++)i[48+a]=i[96+a]=String(a);for(a=1;a<=24;a++)i[a+111]="F"+a;for(var l,a=65;a<=90;a++)i[a]=String.fromCharCode(a+32),o[a]=String.fromCharCode(a);for(l in i)o.hasOwnProperty(l)||(o[l]=i[l]);return n.base=i,n.keyName=function(e){return e="Down"==(e="Right"==(e="Up"==(e="Left"==(e="Del"==(e="Esc"==(e=!(r&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||s&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?o:i)[e.keyCode]||e.key||"Unidentified")?"Escape":e)?"Delete":e)?"ArrowLeft":e)?"ArrowUp":e)?"ArrowRight":e)?"ArrowDown":e},n.shift=o,{module_name:"w3c-keyname",exports:n=null!=t?t:n}}),Runtime.rtl.defModule(function(T){var e,t=null,h={};let n=0;class f{constructor(e,t){this.from=e,this.to=t}}class z{constructor(e={}){this.id=n++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=s.match(t)),e=>{e=t(e);return void 0===e?null:[this,e]}}}z.closedBy=new z({deserialize:e=>e.split(" ")}),z.openedBy=new z({deserialize:e=>e.split(" ")}),z.group=new z({deserialize:e=>e.split(" ")}),z.isolate=new z({deserialize:e=>{if(e&&"rtl"!=e&&"ltr"!=e&&"auto"!=e)throw new RangeError("Invalid value for isolate: "+e);return e||"auto"}}),z.contextHash=new z({perNode:!0}),z.lookAhead=new z({perNode:!0}),z.mounted=new z({perNode:!0});class m{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[z.mounted.id]}}const r=Object.create(null);class s{constructor(e,t,n,i=0){this.name=e,this.props=t,this.id=n,this.flags=i}static define(e){var t=e.props&&e.props.length?Object.create(null):r,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),i=new s(e.name||"",t,e.id,n);if(e.props)for(var o of e.props)if(o=Array.isArray(o)?o:o(i)){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}return i}prop(e){return this.props[e.id]}get isTop(){return 0<(1&this.flags)}get isSkipped(){return 0<(2&this.flags)}get isError(){return 0<(4&this.flags)}get isAnonymous(){return 0<(8&this.flags)}is(e){var t;return"string"==typeof e?this.name==e||!!(t=this.prop(z.group))&&-1<t.indexOf(e):this.id==e}static match(e){let o=Object.create(null);for(var t in e)for(var n of t.split(" "))o[n]=e[t];return n=>{for(let e=n.prop(z.group),t=-1;t<(e?e.length:0);t++){var i=o[t<0?n.name:e[t]];if(i)return i}}}}s.none=new s("",Object.create(null),0,8);const o=new WeakMap,i=new WeakMap;h.IterMode=void 0,(e=h.IterMode||(h.IterMode={}))[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays";class U{constructor(e,t,n,i,o){if(this.type=e,this.children=t,this.positions=n,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(var[r,s]of o)this.props["number"==typeof r?r:r.id]=s}}toString(){var e,t=m.get(this);if(t&&!t.overlay)return t.tree.toString();let n="";for(e of this.children){var i=e.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new v(this.topNode,e)}cursorAt(e,t=0,n){var i=o.get(this)||this.topNode,i=new v(i);return i.moveTo(e,t),o.set(this,i._tree),i}get topNode(){return new g(this,0,0,null)}resolve(e,t=0){e=l(o.get(this)||this.topNode,e,t,!1);return o.set(this,e),e}resolveInner(e,t=0){e=l(i.get(this)||this.topNode,e,t,!0);return i.set(this,e),e}resolveStack(e,t=0){return N(this,e,t)}iterate(e){for(var{enter:t,leave:n,from:i=0,to:o=this.length}=e,e=e.mode||0,r=0<(e&h.IterMode.IncludeAnonymous),s=this.cursor(e|h.IterMode.IncludeAnonymous);;){let e=!1;if(s.from<=o&&s.to>=i&&(!r&&s.type.isAnonymous||!1!==t(s))){if(s.firstChild())continue;e=!0}for(;e&&n&&(r||!s.type.isAnonymous)&&n(s),!s.nextSibling();){if(!s.parent())return;e=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){var e=[];if(this.props)for(var t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Y(s.none,this.children,this.positions,0,this.children.length,0,this.length,(e,t,n)=>new U(this.type,e,t,n,this.propValues),e.makeTree||((e,t,n)=>new U(s.none,e,t,n)))}static build(e){return E(e)}}U.empty=new U(s.none,[],[],0);class a{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new a(this.buffer,this.index)}}class q{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return s.none}toString(){var t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(e){var t=this.buffer[e],n=this.buffer[e+3];let i=this.set.types[t],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),n==(e+=4))return o;for(var r=[];e<n;)r.push(this.childString(e)),e=this.buffer[e+3];return o+"("+r.join(",")+")"}findChild(t,n,i,o,r){let s=this["buffer"],a=-1;for(let e=t;e!=n&&!(p(r,o,s[e+1],s[e+2])&&(a=e,0<i));e=s[e+3]);return a}slice(n,i,o){var r=this.buffer;let s=new Uint16Array(i-n),a=0;for(let e=n,t=0;e<i;){s[t++]=r[e++],s[t++]=r[e++]-o;var l=s[t++]=r[e++]-o;s[t++]=r[e++]-n,a=Math.max(a,l)}return new q(s,a,this.set)}}function p(e,t,n,i){switch(e){case-2:return n<t;case-1:return t<=i&&n<t;case 0:return n<t&&t<i;case 1:return n<=t&&t<i;case 2:return t<i;case 4:return 1}}function l(n,i,o,e){for(var r;n.from==n.to||(o<1?n.from>=i:n.from>i)||(-1<o?n.to<=i:n.to<i);){var t=!e&&n instanceof g&&n.index<0?null:n.parent;if(!t)return n;n=t}var s=e?0:h.IterMode.IgnoreOverlays;if(e)for(let e=n,t=e.parent;t;t=(e=t).parent)e instanceof g&&e.index<0&&(null==(r=t.enter(i,o,s))?void 0:r.from)!=e.from&&(n=t);for(;;){var a=n.enter(i,o,s);if(!a)return n;n=a}}class u{cursor(e=0){return new v(this,e)}getChild(e,t=null,n=null){e=d(this,e,t,n);return e.length?e[0]:null}getChildren(e,t=null,n=null){return d(this,e,t,n)}resolve(e,t=0){return l(this,e,t,!1)}resolveInner(e,t=0){return l(this,e,t,!0)}matchContext(e){return c(this,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){var i=t.lastChild;if(!i||i.to!=t.to)break;t=i.type.isError&&i.from==i.to?(n=t,i.prevSibling):i}return n}get node(){return this}get next(){return this.parent}}class g extends u{constructor(e,t,n,i){super(),this._tree=e,this.from=t,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(n,i,o,r,s=0){for(let t=this;;){for(var{children:e,positions:a}=t._tree,l=0<i?e.length:-1;n!=l;n+=i){var u=e[n],d=a[n]+t.from;if(p(r,o,d,d+u.length))if(u instanceof q){if(!(s&h.IterMode.ExcludeBuffers)){var c=u.findChild(0,u.buffer.length,i,o-d,r);if(-1<c)return new R(new A(t,u,n,d),null,c)}}else if(s&h.IterMode.IncludeAnonymous||!u.type.isAnonymous||b(u)){let e;return s&h.IterMode.IgnoreMounts||!(e=m.get(u))||e.overlay?(c=new g(u,d,n,t),s&h.IterMode.IncludeAnonymous||!c.type.isAnonymous?c:c.nextChild(i<0?u.children.length-1:0,i,o,r)):new g(e.tree,d,n,t)}}if(s&h.IterMode.IncludeAnonymous||!t.type.isAnonymous)return null;if(n=0<=t.index?t.index+i:i<0?-1:t._parent._tree.children.length,!(t=t._parent))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let i;if(!(n&h.IterMode.IgnoreOverlays)&&(i=m.get(this._tree))&&i.overlay){var o,r,s=e-this.from;for({from:o,to:r}of i.overlay)if((0<t?o<=s:o<s)&&(t<0?r>=s:r>s))return new g(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&0<=this.index?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&0<=this.index?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function d(e,t,n,i){var o=e.cursor(),r=[];if(!o.firstChild())return r;if(null!=n)for(;!o.type.is(n);)if(!o.nextSibling())return r;for(;;){if(null!=i&&o.type.is(i))return r;if(o.type.is(t)&&r.push(o.node),!o.nextSibling())return null==i?r:[]}}function c(t,n,i=n.length-1){for(let e=t.parent;0<=i;e=e.parent){if(!e)return!1;if(!e.type.isAnonymous){if(n[i]&&n[i]!=e.name)return!1;i--}}return!0}class A{constructor(e,t,n,i){this.parent=e,this.buffer=t,this.index=n,this.start=i}}class R extends u{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){var i=this.context["buffer"],i=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,n);return i<0?null:new R(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){return n&h.IterMode.ExcludeBuffers||(n=this.context.buffer,(n=n.findChild(this.index+4,n.buffer[this.index+3],0<t?1:-1,e-this.context.start,t))<0)?null:new R(this.context,this,n)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){var e=this.context["buffer"],t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new R(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){var e=this.context["buffer"],t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new R(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){var e,t=[],n=[],i=this.context["buffer"],o=this.index+4,r=i.buffer[this.index+3];return o<r&&(e=i.buffer[this.index+1],t.push(i.slice(o,r,e)),n.push(0)),new U(this.type,t,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function y(t){if(!t.length)return null;let n=0,i=t[0];for(let e=1;e<t.length;e++){var o=t[e];(o.from>i.from||o.to<i.to)&&(i=o,n=e)}var e=i instanceof g&&i.index<0?null:i.parent,r=t.slice();return e?r[n]=e:r.splice(n,1),new D(r,i)}class D{constructor(e,t){this.heads=e,this.node=t}get next(){return y(this.heads)}}function N(e,t,n){let i=e.resolveInner(t,n),o=null;for(let e=i instanceof g?i:i.context.parent;e;e=e.parent){var r,s;e.index<0?(r=e.parent,(o=o||[i]).push(r.resolve(t,n)),e=r):(r=m.get(e.tree))&&r.overlay&&r.overlay[0].from<=t&&r.overlay[r.overlay.length-1].to>=t&&(s=new g(r.tree,r.overlay[0].from+e.from,-1,e),(o=o||[i]).push(l(s,t,n,!1)))}return o?y(o):i}class v{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof g)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;var{start:n,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=n+i.buffer[e+1],this.to=n+i.buffer[e+2],!0}yield(e){return!!e&&(e instanceof g?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){var i;return this.buffer?(i=this.buffer["buffer"],!((i=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,n))<0)&&(this.stack.push(this.index),this.yieldBuf(i))):this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?!(n&h.IterMode.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){var e;return this.buffer?this.stack.length?this.yieldBuf(this.stack.pop()):(e=this.mode&h.IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent(),this.buffer=null,this.yieldNode(e)):this.yieldNode(this.mode&h.IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));var t=this.buffer["buffer"],n=this.stack.length-1;if(e<0){var i=n<0?0:this.stack[n]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{i=t.buffer[this.index+3];if(i<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(n){let i,o,t=this["buffer"];if(t){if(0<n){if(this.index<t.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(t.buffer.buffer[e+3]<this.index)return!1;({index:i,parent:o}=t)}else({index:i,_parent:o}=this._tree);for(;o;{index:i,_parent:o}=o)if(-1<i)for(let e=i+n,t=n<0?-1:o._tree.children.length;e!=t;e+=n){var r=o._tree.children[e];if(this.mode&h.IterMode.IncludeAnonymous||r instanceof q||!r.type.isAnonymous||b(r))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(-1<t?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let i=this.bufferNode,o=null,r=0;if(i&&i.context==this.buffer)e:for(let t=this.index,n=this.stack.length;0<=n;){for(let e=i;e;e=e._parent)if(e.index==t){if(t==this.index)return e;o=e,r=n+1;break e}t=this.stack[--n]}for(let e=r;e<this.stack.length;e++)o=new R(this.buffer,o,this.stack[e]);return this.bufferNode=new R(this.buffer,o,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(n,i){for(let t=0;;){let e=!1;if(this.type.isAnonymous||!1!==n(this)){if(this.firstChild()){t++;continue}this.type.isAnonymous||(e=!0)}for(;e&&i&&i(this),e=this.type.isAnonymous,!this.nextSibling();){if(!t)return;this.parent(),t--,e=!0}}}matchContext(n){if(!this.buffer)return c(this.node,n);var i=this.buffer["buffer"],o=i.set["types"];for(let e=n.length-1,t=this.stack.length-1;0<=e;t--){if(t<0)return c(this.node,n,e);var r=o[i.buffer[this.stack[t]]];if(!r.isAnonymous){if(n[e]&&n[e]!=r.name)return!1;e--}}return!0}}function b(e){return e.children.some(e=>e instanceof q||!e.type.isAnonymous||b(e))}function E(e){let{buffer:t,nodeSet:T,maxBufferLength:A=1024,reused:D=[],minRepeatType:N=T.types.length}=e,E=Array.isArray(t)?new a(t,t.length):t,P=T.types,I=0,V=0;function L(n,i,e,t,o,r){for(var s,a,{id:l,start:u,end:d,size:c}=E,m=V;c<0;){if(E.next(),-1==c)return s=D[l],e.push(s),void t.push(u-n);if(-3==c)return void(I=l);if(-4==c)return void(V=l);throw new RangeError("Unrecognized record size: "+c)}let h=P[l],f,p,g=u-n;if(d-u<=A&&(p=function(e,t){let n=E.fork(),i=0,o=0,r=0,s=n.end-A,a={size:0,start:0,skip:0};e:for(var l=n.pos-e;n.pos>l;){var u=n.size;if(n.id==t&&0<=u)a.size=i,a.start=o,a.skip=r,r+=4,i+=4,n.next();else{var d=n.pos-u;if(u<0||d<l||n.start<s)break;let e=n.id>=N?4:0;var c=n.start;for(n.next();n.pos>d;){if(n.size<0){if(-3!=n.size)break e;e+=4}else n.id>=N&&(e+=4);n.next()}o=c,i+=u,r+=e}}(t<0||i==e)&&(a.size=i,a.start=o,a.skip=r);return 4<a.size?a:void 0}(E.pos-i,o))){var R=new Uint16Array(p.size-p.skip);let e=E.pos-p.size,t=R.length;for(;E.pos>e;)t=function t(n,i,o){let{id:r,start:s,end:a,size:l}=E;E.next();if(0<=l&&r<N){let e=o;if(4<l){let e=E.pos-(l-4);for(;E.pos>e;)o=t(n,i,o)}i[--o]=e,i[--o]=a-n,i[--o]=s-n,i[--o]=r}else-3==l?I=r:-4==l&&(V=r);return o}(p.start,R,t);f=new q(R,d-p.start,T),g=p.start-n}else{var y=E.pos-c,v=(E.next(),[]),b=[],S=l>=N?l:-1;let e=0,t=d;for(;E.pos>y;)if(0<=S&&E.id==S&&0<=E.size)E.end<=t-A&&(j(v,b,u,e,E.end,t,S,m),e=v.length,t=E.end),E.next();else if(2500<r){C=void 0;w=void 0;_=void 0;M=void 0;O=void 0;x=void 0;B=void 0;k=void 0;F=void 0;W=void 0;var C=u;var w=y;var _=v;var M=b;let n=[],e=0,t=-1;for(;E.pos>w;){var{id:O,start:x,end:B,size:k}=E;if(!(4<k)){if(-1<t&&x<t)break;t<0&&(t=B-A),n.push(O,x,B),e++}E.next()}if(e){var F=new Uint16Array(4*e),W=n[n.length-2];for(let e=n.length-3,t=0;0<=e;e-=3)F[t++]=n[e],F[t++]=n[e+1]-W,F[t++]=n[e+2]-W,F[t++]=t;_.push(new q(F,n[2]-W,T)),M.push(W-C)}}else L(u,y,v,b,S,r+1);0<=S&&0<e&&e<v.length&&j(v,b,u,e,u,t,S,m),v.reverse(),b.reverse(),f=-1<S&&0<e?Y(a=h,v,b,0,v.length,0,d-u,i=(e,t,n)=>{let i=0,o=e.length-1,r,s;if(0<=o&&(r=e[o])instanceof U){if(!o&&r.type==a&&r.length==n)return r;(s=r.prop(z.lookAhead))&&(i=t[o]+r.length+s)}return H(a,e,t,n,i)},i):H(h,v,b,d-u,m-d)}e.push(f),t.push(g)}function j(e,t,n,i,o,r,s,a){for(var l=[],u=[];e.length>i;)l.push(e.pop()),u.push(t.pop()+n-o);e.push(H(T.types[s],l,u,r-o,a-r)),t.push(o-n)}function H(e,t,n,i,o=0,r){var s;return I&&(s=[z.contextHash,I],r=r?[s].concat(r):[s]),25<o&&(s=[z.lookAhead,o],r=r?[s].concat(r):[s]),new U(e,t,n,i,r)}for(var n=[],i=[];0<E.pos;)L(e.start||0,e.bufferStart||0,n,i,-1,0);var o=null!=(o=e.length)?o:n.length?i[0]+n[0].length:0;return new U(P[e.topID],n.reverse(),i.reverse(),o)}const S=new WeakMap;function C(e,t){if(!e.isAnonymous||t instanceof q||t.type!=e)return 1;let n=S.get(t);if(null==n){n=1;for(var i of t.children){if(i.type!=e||!(i instanceof U)){n=1;break}n+=C(e,i)}S.set(t,n)}return n}function Y(c,t,e,n,i,m,o,r,h){let s=0;for(let e=n;e<i;e++)s+=C(c,t[e]);let f=Math.ceil(1.5*s/8),p=[],g=[];return function o(r,s,e,a,l){for(let i=e;i<a;){let e=i,t=s[i],n=C(c,r[i]);for(i++;i<a;i++){var u=C(c,r[i]);if(n+u>=f)break;n+=u}if(i==e+1){if(n>f){var d=r[e];o(d.children,d.positions,0,d.children.length,s[e]+l);continue}p.push(r[e])}else d=s[i-1]+r[i-1].length-t,p.push(Y(c,r,s,e,i,t,d,null,h));g.push(t+l-m)}}(t,e,n,i,0),(r||h)(p,g,o)}class w{constructor(e,t,n,i,o=!1,r=!1){this.from=e,this.to=t,this.tree=n,this.offset=i,this.open=(o?1:0)|(r?2:0)}get openStart(){return 0<(1&this.open)}get openEnd(){return 0<(2&this.open)}static addTree(e,t=[],n=!1){var i,o=[new w(0,e.length,e,0,!1,n)];for(i of t)i.to>e.length&&o.push(i);return o}static applyChanges(o,e,r=128){if(!e.length)return o;var s=[];let a=1,l=o.length?o[0]:null;for(let t=0,n=0,i=0;;t++){var u,d,c=t<e.length?e[t]:null,m=c?c.fromA:1e9;if(m-n>=r)for(;l&&l.from<m;){let e=l;if((n>=e.from||m<=e.to||i)&&(u=Math.max(e.from,n)-i,d=Math.min(e.to,m)-i,e=d<=u?null:new w(u,d,e.tree,e.offset+i,0<t,!!c)),e&&s.push(e),l.to>m)break;l=a<o.length?o[a++]:null}if(!c)break;n=c.toA,i=c.toA-c.toB}return s}}class P{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}class _{constructor(e,t,n,i,o){this.parser=e,this.parse=t,this.overlay=n,this.target=i,this.from=o}}function M(e){if(!e.length||e.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(e))}class I{constructor(e,t,n,i,o,r,s){this.parser=e,this.predicate=t,this.mounts=n,this.index=i,this.start=o,this.target=r,this.prev=s,this.depth=0,this.ranges=[]}}const O=new z({perNode:!0});class V{constructor(e,t,n,i,o){this.nest=t,this.input=n,this.fragments=i,this.ranges=o,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){var e=this.baseParse.advance();if(!e)return null;if(this.baseParse=null,this.baseTree=e,this.startInner(),null!=this.stoppedAt)for(var t of this.inner)t.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let e=this.baseTree;return e=null!=this.stoppedAt?new U(e.type,e.children,e.positions,e.length,e.propValues.concat([[O,this.stoppedAt]])):e}var n,e=this.inner[this.innerDone],i=e.parse.advance();return i&&(this.innerDone++,(n=Object.assign(Object.create(null),e.target.props))[z.mounted.id]=new m(i,e.overlay,e.parser),e.target.props=n),null}get parsedPos(){if(this.baseParse)return 0;let t=this.input.length;for(let e=this.innerDone;e<this.inner.length;e++)this.inner[e].from<t&&(t=Math.min(t,this.inner[e].parse.parsedPos));return t}stopAt(t){if(this.stoppedAt=t,this.baseParse)this.baseParse.stopAt(t);else for(let e=this.innerDone;e<this.inner.length;e++)this.inner[e].parse.stopAt(t)}startInner(){var o,r,s,a=new H(this.fragments);let l=null,u=null,d=new v(new g(this.baseTree,this.ranges[0].from,0,null),h.IterMode.IncludeAnonymous|h.IterMode.IgnoreMounts);e:for(let n,i;;){let e=!0,t;if(null!=this.stoppedAt&&d.from>=this.stoppedAt)e=!1;else if(a.hasNode(d)){if(l){var c=l.mounts.find(e=>e.frag.from<=d.from&&e.frag.to>=d.to&&e.mount.overlay);if(c)for(var m of c.mount.overlay){let t=m.from+c.pos,n=m.to+c.pos;t>=d.from&&n<=d.to&&!l.ranges.some(e=>e.from<n&&e.to>t)&&l.ranges.push({from:t,to:n})}}e=!1}else u&&(i=L(u.ranges,d.from,d.to))?e=2!=i:!d.type.isAnonymous&&(n=this.nest(d,this.input))&&(d.from<d.to||!n.overlay)?(d.tree||j(d),o=a.findMounts(d.from,n.parser),"function"==typeof n.overlay?l=new I(n.parser,n.overlay,o,this.inner.length,d.from,d.tree,l):((r=k(this.ranges,n.overlay||(d.from<d.to?[new f(d.from,d.to)]:[]))).length&&M(r),!r.length&&n.overlay||this.inner.push(new _(n.parser,r.length?n.parser.startParse(this.input,F(o,r),r):n.parser.startParse(""),n.overlay?n.overlay.map(e=>new f(e.from-d.from,e.to-d.from)):null,d.tree,(r.length?r[0]:d).from)),n.overlay?r.length&&(u={ranges:r,depth:0,prev:u}):e=!1)):l&&(t=l.predicate(d))&&(t=!0===t?new f(d.from,d.to):t).from<t.to&&l.ranges.push(t);if(e&&d.firstChild())l&&l.depth++,u&&u.depth++;else for(;!d.nextSibling();){if(!d.parent())break e;l&&!--l.depth&&((s=k(this.ranges,l.ranges)).length&&(M(s),this.inner.splice(l.index,0,new _(l.parser,l.parser.startParse(this.input,F(l.mounts,s),s),l.ranges.map(e=>new f(e.from-l.start,e.to-l.start)),l.target,s[0].from))),l=l.prev),u&&!--u.depth&&(u=u.prev)}}}}function L(e,t,n){for(var i of e){if(i.from>=n)break;if(i.to>t)return i.from<=t&&i.to>=n?2:1}return 0}function x(e,t,n,i,o,r){var s;t<n&&(s=e.buffer[t+1],i.push(e.slice(t,n,s)),o.push(s-r))}function j(e){let c=e["node"],m=[];for(var t=c.context.buffer;m.push(e.index),e.parent(),!e.tree;);var n,i=e.tree,t=i.children.indexOf(t);let h=i.children[t],f=h.buffer,p=[t];i.children[t]=function e(t,n,i,o,r,s){var a=m[s],l=[],u=[],t=(x(h,t,a,l,u,o),f[a+1]),d=f[a+2],d=(p.push(l.length),s?e(a+4,f[a+3],h.set.types[f[a]],t,d-t,s-1):c.toTree());return l.push(d),u.push(t-o),x(h,f[a+3],n,l,u,o),new U(i,l,u,r)}(0,f.length,s.none,0,h.length,m.length-1);for(n of p){var o=e.tree.children[n],r=e.tree.positions[n];e.yield(new g(o,r+e.from,n,e._tree))}}class B{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(h.IterMode.IncludeAnonymous|h.IterMode.IgnoreMounts)}moveTo(e){for(var t=this["cursor"],n=e-this.offset;!this.done&&t.from<n;)t.to>=e&&t.enter(n,1,h.IterMode.IgnoreOverlays|h.IterMode.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(t){if(this.moveTo(t.from),!this.done&&this.cursor.from+this.offset==t.from&&this.cursor.tree)for(let e=this.cursor.tree;;){if(e==t.tree)return!0;if(!(e.children.length&&0==e.positions[0]&&e.children[0]instanceof U))break;e=e.children[0]}return!1}}class H{constructor(e){var t;this.fragments=e,this.curTo=0,this.fragI=0,e.length?(e=this.curFrag=e[0],this.curTo=null!=(t=e.tree.prop(O))?t:e.to,this.inner=new B(e.tree,-e.offset)):this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e,t;this.fragI++,this.fragI==this.fragments.length?this.curFrag=this.inner=null:(t=this.curFrag=this.fragments[this.fragI],this.curTo=null!=(e=t.tree.prop(O))?e:t.to,this.inner=new B(t.tree,-t.offset))}findMounts(e,n){var i,o=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let t=this.inner.cursor.node;t;t=t.parent){var r=null==(i=t.tree)?void 0:i.prop(z.mounted);if(r&&r.parser==n)for(let e=this.fragI;e<this.fragments.length;e++){var s=this.fragments[e];if(s.from>=t.to)break;s.tree==this.curFrag.tree&&o.push({frag:s,pos:t.from-s.offset,mount:r})}}}return o}}function k(n,i){let o=null,r=i;for(let e=1,t=0;e<n.length;e++)for(var s=n[e-1].to,a=n[e].from;t<r.length;t++){var l=r[t];if(l.from>=a)break;l.to<=s||(o||(r=o=i.slice()),l.from<s?(o[t]=new f(l.from,s),l.to>a&&o.splice(t+1,0,new f(a,l.to))):l.to>a?o[t--]=new f(a,l.to):o.splice(t--,1))}return r}function F(e,o){var r=[];for(let{pos:t,mount:n,frag:i}of e){var s=t+(n.overlay?n.overlay[0].from:0),a=s+n.tree.length,l=Math.max(i.from,s),u=Math.min(i.to,a);if(n.overlay){var d=function(e,t,n,i){let o=0,r=0,s=!1,a=!1,l=-1e9;for(var u=[];;){var d,c,m=o==e.length?1e9:s?e[o].to:e[o].from,h=r==t.length?1e9:a?t[r].to:t[r].from;if(s!=a&&(d=Math.max(l,n))<(c=Math.min(m,h,i))&&u.push(new f(d,c)),1e9==(l=Math.min(m,h)))break;m==l&&(s?(s=!1,o++):s=!0),h==l&&(a?(a=!1,r++):a=!0)}return u}(o,n.overlay.map(e=>new f(e.from+t,e.to+t)),l,u);for(let e=0,t=l;;e++){var c=e==d.length,m=c?u:d[e].from;if(m>t&&r.push(new w(t,m,n.tree,-s,i.from>=t||i.openStart,i.to<=m||i.openEnd)),c)break;t=d[e].to}}else r.push(new w(l,u,n.tree,-s,i.from>=s||i.openStart,i.to<=a||i.openEnd))}return r}return h.DefaultBufferLength=1024,h.MountedTree=m,h.NodeProp=z,h.NodeSet=class W{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){var n,i=[];for(n of this.types){let e=null;for(var o of t)(o=o(n))&&((e=e||Object.assign({},n.props))[o[0].id]=o[1]);i.push(e?new s(n.name,e,n.id,n.flags):n)}return new W(i)}},h.NodeType=s,h.NodeWeakMap=class{constructor(){this.map=new WeakMap}setBuffer(e,t,n){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,n)}getBuffer(e,t){e=this.map.get(e);return e&&e.get(t)}set(e,t){e instanceof R?this.setBuffer(e.context.buffer,e.index,t):e instanceof g&&this.map.set(e.tree,t)}get(e){return e instanceof R?this.getBuffer(e.context.buffer,e.index):e instanceof g?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}},h.Parser=class{startParse(e,t,n){return"string"==typeof e&&(e=new P(e)),n=n?n.length?n.map(e=>new f(e.from,e.to)):[new f(0,0)]:[new f(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){for(var i=this.startParse(e,t,n);;){var o=i.advance();if(o)return o}}},h.Tree=U,h.TreeBuffer=q,h.TreeCursor=v,h.TreeFragment=w,h.parseMixed=function(o){return(e,t,n,i)=>new V(e,o,t,n,i)},{module_name:"@lezer/common",exports:h=null!=t?t:h}}),Runtime.rtl.defModule(function(e){var t=null,n={},y=e("@lezer/common");let i=0;class u{constructor(e,t,n){this.set=e,this.base=t,this.modified=n,this.id=i++}static define(e){if(null!=e&&e.base)throw new Error("Can not derive from a modified tag");var t=new u([],null,[]);if(t.set.push(t),e)for(var n of e.set)t.set.push(n);return t}static defineModifier(){let t=new d;return e=>-1<e.modified.indexOf(t)?e:d.get(e.base||e,e.modified.concat(t).sort((e,t)=>e.id-t.id))}}let o=0;class d{constructor(){this.instances=[],this.id=o++}static get(t,n){if(!n.length)return t;var e=n[0].instances.find(e=>e.base==t&&c(n,e.modified));if(e)return e;var i,o=[],r=new u(o,t,n);for(i of n)i.instances.push(r);var s,a=m(n);for(s of t.set)if(!s.modified.length)for(var l of a)o.push(d.get(s,l));return r}}function c(e,n){return e.length==n.length&&e.every((e,t)=>e==n[t])}function m(i){var o=[[]];for(let n=0;n<i.length;n++)for(let e=0,t=o.length;e<t;e++)o.push(o[e].concat(i[n]));return o.sort((e,t)=>t.length-e.length)}const h=new y.NodeProp;class v{constructor(e,t,n,i){this.tags=e,this.mode=t,this.context=n,this.next=i}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function r(e,t){let o=Object.create(null);for(var n of e)if(Array.isArray(n.tag))for(var i of n.tag)o[i.id]=n.class;else o[n.tag.id]=n.class;let{scope:r,all:s=null}=t||{};return{style:e=>{let t=s;for(var n of e)for(var i of n.set){i=o[i.id];if(i){t=t?t+" "+i:i;break}}return t},scope:r}}function b(e,t){let n=null;for(var i of e){i=i.style(t);i&&(n=n?n+" "+i:i)}return n}function f(e,t,n,i=0,o=e.length){t=new s(i,Array.isArray(t)?t:[t],n);t.highlightRange(e.cursor(),i,o,"",t.highlighters),t.flush(o)}v.empty=new v([],2,null);class s{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(o,r,s,a,l){let{type:t,from:u,to:d}=o;if(!(s<=u||d<=r)){t.isTop&&(l=this.highlighters.filter(e=>!e.scope||e.scope(t)));let i=a;var e=S(o)||v.empty,n=b(l,e.tags);if(n&&(i&&(i+=" "),i+=n,1==e.mode)&&(a+=(a?" ":"")+n),this.startSpan(Math.max(r,u),i),!e.opaque){let n=o.tree&&o.tree.prop(y.NodeProp.mounted);if(n&&n.overlay){var c=o.node.enter(n.overlay[0].from+u,1),m=this.highlighters.filter(e=>!e.scope||e.scope(n.tree.type)),h=o.firstChild();for(let e=0,t=u;;e++){var f=e<n.overlay.length?n.overlay[e]:null,p=f?f.from+u:d,g=Math.max(r,t),R=Math.min(s,p);if(g<R&&h)for(;o.from<R&&(this.highlightRange(o,g,R,a,l),this.startSpan(Math.min(R,o.to),i),!(o.to>=p))&&o.nextSibling(););if(!f||s<p)break;(t=f.to+u)>r&&(this.highlightRange(c.cursor(),Math.max(r,f.from+u),Math.min(s,t),"",m),this.startSpan(Math.min(s,t),i))}h&&o.parent()}else if(o.firstChild()){n&&(a="");do{if(!(o.to<=r)){if(o.from>=s)break;this.highlightRange(o,r,s,a,l),this.startSpan(Math.min(s,o.to),i)}}while(o.nextSibling());o.parent()}}}}}function S(e){let t=e.type.prop(h);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}var e=u.define,a=e(),l=e(),p=e(l),g=e(l),R=e(),C=e(R),w=e(R),_=e(),M=e(_),O=e(),x=e(),B=e(),k=e(B),F=e(),a={comment:a,lineComment:e(a),blockComment:e(a),docComment:e(a),name:l,variableName:e(l),typeName:p,tagName:e(p),propertyName:g,attributeName:e(g),className:e(l),labelName:e(l),namespace:e(l),macroName:e(l),literal:R,string:C,docString:e(C),character:e(C),attributeValue:e(C),number:w,integer:e(w),float:e(w),bool:e(R),regexp:e(R),escape:e(R),color:e(R),url:e(R),keyword:O,self:e(O),null:e(O),atom:e(O),unit:e(O),modifier:e(O),operatorKeyword:e(O),controlKeyword:e(O),definitionKeyword:e(O),moduleKeyword:e(O),operator:x,derefOperator:e(x),arithmeticOperator:e(x),logicOperator:e(x),bitwiseOperator:e(x),compareOperator:e(x),updateOperator:e(x),definitionOperator:e(x),typeOperator:e(x),controlOperator:e(x),punctuation:B,separator:e(B),bracket:k,angleBracket:e(k),squareBracket:e(k),paren:e(k),brace:e(k),content:_,heading:M,heading1:e(M),heading2:e(M),heading3:e(M),heading4:e(M),heading5:e(M),heading6:e(M),contentSeparator:e(_),list:e(_),quote:e(_),emphasis:e(_),strong:e(_),link:e(_),monospace:e(_),strikethrough:e(_),inserted:e(),deleted:e(),changed:e(),invalid:e(),meta:F,documentMeta:e(F),annotation:e(F),processingInstruction:e(F),definition:u.defineModifier(),constant:u.defineModifier(),function:u.defineModifier(),standard:u.defineModifier(),local:u.defineModifier(),special:u.defineModifier()},p=r([{tag:a.link,class:"tok-link"},{tag:a.heading,class:"tok-heading"},{tag:a.emphasis,class:"tok-emphasis"},{tag:a.strong,class:"tok-strong"},{tag:a.keyword,class:"tok-keyword"},{tag:a.atom,class:"tok-atom"},{tag:a.bool,class:"tok-bool"},{tag:a.url,class:"tok-url"},{tag:a.labelName,class:"tok-labelName"},{tag:a.inserted,class:"tok-inserted"},{tag:a.deleted,class:"tok-deleted"},{tag:a.literal,class:"tok-literal"},{tag:a.string,class:"tok-string"},{tag:a.number,class:"tok-number"},{tag:[a.regexp,a.escape,a.special(a.string)],class:"tok-string2"},{tag:a.variableName,class:"tok-variableName"},{tag:a.local(a.variableName),class:"tok-variableName tok-local"},{tag:a.definition(a.variableName),class:"tok-variableName tok-definition"},{tag:a.special(a.variableName),class:"tok-variableName2"},{tag:a.definition(a.propertyName),class:"tok-propertyName tok-definition"},{tag:a.typeName,class:"tok-typeName"},{tag:a.namespace,class:"tok-namespace"},{tag:a.className,class:"tok-className"},{tag:a.macroName,class:"tok-macroName"},{tag:a.propertyName,class:"tok-propertyName"},{tag:a.operator,class:"tok-operator"},{tag:a.comment,class:"tok-comment"},{tag:a.meta,class:"tok-meta"},{tag:a.invalid,class:"tok-invalid"},{tag:a.punctuation,class:"tok-punctuation"}]);return n.Tag=u,n.classHighlighter=p,n.getStyleTags=S,n.highlightCode=function(s,e,t,a,l,n=0,i=s.length){let u=n;function o(n,i){if(!(n<=u)){for(let e=s.slice(u,n),t=0;;){var o=e.indexOf("\n",t),r=o<0?e.length:o;if(r>t&&a(e.slice(t,r),i),o<0)break;l(),t=o+1}u=n}}f(e,t,(e,t,n)=>{o(e,""),o(t,n)},n,i),o(i,"")},n.highlightTree=f,n.styleTags=function(t){var n,o=Object.create(null);for(n in t){let e=t[n];Array.isArray(e)||(e=[e]);for(var r of n.split(" "))if(r){let t=[],n=2,i=r;for(let e=0;;){if("..."==i&&0<e&&e+3==r.length){n=1;break}var s=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(i);if(!s)throw new RangeError("Invalid path: "+r);if(t.push("*"==s[0]?"":'"'==s[0][0]?JSON.parse(s[0]):s[0]),(e+=s[0].length)==r.length)break;s=r[e++];if(e==r.length&&"!"==s){n=0;break}if("/"!=s)throw new RangeError("Invalid path: "+r);i=r.slice(e)}var a=t.length-1,l=t[a];if(!l)throw new RangeError("Invalid path: "+r);a=new v(e,n,0<a?t.slice(0,a):null);o[l]=a.sort(o[l])}}return h.add(o)},n.tagHighlighter=r,n.tags=a,{module_name:"@lezer/highlight",exports:n=null!=t?t:n}}),Runtime.rtl.defModule(function(E){var P=null,u={};class h{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length `+this.length);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=l(this,e,t);var i=[];return this.decompose(0,e,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(t,this.length,i,1),g.from(i,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=l(this,e,t);var n=[];return this.decompose(e,t,n,0),g.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;var n=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),o=new s(this),r=new s(e);for(let e=n,t=n;;){if(o.next(e),r.next(e),e=0,o.lineBreak!=r.lineBreak||o.done!=r.done||o.value!=r.value)return!1;if(t+=o.value.length,o.done||t>=i)return!0}}iter(e=1){return new s(this,e)}iterRange(e,t=this.length){return new L(this,e,t)}iterLines(e,t){let n;return n=null==e?this.iter():(null==t&&(t=this.lines+1),e=this.line(e).from,this.iterRange(e,Math.max(e,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))),new j(n)}toString(){return this.sliceString(0)}toJSON(){var e=[];return this.flatten(e),e}constructor(){}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new p(e):g.from(p.split(e,[])):h.empty}}class p extends h{constructor(e,t=I(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(t,n,i,o){for(let e=0;;e++){var r=this.text[e],s=o+r.length;if(t<=(n?i:s))return new H(o,s,i,r);o=s+1,i++}}decompose(e,t,n,i){t=e<=0&&t>=this.length?this:new p(V(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));1&i?(e=n.pop(),(i=o(t.text,e.text.slice(),0,t.length)).length<=32?n.push(new p(i,e.length+t.length)):(e=i.length>>1,n.push(new p(i.slice(0,e)),new p(i.slice(e))))):n.push(t)}replace(e,t,n){if(!(n instanceof p))return super.replace(e,t,n);[e,t]=l(this,e,t);var i=o(this.text,o(n.text,V(this.text,0,e)),t),n=this.length+n.length-(t-e);return i.length<=32?new p(i,n):g.from(p.split(i,[]),n)}sliceString(n,i=this.length,o="\n"){[n,i]=l(this,n,i);let r="";for(let e=0,t=0;e<=i&&t<this.text.length;t++){var s=this.text[t],a=e+s.length;e>n&&t&&(r+=o),n<a&&i>e&&(r+=s.slice(Math.max(0,n-e),i-e)),e=a+1}return r}flatten(e){for(var t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],i=-1;for(var o of e)n.push(o),i+=o.length+1,32==n.length&&(t.push(new p(n,i)),n=[],i=-1);return-1<i&&t.push(new p(n,i)),t}}class g extends h{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(var n of e)this.lines+=n.lines}lineInner(t,n,i,o){for(let e=0;;e++){var r=this.children[e],s=o+r.length,a=i+r.lines-1;if(t<=(n?a:s))return r.lineInner(t,n,i,o);o=s+1,i=1+a}}decompose(n,i,o,r){for(let e=0,t=0;t<=i&&e<this.children.length;e++){var s,a=this.children[e],l=t+a.length;n<=l&&i>=t&&(s=r&((t<=n?1:0)|(i<=l?2:0)),t>=n&&l<=i&&!s?o.push(a):a.decompose(n-t,i-t,o,s)),t=l+1}}replace(n,i,o){if([n,i]=l(this,n,i),o.lines<this.lines)for(let e=0,t=0;e<this.children.length;e++){var r,s=this.children[e],a=t+s.length;if(n>=t&&i<=a)return r=s.replace(n-t,i-t,o),s=this.lines-s.lines+r.lines,r.lines<s>>4&&r.lines>s>>6?((s=this.children.slice())[e]=r,new g(s,this.length-(i-n)+o.length)):super.replace(t,a,r);t=a+1}return super.replace(n,i,o)}sliceString(n,i=this.length,o="\n"){[n,i]=l(this,n,i);let r="";for(let e=0,t=0;e<this.children.length&&t<=i;e++){var s=this.children[e],a=t+s.length;t>n&&e&&(r+=o),n<a&&i>t&&(r+=s.sliceString(n-t,i-t,o)),t=a+1}return r}flatten(e){for(var t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof g))return 0;let n=0,[i,o,r,s]=0<t?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,o+=t){if(i==r||o==s)return n;var a=this.children[i],l=e.children[o];if(a!=l)return n+a.scanIdentical(l,t);n+=a.length+1}}static from(e,t=e.reduce((e,t)=>e+t.length+1,-1)){let n=0;for(var i of e)n+=i.lines;if(n<32){var o,r=[];for(o of e)o.flatten(r);return new p(r,t)}let s=Math.max(32,n>>5),a=s<<1,l=s>>1,u=[],d=0,c=-1,m=[];function h(){0!=d&&(u.push(1==m.length?m[0]:g.from(m,c)),c=-1,d=m.length=0)}for(var f of e)!function e(t){let n;if(t.lines>a&&t instanceof g)for(var i of t.children)e(i);else t.lines>l&&(d>l||!d)?(h(),u.push(t)):t instanceof p&&d&&(n=m[m.length-1])instanceof p&&t.lines+n.lines<=32?(d+=t.lines,c+=t.length+1,m[m.length-1]=new p(n.text.concat(t.text),n.length+1+t.length)):(d+t.lines>s&&h(),d+=t.lines,c+=t.length+1,m.push(t))}(f);return h(),1==u.length?u[0]:new g(u,t)}}function I(e){let t=-1;for(var n of e)t+=n.length+1;return t}function o(r,s,a=0,l=1e9){for(let n=0,i=0,o=!0;i<r.length&&n<=l;i++){let e=r[i],t=n+e.length;a<=t&&(l<t&&(e=e.slice(0,l-n)),n<a&&(e=e.slice(a-n)),o?(s[s.length-1]+=e,o=!1):s.push(e)),n=t+1}return s}function V(e,t,n){return o(e,[""],t,n)}h.empty=new p([""],0);class s{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[0<t?1:(e instanceof p?e.text:e.children).length<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){var n=this.nodes.length-1,i=this.nodes[n],o=this.offsets[n],r=o>>1,s=(i instanceof p?i.text:i.children).length;if(r==(0<t?s:0)){if(0==n)return this.done=!0,this.value="",this;0<t&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&o)==(0<t?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(i instanceof p){s=i.text[r+(t<0?-1:0)];if(this.offsets[n]+=t,s.length>Math.max(0,e))return this.value=0==e?s:0<t?s.slice(e):s.slice(0,s.length-e),this;e-=s.length}else{o=i.children[r+(t<0?-1:0)];e>o.length?(e-=o.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(o),this.offsets.push(0<t?1:(o instanceof p?o.text:o.children).length<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class L{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new s(e,n<t?-1:1),this.pos=n<t?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){var n,i;return(t<0?this.pos<=this.from:this.pos>=this.to)?(this.value="",this.done=!0):(e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos),n=t<0?this.pos-this.from:this.to-this.pos,i=(n-=e=n<e?n:e,this.cursor.next(e))["value"],this.pos+=(i.length+e)*t,this.value=i.length<=n?i:t<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value),this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):0<e&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class j{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){var{done:e,lineBreak:t,value:n}=this.inner.next(e);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):t?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(h.prototype[Symbol.iterator]=function(){return this.iter()},s.prototype[Symbol.iterator]=L.prototype[Symbol.iterator]=j.prototype[Symbol.iterator]=function(){return this});class H{constructor(e,t,n,i){this.from=e,this.to=t,this.number=n,this.text=i}get length(){return this.to-this.from}}function l(e,t,n){return[t=Math.max(0,Math.min(e.length,t)),Math.max(t,Math.min(e.length,n))]}let r="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=1;e<r.length;e++)r[e]+=r[e-1];function z(e){return 127462<=e&&e<=127487}const U=8205;function d(e,t,n=!0,i=!0){return(n?q:Y)(e,t,i)}function q(n,i,t){if(i!=n.length){i&&G(n.charCodeAt(i))&&K(n.charCodeAt(i-1))&&i--;let e=a(n,i);for(i+=$(e);i<n.length;){var o=a(n,i);if(e==U||o==U||t&&function(t){for(let e=1;e<r.length;e+=2)if(r[e]>t)return r[e-1]<=t}(o))i+=$(o),e=o;else{if(!z(o))break;{let e=0,t=i-2;for(;0<=t&&z(a(n,t));)e++,t-=2;if(e%2==0)break;i+=2}}}}return i}function Y(e,t,n){for(;0<t;){var i=q(e,t-2,n);if(i<t)return i;t--}return 0}function G(e){return 56320<=e&&e<57344}function K(e){return 55296<=e&&e<56320}function a(e,t){var n=e.charCodeAt(t);return K(n)&&t+1!=e.length&&G(e=e.charCodeAt(t+1))?e-56320+(n-55296<<10)+65536:n}function $(e){return e<65536?1:2}const X=/\r\n?|\n/;u.MapMode=void 0,(n=u.MapMode||(u.MapMode={}))[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter";class m{constructor(e){this.sections=e}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){var n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(i){for(let e=0,t=0,n=0;e<this.sections.length;){var o=this.sections[e++],r=this.sections[e++];r<0?(i(t,n,o),n+=o):n+=r,t+=o}}iterChangedRanges(e,t=!1){J(this,e,t)}get invertedDesc(){var t=[];for(let e=0;e<this.sections.length;){var n=this.sections[e++],i=this.sections[e++];i<0?t.push(n,i):t.push(i,n)}return new m(t)}composeDesc(e){return this.empty?e:e.empty?this:Q(this,e)}mapDesc(e,t=!1){return e.empty?this:Z(this,e,t)}mapPos(t,n=-1,i=u.MapMode.Simple){let o=0,r=0;for(let e=0;e<this.sections.length;){var s=this.sections[e++],a=this.sections[e++],l=o+s;if(a<0){if(t<l)return r+(t-o);r+=s}else{if(i!=u.MapMode.Simple&&t<=l&&(i==u.MapMode.TrackDel&&o<t&&t<l||i==u.MapMode.TrackBefore&&o<t||i==u.MapMode.TrackAfter&&t<l))return null;if(t<l||l==t&&n<0&&!s)return t==o||n<0?r:r+a;r+=a}o=l}if(t>o)throw new RangeError(`Position ${t} is out of range for changeset of length `+o);return r}touchesRange(n,i=n){for(let e=0,t=0;e<this.sections.length&&t<=i;){var o=this.sections[e++],r=this.sections[e++],o=t+o;if(0<=r&&t<=i&&n<=o)return!(t<n&&i<o)||"cover";t=o}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){var n=this.sections[e++],i=this.sections[e++];t+=(t?" ":"")+n+(0<=i?":"+i:"")}return t}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(e=>"number"!=typeof e))throw new RangeError("Invalid JSON representation of ChangeDesc");return new m(e)}static create(e){return new m(e)}}class f extends m{constructor(e,t){super(e),this.inserted=t}apply(r){if(this.length!=r.length)throw new RangeError("Applying change set to a document with the wrong length");return J(this,(e,t,n,i,o)=>r=r.replace(n,n+(t-e),o),!1),r}mapDesc(e,t=!1){return Z(this,e,t,!0)}invert(n){var i=this.sections.slice(),o=[];for(let e=0,t=0;e<i.length;e+=2){var r=i[e],s=i[e+1];if(0<=s){i[e]=s,i[e+1]=r;for(var a=e>>1;o.length<a;)o.push(h.empty);o.push(r?n.slice(t,t+r):h.empty)}t+=r}return new f(i,o)}compose(e){return this.empty?e:e.empty?this:Q(this,e,!0)}map(e,t=!1){return e.empty?this:Z(this,e,t,!0)}iterChanges(e,t=!1){J(this,e,t)}get desc(){return m.create(this.sections)}filter(n){var i=[],o=[],r=[],s=new v(this);e:for(let e=0,t=0;;){for(var a=e==n.length?1e9:n[e++];t<a||t==a&&0==s.len;){if(s.done)break e;var l=Math.min(s.len,a-t),u=(R(r,l,-1),-1==s.ins?-1:0==s.off?s.ins:0);R(i,l,u),0<u&&y(o,i,s.text),s.forward(l),t+=l}for(var d=n[e++];t<d;){if(s.done)break e;var c=Math.min(s.len,d-t);R(i,c,-1),R(r,c,-1==s.ins?-1:0==s.off?s.ins:0),s.forward(c),t+=c}}return{changes:new f(i,o),filtered:m.create(r)}}toJSON(){var t=[];for(let e=0;e<this.sections.length;e+=2){var n=this.sections[e],i=this.sections[e+1];t.push(i<0?n:0==i?[n]:[n].concat(this.inserted[e>>1].toJSON()))}return t}static of(e,s,a){let l=[],u=[],d=0,c=null;function m(e=!1){(e||l.length)&&(d<s&&R(l,s-d,-1),e=new f(l,u),c=c?c.compose(e.map(c)):e,l=[],u=[],d=0)}return function e(t){if(Array.isArray(t))for(var n of t)e(n);else if(t instanceof f){if(t.length!=s)throw new RangeError(`Mismatched change set length (got ${t.length}, expected ${s})`);m(),c=c?c.compose(t.map(c)):t}else{var{from:t,to:i=t,insert:o}=t;if(i<t||t<0||s<i)throw new RangeError(`Invalid change range ${t} to ${i} (in doc of length ${s})`);var r=(o=o?"string"==typeof o?h.of(o.split(a||X)):o:h.empty).length;t==i&&0==r||(t<d&&m(),t>d&&R(l,t-d,-1),R(l,i-t,r),y(u,l,o),d=i)}}(e),m(!c),c}static empty(e){return new f(e?[e,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");var n=[],i=[];for(let e=0;e<t.length;e++){var o=t[e];if("number"==typeof o)n.push(o,-1);else{if(!Array.isArray(o)||"number"!=typeof o[0]||o.some((e,t)=>t&&"string"!=typeof e))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==o.length)n.push(o[0],0);else{for(;i.length<e;)i.push(h.empty);i[e]=h.of(o.slice(1)),n.push(o[0],i[e].length)}}}return new f(n,i)}static createSet(e,t){return new f(e,t)}}function R(e,t,n,i=!1){var o;0==t&&n<=0||(0<=(o=e.length-2)&&n<=0&&n==e[1+o]?e[o]+=t:0==t&&0==e[o]?e[1+o]+=n:i?(e[o]+=t,e[1+o]+=n):e.push(t,n))}function y(e,t,n){if(0!=n.length){var i=t.length-2>>1;if(i<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<i;)e.push(h.empty);e.push(n)}}}function J(l,u,d){var c=l.inserted;for(let r=0,s=0,a=0;a<l.sections.length;){let i=l.sections[a++],o=l.sections[a++];if(o<0)r+=i,s+=i;else{let e=r,t=s,n=h.empty;for(;e+=i,t+=o,o&&c&&(n=n.append(c[a-2>>1])),!(d||a==l.sections.length||l.sections[a+1]<0);)i=l.sections[a++],o=l.sections[a++];u(r,e,s,t,n),r=e,s=t}}}function Z(e,t,i,n=!1){var o=[],r=n?[]:null,s=new v(e),a=new v(t);for(let n=-1;;)if(-1==s.ins&&-1==a.ins){var l=Math.min(s.len,a.len);R(o,l,-1),s.forward(l),a.forward(l)}else if(0<=a.ins&&(s.ins<0||n==s.i||0==s.off&&(a.len<s.len||a.len==s.len&&!i))){let e=a.len;for(R(o,a.ins,-1);e;){var u=Math.min(s.len,e);0<=s.ins&&n<s.i&&s.len<=u&&(R(o,0,s.ins),r&&y(r,o,s.text),n=s.i),s.forward(u),e-=u}a.next()}else{if(!(0<=s.ins)){if(s.done&&a.done)return r?f.createSet(o,r):m.create(o);throw new Error("Mismatched change set lengths")}{let e=0,t=s.len;for(;t;)if(-1==a.ins){var d=Math.min(t,a.len);e+=d,t-=d,a.forward(d)}else{if(!(0==a.ins&&a.len<t))break;t-=a.len,a.next()}R(o,e,n<s.i?s.ins:0),r&&n<s.i&&y(r,o,s.text),n=s.i,s.forward(s.len-t)}}}function Q(e,t,n=!1){var i=[],o=n?[]:null,r=new v(e),s=new v(t);for(let e=!1;;){if(r.done&&s.done)return o?f.createSet(i,o):m.create(i);if(0==r.ins)R(i,r.len,0,e),r.next();else if(0!=s.len||s.done){if(r.done||s.done)throw new Error("Mismatched change set lengths");var a,l=Math.min(r.len2,s.len),u=i.length;-1==r.ins?(R(i,l,a=-1==s.ins?-1:s.off?0:s.ins,e),o&&a&&y(o,i,s.text)):-1==s.ins?(R(i,r.off?0:r.len,l,e),o&&y(o,i,r.textBit(l))):(R(i,r.off?0:r.len,s.off?0:s.ins,e),o&&!s.off&&y(o,i,s.text)),e=(r.ins>l||0<=s.ins&&s.len>l)&&(e||u<i.length),r.forward2(l),s.forward(l)}else R(i,0,s.ins,e),o&&y(o,i,s.text),s.next()}}class v{constructor(e){this.set=e,this.i=0,this.next()}next(){var e=this.set["sections"];this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){var e=this.set["inserted"],t=this.i-2>>1;return t>=e.length?h.empty:e[t]}textBit(e){var t=this.set["inserted"],n=this.i-2>>1;return n>=t.length&&!e?h.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class c{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){var e=7&this.flags;return 7==e?null:e}get goalColumn(){var e=this.flags>>6;return 16777215==e?void 0:e}map(e,t=-1){let n,i;return this.empty?n=i=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new c(n,i,this.flags)}extend(e,t=e){return e<=this.anchor&&t>=this.anchor?b.range(e,t):(t=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t,b.range(this.anchor,t))}eq(e,t=!1){return!(this.anchor!=e.anchor||this.head!=e.head||t&&this.empty&&this.assoc!=e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(e&&"number"==typeof e.anchor&&"number"==typeof e.head)return b.range(e.anchor,e.head);throw new RangeError("Invalid JSON representation for SelectionRange")}static create(e,t,n){return new c(e,t,n)}}class b{constructor(e,t){this.ranges=e,this.mainIndex=t}map(t,n=-1){return t.empty?this:b.create(this.ranges.map(e=>e.map(t,n)),this.mainIndex)}eq(t,n=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let e=0;e<this.ranges.length;e++)if(!this.ranges[e].eq(t.ranges[e],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new b([this.main],0)}addRange(e,t=!0){return b.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){var n=this.ranges.slice();return n[t]=e,b.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new b(e.ranges.map(e=>c.fromJSON(e)),e.main)}static single(e,t=e){return new b([b.range(e,t)],0)}static create(n,i=0){if(0==n.length)throw new RangeError("A selection needs at least one range");for(let e=0,t=0;t<n.length;t++){var o=n[t];if(o.empty?o.from<=e:o.from<e)return b.normalized(n.slice(),i);e=o.to}return new b(n,i)}static cursor(e,t=0,n,i){return c.create(e,e,(0==t?0:t<0?8:16)|(null==n?7:Math.min(6,n))|(null!=i?i:16777215)<<6)}static range(e,t,n,i){n=(null!=n?n:16777215)<<6|(null==i?7:Math.min(6,i));return t<e?c.create(t,e,48|n):c.create(e,t,(e<t?8:0)|n)}static normalized(t,n=0){var e=t[n];t.sort((e,t)=>e.from-t.from),n=t.indexOf(e);for(let e=1;e<t.length;e++){var i,o=t[e],r=t[e-1];(o.empty?o.from<=r.to:o.from<r.to)&&(i=r.from,r=Math.max(o.to,r.to),e<=n&&n--,t.splice(--e,2,o.anchor>o.head?b.range(r,i):b.range(i,r)))}return new b(t,n)}}function ee(e,t){for(var n of e.ranges)if(n.to>t)throw new RangeError("Selection points outside of document")}let te=0;class S{constructor(e,t,n,i,o){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=i,this.id=te++,this.default=e([]),this.extensions="function"==typeof o?o(this):o}get reader(){return this}static define(e={}){return new S(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:ne),!!e.static,e.enables)}of(e){return new C([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new C(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new C(e,this,2,t)}from(t,n){return n=n||(e=>e),this.compute([t],e=>n(e.field(t)))}}function ne(e,n){return e==n||e.length==n.length&&e.every((e,t)=>e===n[t])}class C{constructor(e,t,n,i){this.dependencies=e,this.facet=t,this.type=n,this.value=i,this.id=te++}dynamicSlot(e){var t,n;let r=this.value,s=this.facet.compareInput,a=this.id,l=e[a]>>1,u=2==this.type,i=!1,o=!1,d=[];for(n of this.dependencies)"doc"==n?i=!0:"selection"==n?o=!0:0==(1&(null!=(t=e[n.id])?t:1))&&d.push(e[n.id]);return{create(e){return e.values[l]=r(e),1},update(e,t){if(i&&t.docChanged||o&&(t.docChanged||t.selection)||oe(e,d)){t=r(e);if(u?!ie(t,e.values[l],s):!s(t,e.values[l]))return e.values[l]=t,1}return 0},reconfigure:(t,n)=>{let e,i=n.config.address[a];if(null!=i){var o=x(n,i);if(this.dependencies.every(e=>e instanceof S?n.facet(e)===t.facet(e):!(e instanceof w)||n.field(e,!1)==t.field(e,!1))||(u?ie(e=r(t),o,s):s(e=r(t),o)))return t.values[l]=o,0}else e=r(t);return t.values[l]=e,1}}}}function ie(t,n,i){if(t.length==n.length){for(let e=0;e<t.length;e++)if(!i(t[e],n[e]))return;return 1}}function oe(e,t){let n=!1;for(var i of t)1&O(e,i)&&(n=!0);return n}function re(t,r,o){let s=o.map(e=>t[e.id]),a=o.map(e=>e.type),i=s.filter(e=>!(1&e)),l=t[r.id]>>1;function u(t){var n=[];for(let e=0;e<s.length;e++){var i=x(t,s[e]);if(2==a[e])for(var o of i)n.push(o);else n.push(i)}return r.combine(n)}return{create(e){for(var t of s)O(e,t);return e.values[l]=u(e),1},update(e,t){var n;return!oe(e,i)||(n=u(e),r.compare(n,e.values[l]))?0:(e.values[l]=n,1)},reconfigure(e,t){var n=oe(e,s),i=t.config.facets[r.id],t=t.facet(r);return i&&!n&&ne(o,i)||(n=u(e),r.compare(n,t))?(e.values[l]=t,0):(e.values[l]=n,1)}}}const se=S.define({static:!0});class w{constructor(e,t,n,i,o){this.id=e,this.createF=t,this.updateF=n,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){var t=new w(te++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){var t=e.facet(se).find(e=>e.field==this);return((null==t?void 0:t.create)||this.createF)(e)}slot(e){let i=e[this.id]>>1;return{create:e=>(e.values[i]=this.create(e),1),update:(e,t)=>{var n=e.values[i],t=this.updateF(n,t);return this.compareF(n,t)?0:(e.values[i]=t,1)},reconfigure:(e,t)=>null!=t.config.address[this.id]?(e.values[i]=t.field(this),0):(e.values[i]=this.create(e),1)}}init(e){return[this,se.of({field:this,create:e})]}get extension(){return this}}const _={lowest:4,low:3,default:2,high:1,highest:0};function e(t){return e=>new ae(e,t)}var t,n={highest:e(_.highest),high:e(_.high),default:e(_.default),low:e(_.low),lowest:e(_.lowest)};class ae{constructor(e,t){this.inner=e,this.prec=t}}class M{of(e){return new le(this,e)}reconfigure(e){return M.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class le{constructor(e,t){this.compartment=e,this.inner=t}}class ue{constructor(e,t,n,i,o,r){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=i,this.staticValues=o,this.facets=r,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){var t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,i){var n,o=[],r=Object.create(null),s=new Map;for(n of de(e,t,s))(n instanceof w?o:r[n.facet.id]||(r[n.facet.id]=[])).push(n);let a=Object.create(null);var l=[],u=[];for(let t of o)a[t.id]=u.length<<1,u.push(e=>t.slot(e));var d,c=null==i?void 0:i.config.facets;for(d in r){let n=r[d],t=n[0].facet;var m=c&&c[d]||[];if(n.every(e=>0==e.type))a[t.id]=l.length<<1|1,ne(m,n)?l.push(i.facet(t)):(m=t.combine(n.map(e=>e.value)),l.push(i&&t.compare(m,i.facet(t))?i.facet(t):m));else{for(let t of n)0==t.type?(a[t.id]=l.length<<1|1,l.push(t.value)):(a[t.id]=u.length<<1,u.push(e=>t.dynamicSlot(e)));a[t.id]=u.length<<1,u.push(e=>re(e,t,n))}}t=u.map(e=>e(a));return new ue(e,s,t,a,l,r)}}function de(e,s,a){let l=[[],[],[],[],[]],u=new Map;return function e(t,n){var i=u.get(t);if(null!=i){if(i<=n)return;var o=l[i].indexOf(t);-1<o&&l[i].splice(o,1),t instanceof le&&a.delete(t.compartment)}if(u.set(t,n),Array.isArray(t))for(var r of t)e(r,n);else if(t instanceof le){if(a.has(t.compartment))throw new RangeError("Duplicate use of compartment in extensions");i=s.get(t.compartment)||t.inner,a.set(t.compartment,i),e(i,n)}else if(t instanceof ae)e(t.inner,t.prec);else if(t instanceof w)l[n].push(t),t.provides&&e(t.provides,n);else if(t instanceof C)l[n].push(t),t.facet.extensions&&e(t.facet.extensions,_.default);else{if(!(o=t.extension))throw new Error(`Unrecognized extension value in extension set (${t}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);e(o,n)}}(e,_.default),l.reduce((e,t)=>e.concat(t))}function O(e,t){if(1&t)return 2;var t=t>>1,n=e.status[t];if(4==n)throw new Error("Cyclic dependency between fields and/or facets");if(2&n)return n;e.status[t]=4;n=e.computeSlot(e,e.config.dynamicSlots[t]);return e.status[t]=2|n}function x(e,t){return(1&t?e.config.staticValues:e.values)[t>>1]}const ce=S.define(),me=S.define({combine:e=>e.some(e=>e),static:!0}),he=S.define({combine:e=>e.length?e[0]:void 0,static:!0}),fe=S.define(),pe=S.define(),ge=S.define(),Re=S.define({combine:e=>!!e.length&&e[0]});class i{constructor(e,t){this.type=e,this.value=t}static define(){return new ye}}class ye{of(e){return new i(this,e)}}class ve{constructor(e){this.map=e}of(e){return new B(this,e)}}class B{constructor(e,t){this.type=e,this.value=t}map(e){e=this.type.map(this.value,e);return void 0===e?void 0:e==this.value?this:new B(this.type,e)}is(e){return this.type==e}static define(e={}){return new ve(e.map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;var n,i=[];for(n of e){var o=n.map(t);o&&i.push(o)}return i}}B.reconfigure=B.define(),B.appendConfig=B.define();class k{constructor(e,t,n,i,o,r){this.startState=e,this.changes=t,this.selection=n,this.effects=i,this.annotations=o,this.scrollIntoView=r,this._doc=null,this._state=null,n&&ee(n,t.newLength),o.some(e=>e.type==k.time)||(this.annotations=o.concat(k.time.of(Date.now())))}static create(e,t,n,i,o,r){return new k(e,t,n,i,o,r)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(var t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){var t=this.annotation(k.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function be(e,t,n){let i,o,r;return{changes:r=n?(i=t.changes,o=f.empty(t.changes.length),e.changes.compose(t.changes)):(i=t.changes.map(e.changes),o=e.changes.mapDesc(t.changes,!0),e.changes.compose(i)),selection:t.selection?t.selection.map(o):null==(n=e.selection)?void 0:n.map(i),effects:B.mapEffects(e.effects,i).concat(B.mapEffects(t.effects,o)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function Se(e,t,n){let i=t.selection,o=F(t.annotations);return t.userEvent&&(o=o.concat(k.userEvent.of(t.userEvent))),{changes:t.changes instanceof f?t.changes:f.of(t.changes||[],n,e.facet(he)),selection:i&&(i instanceof b?i:b.single(i.anchor,i.head)),effects:F(t.effects),annotations:o,scrollIntoView:!!t.scrollIntoView}}function Ce(t,n,o){let i=Se(t,n.length?n[0]:{},t.doc.length);n.length&&!1===n[0].filter&&(o=!1);for(let e=1;e<n.length;e++){!1===n[e].filter&&(o=!1);var r=!!n[e].sequential;i=be(i,Se(t,n[e],r?i.changes.newLength:t.doc.length),r)}var e=k.create(t,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);{var s=o?function(n){let i=n.startState,o=!0;for(var e of i.facet(fe)){e=e(n);if(!1===e){o=!1;break}Array.isArray(e)&&(o=!0===o?e:function(o,r){var s=[];for(let n=0,i=0;;){let e,t;if(n<o.length&&(i==r.length||r[i]>=o[n]))e=o[n++],t=o[n++];else{if(!(i<r.length))return s;e=r[i++],t=r[i++]}!s.length||s[s.length-1]<e?s.push(e,t):s[s.length-1]<t&&(s[s.length-1]=t)}}(o,e))}if(!0!==o){let e,t;var r;!1===o?(t=n.changes.invertedDesc,e=f.empty(i.doc.length)):(r=n.changes.filter(o),e=r.changes,t=r.filtered.mapDesc(r.changes).invertedDesc),n=k.create(i,e,n.selection&&n.selection.map(t),B.mapEffects(n.effects,t),n.annotations,n.scrollIntoView)}var t=i.facet(pe);for(let e=t.length-1;0<=e;e--){var s=t[e](n);n=s instanceof k?s:Array.isArray(s)&&1==s.length&&s[0]instanceof k?s[0]:Ce(i,F(s),!1)}return n}(e):e;let t=s.startState,n=t.facet(ge),i=s;for(let e=n.length-1;0<=e;e--){var a=n[e](s);a&&Object.keys(a).length&&(i=be(i,Se(t,a,s.changes.newLength),!0))}return i==s?s:k.create(t,s.changes,s.selection,i.effects,i.annotations,i.scrollIntoView)}}k.time=i.define(),k.userEvent=i.define(),k.addToHistory=i.define(),k.remote=i.define();const we=[];function F(e){return null==e?we:Array.isArray(e)?e:[e]}u.CharCategory=void 0,(t=u.CharCategory||(u.CharCategory={}))[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other";const _e=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Me;try{Me=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(e){}function Oe(n){return t=>{if(!/\S/.test(t))return u.CharCategory.Space;if(function(t){if(Me)return Me.test(t);for(let e=0;e<t.length;e++){var n=t[e];if(/\w/.test(n)||""<n&&(n.toUpperCase()!=n.toLowerCase()||_e.test(n)))return 1}}(t))return u.CharCategory.Word;for(let e=0;e<n.length;e++)if(-1<t.indexOf(n[e]))return u.CharCategory.Word;return u.CharCategory.Other}}class W{constructor(e,t,n,i,o,r){this.config=e,this.doc=t,this.selection=n,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,r&&(r._state=this);for(let e=0;e<this.config.dynamicSlots.length;e++)O(this,e<<1);this.computeSlot=null}field(e,t=!0){e=this.config.address[e.id];if(null!=e)return O(this,e),x(this,e);if(t)throw new RangeError("Field is not present in this state")}update(...e){return Ce(this,e,!0)}applyTransaction(n){let e=this.config,{base:t,compartments:i}=e;for(var o of n.effects)o.is(M.reconfigure)?(e&&(i=new Map,e.compartments.forEach((e,t)=>i.set(t,e)),e=null),i.set(o.value.compartment,o.value.extension)):o.is(B.reconfigure)?(e=null,t=o.value):o.is(B.appendConfig)&&(e=null,t=F(t).concat(o.value));let r;r=e?n.startState.values.slice():(e=ue.resolve(t,i,this),new W(e,this.doc,this.selection,e.dynamicSlots.map(()=>null),(e,t)=>t.reconfigure(e,this),null).values);var s=n.startState.facet(me)?n.newSelection:n.newSelection.asSingle();new W(e,n.newDoc,s,r,(e,t)=>t.update(e,n),n)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:t},range:b.cursor(e.from+t.length)}))}changeByRange(e){var n=this.selection,t=e(n.ranges[0]);let i=this.changes(t.changes),o=[t.range],r=F(t.effects);for(let t=1;t<n.ranges.length;t++){var s=e(n.ranges[t]),a=this.changes(s.changes),l=a.map(i);for(let e=0;e<t;e++)o[e]=o[e].map(l);a=i.mapDesc(a,!0);o.push(s.range.map(a)),i=i.compose(l),r=B.mapEffects(r,l).concat(B.mapEffects(F(s.effects),a))}return{changes:i,selection:b.create(o,n.mainIndex),effects:r}}changes(e=[]){return e instanceof f?e:f.of(e,this.doc.length,this.facet(W.lineSeparator))}toText(e){return h.of(e.split(this.facet(W.lineSeparator)||X))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){var t=this.config.address[e.id];return null==t?e.default:(O(this,t),x(this,t))}toJSON(e){var t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(var n in e){var i=e[n];i instanceof w&&null!=this.config.address[i.id]&&(t[n]=i.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},i){if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");var o=[];if(i)for(var r in i)if(Object.prototype.hasOwnProperty.call(e,r)){let t=i[r],n=e[r];o.push(t.init(e=>t.spec.fromJSON(n,e)))}return W.create({doc:e.doc,selection:b.fromJSON(e.selection),extensions:t.extensions?o.concat([t.extensions]):o})}static create(e={}){var t=ue.resolve(e.extensions||[],new Map),n=e.doc instanceof h?e.doc:h.of((e.doc||"").split(t.staticFacet(W.lineSeparator)||X));let i=e.selection?e.selection instanceof b?e.selection:b.single(e.selection.anchor,e.selection.head):b.single(0);return ee(i,n.length),t.staticFacet(me)||(i=i.asSingle()),new W(t,n,i,t.dynamicSlots.map(()=>null),(e,t)=>t.create(e),null)}get tabSize(){return this.facet(W.tabSize)}get lineBreak(){return this.facet(W.lineSeparator)||"\n"}get readOnly(){return this.facet(Re)}phrase(e,...n){for(var t of this.facet(W.phrases))if(Object.prototype.hasOwnProperty.call(t,e)){e=t[e];break}return e=n.length?e.replace(/\$(\$|\d*)/g,(e,t)=>{return"$"==t?"$":!(t=+(t||1))||t>n.length?e:n[t-1]}):e}languageDataAt(e,t,n=-1){var i,o=[];for(i of this.facet(ce))for(var r of i(this,t,n))Object.prototype.hasOwnProperty.call(r,e)&&o.push(r[e]);return o}charCategorizer(e){return Oe(this.languageDataAt("wordChars",e).join(""))}wordAt(e){var{text:t,from:n,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e);let r=e-n,s=e-n;for(;0<r;){var a=d(t,r,!1);if(o(t.slice(a,r))!=u.CharCategory.Word)break;r=a}for(;s<i;){var l=d(t,s);if(o(t.slice(s,l))!=u.CharCategory.Word)break;s=l}return r==s?null:b.range(r+n,s+n)}}W.allowMultipleSelections=me,W.tabSize=S.define({combine:e=>e.length?e[0]:4}),W.lineSeparator=he,W.readOnly=Re,W.phrases=S.define({compare(t,n){var e=Object.keys(t),i=Object.keys(n);return e.length==i.length&&e.every(e=>t[e]==n[e])}}),W.languageData=ce,W.changeFilter=fe,W.transactionFilter=pe,W.transactionExtender=ge,M.reconfigure=B.define();class T{eq(e){return this==e}range(e,t=e){return A.create(e,t,this)}}T.prototype.startSide=T.prototype.endSide=0,T.prototype.point=!1,T.prototype.mapMode=u.MapMode.TrackDel;class A{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new A(e,t,n)}}function xe(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class Be{constructor(e,t,n,i){this.from=e,this.to=t,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(n,i,o,r=0){var s=o?this.to:this.from;for(let e=r,t=s.length;;){if(e==t)return e;var a=e+t>>1,l=s[a]-n||(o?this.value[a].endSide:this.value[a].startSide)-i;if(a==e)return 0<=l?e:t;0<=l?t=a:e=1+a}}between(n,i,o,r){for(let e=this.findIndex(i,-1e9,!0),t=this.findIndex(o,1e9,!1,e);e<t;e++)if(!1===r(this.from[e]+n,this.to[e]+n,this.value[e]))return!1}map(s,a){let l=[],u=[],d=[],c=-1,m=-1;for(let r=0;r<this.value.length;r++){let e=this.value[r],t=this.from[r]+s,n=this.to[r]+s,i,o;if(t==n){var h=a.mapPos(t,e.startSide,e.mapMode);if(null==h)continue;if(i=o=h,e.startSide!=e.endSide&&(o=a.mapPos(t,e.endSide))<i)continue}else if(i=a.mapPos(t,e.startSide),o=a.mapPos(n,e.endSide),i>o||i==o&&0<e.startSide&&e.endSide<=0)continue;(o-i||e.endSide-e.startSide)<0||(c<0&&(c=i),e.point&&(m=Math.max(m,o-i)),l.push(e),u.push(i-c),d.push(o-c))}return{mapped:l.length?new Be(u,d,l,m):null,pos:c}}}class D{constructor(e,t,n,i){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=i}static create(e,t,n,i){return new D(e,t,n,i)}get length(){var e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(var t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:i=0,filterTo:o=this.length}=e;var r=e.filter;if(0==t.length&&!r)return this;if(n&&(t=t.slice().sort(xe)),this.isEmpty)return t.length?D.of(t):this;let s=new Te(this,null,-1).goto(0),a=0,l=[];for(var u,d=new Fe;s.value||a<t.length;)a<t.length&&0<=(s.from-t[a].from||s.startSide-t[a].value.startSide)?(u=t[a++],d.addInner(u.from,u.to,u.value)||l.push(u)):1==s.rangeIndex&&s.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(s.chunkIndex)<t[a].from)&&(!r||i>this.chunkEnd(s.chunkIndex)||o<this.chunkPos[s.chunkIndex])&&d.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!r||i>s.to||o<s.from||r(s.from,s.to,s.value))&&!d.addInner(s.from,s.to,s.value)&&l.push(A.create(s.from,s.to,s.value)),s.next());return d.finishInner(this.nextLayer.isEmpty&&!l.length?D.empty:this.nextLayer.update({add:l,filter:r,filterFrom:i,filterTo:o}))}map(t){if(t.empty||this.isEmpty)return this;let n=[],i=[],o=-1;for(let e=0;e<this.chunk.length;e++){var r=this.chunkPos[e],s=this.chunk[e],a=t.touchesRange(r,r+s.length);!1===a?(o=Math.max(o,s.maxPoint),n.push(s),i.push(t.mapPos(r))):!0===a&&({mapped:a,pos:s}=s.map(r,t),a)&&(o=Math.max(o,a.maxPoint),n.push(a),i.push(s))}var e=this.nextLayer.map(t);return 0==n.length?e:new D(i,n,e||D.empty,o)}between(t,n,i){if(!this.isEmpty){for(let e=0;e<this.chunk.length;e++){var o=this.chunkPos[e],r=this.chunk[e];if(o<=n&&t<=o+r.length&&!1===r.between(o,t-o,n-o,i))return}this.nextLayer.between(t,n,i)}}iter(e=0){return Ae.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Ae.from(e).goto(t)}static compare(e,t,n,i,o=-1){var e=e.filter(e=>0<e.maxPoint||!e.isEmpty&&e.maxPoint>=o),t=t.filter(e=>0<e.maxPoint||!e.isEmpty&&e.maxPoint>=o),r=We(e,t,n);let s=new N(e,r,o),a=new N(t,r,o);n.iterGaps((e,t,n)=>Ne(s,e,a,t,n,i)),n.empty&&0==n.length&&Ne(s,0,a,0,0,i)}static eq(t,n,e=0,i){null==i&&(i=1e9-1);var o=t.filter(e=>!e.isEmpty&&n.indexOf(e)<0),r=n.filter(e=>!e.isEmpty&&t.indexOf(e)<0);if(o.length!=r.length)return!1;if(!o.length)return!0;for(var s=We(o,r),a=new N(o,s,0).goto(e),l=new N(r,s,0).goto(e);;){if(a.to!=l.to||!Ee(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>i)return!0;a.next(),l.next()}}static spans(e,t,n,i,o=-1){let r=new N(e,null,o).goto(t),s=t,a=r.openStart;for(;;){var l,u,d=Math.min(r.to,n);if(r.point?(l=r.activeForPoint(r.to),u=r.pointFrom<t?l.length+1:Math.min(l.length,a),i.point(s,d,r.point,l,u,r.pointRank),a=Math.min(r.openEnd(d),l.length)):d>s&&(i.span(s,d,r.active,a),a=r.openEnd(d)),r.to>n)return a+(r.point&&r.to>n?1:0);s=r.to,r.next()}}static of(e,t=!1){var n,i=new Fe;for(n of e instanceof A?[e]:t?ke(e):e)i.add(n.from,n.to,n.value);return i.finish()}static join(n){if(!n.length)return D.empty;let i=n[n.length-1];for(let t=n.length-2;0<=t;t--)for(let e=n[t];e!=D.empty;e=e.nextLayer)i=new D(e.chunkPos,e.chunk,i,Math.max(e.maxPoint,i.maxPoint));return i}}function ke(n){if(1<n.length)for(let e=n[0],t=1;t<n.length;t++){var i=n[t];if(0<xe(e,i))return n.slice().sort(xe);e=i}return n}D.empty=new D([],[],null,-1),D.empty.nextLayer=D.empty;class Fe{finishChunk(e){this.chunks.push(new Be(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new Fe)).add(e,t,n)}addInner(e,t,n){var i=e-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),0))}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);var n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(D.empty)}finishInner(e){return this.from.length&&this.finishChunk(!1),0==this.chunks.length||(e=D.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint),this.from=null),e}}function We(e,t,n){var i,o=new Map;for(i of e)for(let e=0;e<i.chunk.length;e++)i.chunk[e].maxPoint<=0&&o.set(i.chunk[e],i.chunkPos[e]);var r,s=new Set;for(r of t)for(let e=0;e<r.chunk.length;e++){var a=o.get(r.chunk[e]);null==a||(n?n.mapPos(a):a)!=r.chunkPos[e]||null!=n&&n.touchesRange(a,a+r.chunk[e].length)||s.add(r.chunk[e])}return s}class Te{constructor(e,t,n,i=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){var i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}this.chunkIndex<this.layer.chunk.length&&(t=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0),!n||this.rangeIndex<t)&&this.setRangeIndex(t),this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}var e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Ae{constructor(e){this.heap=e}static from(n,i=null,o=-1){var r=[];for(let t=0;t<n.length;t++)for(let e=n[t];!e.isEmpty;e=e.nextLayer)e.maxPoint>=o&&r.push(new Te(e,i,o,t));return 1==r.length?r[0]:new Ae(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(var n of this.heap)n.goto(e,t);for(let e=this.heap.length>>1;0<=e;e--)De(this.heap,e);return this.next(),this}forward(e,t){for(var n of this.heap)n.forward(e,t);for(let e=this.heap.length>>1;0<=e;e--)De(this.heap,e);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){var e;0==this.heap.length?(this.from=this.to=1e9,this.value=null,this.rank=-1):(e=this.heap[0],this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),De(this.heap,0))}}function De(n,i){for(var o=n[i];;){let e=1+(i<<1);if(e>=n.length)break;let t=n[e];if(e+1<n.length&&0<=t.compare(n[e+1])&&(t=n[e+1],e++),o.compare(t)<0)break;n[e]=o,n[i]=t,i=e}}class N{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Ae.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;-1<this.minActive&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Pe(this.active,e),Pe(this.activeTo,e),Pe(this.activeRank,e),this.minActive=Ve(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:i,rank:o}=this.cursor;for(;t<this.activeRank.length&&0<(o-this.activeRank[t]||i-this.activeTo[t]);)t++;Ie(this.active,t,n),Ie(this.activeTo,t,i),Ie(this.activeRank,t,o),e&&Ie(e,t,this.cursor.from),this.minActive=Ve(this.active,this.activeTo)}next(){for(var t=this.to,e=this.point,n=(this.point=null,this.openStart<0?[]:null);;){var i=this.minActive;if(-1<i&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>t){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&Pe(n,i)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}i=this.cursor.value;if(i.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=i,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=i.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else this.addActive(n);this.cursor.next()}}if(n){this.openStart=0;for(let e=n.length-1;0<=e&&n[e]<t;e--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;var n=[];for(let e=this.active.length-1;0<=e&&!(this.activeRank[e]<this.pointRank);e--)(this.activeTo[e]>t||this.activeTo[e]==t&&this.active[e].endSide>=this.point.endSide)&&n.push(this.active[e]);return n.reverse()}openEnd(t){let n=0;for(let e=this.activeTo.length-1;0<=e&&this.activeTo[e]>t;e--)n++;return n}}function Ne(e,t,n,i,o,r){e.goto(t),n.goto(i);var s=i+o;let a=i,l=i-t;for(;;){var u=e.to+l-n.to||e.endSide-n.endSide,d=u<0?e.to+l:n.to,c=Math.min(d,s);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&Ee(e.activeForPoint(e.to),n.activeForPoint(n.to))||r.comparePoint(a,c,e.point,n.point):c>a&&!Ee(e.active,n.active)&&r.compareRange(a,c,e.active,n.active),s<d)break;a=d,u<=0&&e.next(),0<=u&&n.next()}}function Ee(t,n){if(t.length==n.length){for(let e=0;e<t.length;e++)if(t[e]!=n[e]&&!t[e].eq(n[e]))return;return 1}}function Pe(n,i){for(let e=i,t=n.length-1;e<t;e++)n[e]=n[e+1];n.pop()}function Ie(t,n,e){for(let e=t.length-1;e>=n;e--)t[e+1]=t[e];t[n]=e}function Ve(t,n){let i=-1,o=1e9;for(let e=0;e<n.length;e++)(n[e]-o||t[e].endSide-t[i].endSide)<0&&(i=e,o=n[e]);return i}return u.Annotation=i,u.AnnotationType=ye,u.ChangeDesc=m,u.ChangeSet=f,u.Compartment=M,u.EditorSelection=b,u.EditorState=W,u.Facet=S,u.Line=H,u.Prec=n,u.Range=A,u.RangeSet=D,u.RangeSetBuilder=Fe,u.RangeValue=T,u.SelectionRange=c,u.StateEffect=B,u.StateEffectType=ve,u.StateField=w,u.Text=h,u.Transaction=k,u.codePointAt=a,u.codePointSize=$,u.combineConfig=function(e,t,n={}){var i,o,r={};for(i of e)for(var s of Object.keys(i)){var a=i[s],l=r[s];if(void 0===l)r[s]=a;else if(l!==a&&void 0!==a){if(!Object.hasOwnProperty.call(n,s))throw new Error("Config merge conflict for field "+s);r[s]=n[s](l,a)}}for(o in t)void 0===r[o]&&(r[o]=t[o]);return r},u.countColumn=function(t,n,i=t.length){let o=0;for(let e=0;e<i;)9==t.charCodeAt(e)?(o+=n-o%n,e++):(o++,e=d(t,e));return o},u.findClusterBreak=d,u.findColumn=function(n,i,o,e){for(let e=0,t=0;;){if(t>=i)return e;if(e==n.length)break;t+=9==n.charCodeAt(e)?o-t%o:1,e=d(n,e)}return!0===e?-1:n.length},u.fromCodePoint=function(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))},{module_name:"@codemirror/state",exports:u=null!=P?P:u}}),Runtime.rtl.defModule(function(e){var T=null,C={},R=e("@codemirror/state"),i=e("style-mod"),A=e("w3c-keyname");function D(e){let t;return(t=11!=e.nodeType||e.getSelection?e:e.ownerDocument).getSelection()}function V(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function L(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function j(e,t){if(!t.anchorNode)return!1;try{return V(e,t.anchorNode)}catch(e){return!1}}function H(e){return 3==e.nodeType?g(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function z(e,t,n,i){return!!n&&(q(e,t,n,i,-1)||q(e,t,n,i,1))}function U(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function q(e,t,n,i,o){for(;;){if(e==n&&t==i)return!0;if(t==(o<0?0:s(e))){if("DIV"==e.nodeName)return!1;var r=e.parentNode;if(!r||1!=r.nodeType)return!1;t=U(e)+(o<0?0:1),e=r}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(o<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=o<0?s(e):0}}}function s(e){return(3==e.nodeType?e.nodeValue:e.childNodes).length}function Y(e,t){t=t?e.left:e.right;return{left:t,right:t,top:e.top,bottom:e.bottom}}function G(e,t){let n=t.width/e.offsetWidth,i=t.height/e.offsetHeight;return(.995<n&&n<1.005||!isFinite(n)||Math.abs(t.width-e.offsetWidth)<1)&&(n=1),(.995<i&&i<1.005||!isFinite(i)||Math.abs(t.height-e.offsetHeight)<1)&&(i=1),{scaleX:n,scaleY:i}}function K(e,l,u,d,c,m,h,f){var p,g,R=e.ownerDocument,y=R.defaultView||window;for(let s=e,a=!1;s&&!a;)if(1==s.nodeType){let e,t=s==R.body,n=1,i=1;if(t)e={left:0,right:y.innerWidth,top:0,bottom:y.innerHeight};else{if(/^(fixed|sticky)$/.test(getComputedStyle(s).position)&&(a=!0),s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth){s=s.assignedSlot||s.parentNode;continue}var v=s.getBoundingClientRect();({scaleX:n,scaleY:i}=G(s,v)),e={left:v.left,right:v.left+s.clientWidth*n,top:v.top,bottom:v.top+s.clientHeight*i}}let o=0,r=0;if("nearest"==c?l.top<e.top?(r=-(e.top-l.top+h),0<u&&l.bottom>e.bottom+r&&(r=l.bottom-e.bottom+r+h)):l.bottom>e.bottom&&(r=l.bottom-e.bottom+h,u<0)&&l.top-r<e.top&&(r=-(e.top+r-l.top+h)):(v=l.bottom-l.top,p=e.bottom-e.top,p="center"==c&&v<=p?l.top+v/2-p/2:"start"==c||"center"==c&&u<0?l.top-h:l.bottom-p+h,r=p-e.top),"nearest"==d?l.left<e.left?(o=-(e.left-l.left+m),0<u&&l.right>e.right+o&&(o=l.right-e.right+o+m)):l.right>e.right&&(o=l.right-e.right+m,u<0)&&l.left<e.left+o&&(o=-(e.left+o-l.left+m)):(p="center"==d?l.left+(l.right-l.left)/2-(e.right-e.left)/2:"start"==d==f?l.left-m:l.right-(e.right-e.left)+m,o=p-e.left),o||r)if(t)y.scrollBy(o,r);else{let e=0,t=0;r&&(g=s.scrollTop,s.scrollTop+=r/i,t=(s.scrollTop-g)*i),o&&(g=s.scrollLeft,s.scrollLeft+=o/n,e=(s.scrollLeft-g)*n),l={left:l.left-e,top:l.top-t,right:l.right-e,bottom:l.bottom-t},e&&Math.abs(e-o)<1&&(d="nearest"),t&&Math.abs(t-r)<1&&(c="nearest")}if(t)break;s=s.assignedSlot||s.parentNode}else{if(11!=s.nodeType)break;s=s.host}}function $(t){var n=t.ownerDocument;for(let e=t.parentNode;e&&e!=n.body;)if(1==e.nodeType){if(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)return e;e=e.assignedSlot||e.parentNode}else{if(11!=e.nodeType)break;e=e.host}return null}class X{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){var{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?s(t):0),n,Math.min(e.focusOffset,n?s(n):0))}set(e,t,n,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=i}}let J=null;function Z(t){if(t.setActive)return t.setActive();if(J)return t.focus(J);var n=[];for(let e=t;e&&(n.push(e,e.scrollTop,e.scrollLeft),e!=e.ownerDocument);e=e.parentNode);if(t.focus(null==J?{get preventScroll(){return J={preventScroll:!0},!0}}:void 0),!J){J=!1;for(let e=0;e<n.length;){var i=n[e++],o=n[e++],r=n[e++];i.scrollTop!=o&&(i.scrollTop=o),i.scrollLeft!=r&&(i.scrollLeft=r)}}}let Q;function g(e,t,n=t){var i=Q=Q||document.createRange();return i.setEnd(e,n),i.setStart(e,t),i}function ee(e,t,n){t={key:t,code:t,keyCode:n,which:n,cancelable:!0},n=new KeyboardEvent("keydown",t),n.synthetic=!0,e.dispatchEvent(n),t=new KeyboardEvent("keyup",t);return t.synthetic=!0,e.dispatchEvent(t),n.defaultPrevented||t.defaultPrevented}function te(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}function ne(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}function ie(e,t){let n=t.focusNode,i=t.focusOffset;if(n&&t.anchorNode==n&&t.anchorOffset==i)for(i=Math.min(i,s(n));;)if(i){if(1!=n.nodeType)return;var o=n.childNodes[i-1];"false"==o.contentEditable?i--:(n=o,i=s(n))}else{if(n==e)return 1;i=U(n),n=n.parentNode}}function oe(e){return e.scrollTop>Math.max(1,e.scrollHeight-e.clientHeight-4)}class u{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new u(e.parentNode,U(e),t)}static after(e,t){return new u(e.parentNode,U(e)+1,t)}}const re=[];class d{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(var n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(n,i){if(2&this.flags){var o,r,s=this.dom;let e=null,t;for(o of this.children){if(7&o.flags&&(o.dom||!(t=e?e.nextSibling:s.firstChild)||(r=d.get(t))&&(r.parent||!r.canReuseDOM(o))||o.reuseDOM(t),o.sync(n,i),o.flags&=-8),t=e?e.nextSibling:s.firstChild,i&&!i.written&&i.node==s&&t!=o.dom&&(i.written=!0),o.dom.parentNode==s)for(;t&&t!=o.dom;)t=se(t);else s.insertBefore(o.dom,t);e=o.dom}for((t=e?e.nextSibling:s.firstChild)&&i&&i.node==s&&(i.written=!0);t;)t=se(t)}else if(1&this.flags)for(var e of this.children)7&e.flags&&(e.sync(n,i),e.flags&=-8)}reuseDOM(e){}localPosFromDOM(t,n){let i;if(t==this.dom)i=this.dom.childNodes[n];else{let e=0==s(t)?0:0==n?-1:1;for(;;){var o=t.parentNode;if(o==this.dom)break;0==e&&o.firstChild!=o.lastChild&&(e=t==o.firstChild?-1:1),t=o}i=e<0?t:t.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!d.get(i);)i=i.nextSibling;if(!i)return this.length;for(let e=0,t=0;;e++){var r=this.children[e];if(r.dom==i)return t;t+=r.length+r.breakAfter}}domBoundsAround(i,o,r=0){let s=-1,a=-1,l=-1,u=-1;for(let e=0,t=r,n=r;e<this.children.length;e++){var d=this.children[e],c=t+d.length;if(t<i&&o<c)return d.domBoundsAround(i,o,t);if(i<=c&&-1==s&&(s=e,a=t),t>o&&d.dom.parentNode==this.dom){l=e,u=n;break}n=c,t=c+d.breakAfter}return{from:a,to:u<0?r+this.length:u,startDOM:(s?this.children[s-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:l<this.children.length&&0<=l?this.children[l].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),1&e.flags)return;e.flags|=1,t=!1}}setParent(e){this.parent!=e&&(this.parent=e,7&this.flags)&&this.markParentsDirty(!0)}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),(this.dom=e).cmView=this)}get rootView(){for(let e=this;;){var t=e.parent;if(!t)return e;e=t}}replaceChildren(t,n,i=re){this.markDirty();for(let e=t;e<n;e++){var o=this.children[e];o.parent==this&&i.indexOf(o)<0&&o.destroy()}this.children.splice(t,n-t,...i);for(let e=0;e<i.length;e++)i[e].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new ae(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){var e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,n,i,o,r){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!(8&(this.flags|e.flags))}getSide(){return 0}destroy(){for(var e of this.children)e.parent==this&&e.destroy();this.parent=null}}function se(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}d.prototype.breakAfter=0;class ae{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(0<t||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;var n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function le(e,t,n,i,o,r,s,a,l){var u=e["children"],d=u.length?u[t]:null,c=r.length?r[r.length-1]:null,m=c?c.breakAfter:s;if(!(t==i&&d&&!s&&!m&&r.length<2&&d.merge(n,o,r.length?c:null,0==n,a,l))){if(i<u.length){let e=u[i];e&&(o<e.length||e.breakAfter&&null!=c&&c.breakAfter)?(t==i&&(e=e.split(o),o=0),!m&&c&&e.merge(0,o,c,!0,0,l)?r[r.length-1]=e:((o||e.children.length&&!e.children[0].length)&&e.merge(0,o,null,!1,0,l),r.push(e))):null!==e&&void 0!==e&&e.breakAfter&&(c?c.breakAfter=1:s=1),i++}for(d&&(d.breakAfter=s,0<n)&&(!s&&r.length&&d.merge(n,d.length,r[0],!1,a,0)?d.breakAfter=r.shift().breakAfter:(n<d.length||d.children.length&&0==d.children[d.children.length-1].length)&&d.merge(n,d.length,null,!1,a,0),t++);t<i&&r.length;)if(u[i-1].become(r[r.length-1]))i--,r.pop(),l=r.length?0:a;else{if(!u[t].become(r[0]))break;t++,r.shift(),a=r.length?0:l}!r.length&&t&&i<u.length&&!u[t-1].breakAfter&&u[i].merge(0,0,u[t-1],!1,a,l)&&t--,(t<i||r.length)&&e.replaceChildren(t,i,r)}}function ue(e,t,n,i,o,r){var s,a=e.childCursor(),{i:l,off:u}=a.findPos(n,1),{i:a,off:d}=a.findPos(t,-1);let c=t-n;for(s of i)c+=s.length;e.length+=c,le(e,a,d,l,u,i,0,o,r)}var de,h,e="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},ce="undefined"!=typeof document?document:{documentElement:{style:{}}},me=/Edge\/(\d+)/.exec(e.userAgent),he=/MSIE \d/.test(e.userAgent),t=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e.userAgent),n=!!(he||t||me),fe=!n&&/gecko\/(\d+)/i.test(e.userAgent),pe=!n&&/Chrome\/(\d+)/.exec(e.userAgent),ge="webkitFontSmoothing"in ce.documentElement.style,Re=!n&&/Apple Computer/.test(e.vendor),ye=Re&&(/Mobile\/\w+/.test(e.userAgent)||2<e.maxTouchPoints),y={mac:ye||/Mac/.test(e.platform),windows:/Win/.test(e.platform),linux:/Linux|X11/.test(e.platform),ie:n,ie_version:he?ce.documentMode||6:t?+t[1]:me?+me[1]:0,gecko:fe,gecko_version:fe?+(/Firefox\/(\d+)/.exec(e.userAgent)||[0,0])[1]:0,chrome:!!pe,chrome_version:pe?+pe[1]:0,ios:ye,android:/Android\b/.test(e.userAgent),webkit:ge,safari:Re,webkit_version:ge?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=ce.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class a extends d{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,n){return!(8&this.flags||n&&(!(n instanceof a)||256<this.length-(t-e)+n.length||8&n.flags)||(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),0))}split(e){var t=new a(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=8&this.flags,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new u(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return ve(this.dom,e,t)}}class c extends d{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(var i of t)i.setParent(this)}setAttrs(e){if(ne(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(var t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!(8&(this.flags|e.flags))}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,i,o,r){return!(n&&(!(n instanceof c&&n.mark.eq(this.mark))||e&&o<=0||t<this.length&&r<=0)||(ue(this,e,t,n?n.children.slice():[],o-1,r-1),this.markDirty(),0))}split(e){let t=[],n=0,i=-1,o=0;for(var r of this.children){var s=n+r.length;e<s&&t.push(n<e?r.split(e-n):r),i<0&&n>=e&&(i=o),n=s,o++}var a=this.length-e;return this.length=e,-1<i&&(this.children.length=i,this.markDirty()),new c(this.mark,t,a)}domAtPos(e){return Se(this,e)}coordsAt(e,t){return we(this,e,t)}}function ve(e,t,n){var i=e.nodeValue.length;let o=t=i<t?i:t,r=t,s=0;0==t&&n<0||t==i&&0<=n?y.chrome||y.gecko||(t?(o--,s=1):r<i&&(r++,s=-1)):n<0?o--:r<i&&r++;t=g(e,o,r).getClientRects();if(!t.length)return null;let a=t[(s?s<0:0<=n)?0:t.length-1];return y.safari&&!s&&0==a.width&&(a=Array.prototype.find.call(t,e=>e.width)||a),s?Y(a,s<0):a||null}class m extends d{static create(e,t,n){return new m(e,t,n)}constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}split(e){var t=m.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable)||(this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,n,i,o,r){return!(n&&(!(n instanceof m&&this.widget.compare(n.widget))||0<e&&o<=0||t<this.length&&r<=0)||(this.length=e+(n?n.length:0)+(this.length-t),0))}become(e){return e instanceof m&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return R.Text.empty;let e=this;for(;e.parent;)e=e.parent;var t=e["view"],t=t&&t.state.doc,n=this.posAtStart;return t?t.slice(n,n+this.length):R.Text.empty}domAtPos(e){return(this.length?0==e:0<this.side)?u.before(this.dom):u.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(t,e){e=this.widget.coordsAt(this.dom,t,e);if(e)return e;let n=this.dom.getClientRects(),i=null;if(!n.length)return null;var o=this.side?this.side<0:0<t;for(let e=o?n.length-1:0;i=n[e],!(0<t?0==e:e==n.length-1||i.top<i.bottom);e+=o?-1:1);return Y(i,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class be extends d{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof be&&e.side==this.side}split(){return new be(this.side)}sync(){var e;this.dom||((e=document.createElement("img")).className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e))}getSide(){return this.side}domAtPos(e){return 0<this.side?u.before(this.dom):u.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return R.Text.empty}get isHidden(){return!0}}function Se(e,t){let n=e.dom,i=e["children"],o=0;for(let e=0;o<i.length;o++){var r=i[o],s=e+r.length;if(!(s==e&&r.getSide()<=0)){if(t>e&&t<s&&r.dom.parentNode==n)return r.domAtPos(t-e);if(t<=e)break;e=s}}for(let e=o;0<e;e--){var a=i[e-1];if(a.dom.parentNode==n)return a.domAtPos(a.length)}for(let e=o;e<i.length;e++){var l=i[e];if(l.dom.parentNode==n)return l.domAtPos(0)}return new u(n,0)}function Ce(e,t,n){let i,o=e["children"];0<n&&t instanceof c&&o.length&&(i=o[o.length-1])instanceof c&&i.mark.eq(t.mark)?Ce(i,t.children[0],n-1):(o.push(t),t.setParent(e)),e.length+=t.length}function we(e,t,a){let l=null,u=-1,d=null,c=-1;!function n(i,o){for(let e=0,t=0;e<i.children.length&&t<=o;e++){var r=i.children[e],s=t+r.length;o<=s&&(r.children.length?n(r,o-t):(!d||d.isHidden&&0<a)&&(o<s||t==s&&0<r.getSide())?(d=r,c=o-t):(t<o||t==s&&r.getSide()<0&&!r.isHidden)&&(l=r,u=o-t)),t=s}}(e,t);var t=(a<0?l:d)||l||d;return t?t.coordsAt(Math.max(0,t==l?u:c),a):(e=(t=e).dom.lastChild)?(t=H(e))[t.length-1]||null:t.dom.getBoundingClientRect()}function _e(e,t){for(var n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}a.prototype.children=m.prototype.children=be.prototype.children=re;const Me=Object.create(null);function Oe(e,t,n){if(e!=t){e=e||Me,t=t||Me;var i,o=Object.keys(e),r=Object.keys(t);if(o.length-(n&&-1<o.indexOf(n)?1:0)!=r.length-(n&&-1<r.indexOf(n)?1:0))return!1;for(i of o)if(i!=n&&(-1==r.indexOf(i)||e[i]!==t[i]))return!1}return!0}function xe(e,t,n){let i=!1;if(t)for(var o in t)n&&o in n||(i=!0,"style"==o?e.style.cssText="":e.removeAttribute(o));if(n)for(var r in n)t&&t[r]==n[r]||(i=!0,"style"==r?e.style.cssText=n[r]:e.setAttribute(r,n[r]));return i}class v extends d{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,i,o,r){if(n){if(!(n instanceof v))return!1;this.dom||n.transferDOM(this)}return i&&this.setDeco(n?n.attrs:null),ue(this,e,t,n?n.children.slice():[],o,r),!0}split(n){var i=new v;if(i.breakAfter=this.breakAfter,0!=this.length){let{i:t,off:e}=this.childPos(n);e&&(i.append(this.children[t].split(e),0),this.children[t].merge(e,this.children[t].length,null,!1,0,0),t++);for(let e=t;e<this.children.length;e++)i.append(this.children[e],0);for(;0<t&&0==this.children[t-1].length;)this.children[--t].destroy();this.children.length=t,this.markDirty(),this.length=n}return i}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Oe(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Ce(this,e,t)}addLineDeco(e){var t=e.spec.attributes,e=e.spec.class;t&&(this.attrs=_e(t,this.attrs||{})),e&&(this.attrs=_e({class:e},this.attrs||{}))}domAtPos(e){return Se(this,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?4&this.flags&&(ne(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(xe(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let n=this.dom.lastChild;for(;n&&d.get(n)instanceof c;)n=n.lastChild;n&&this.length&&("BR"==n.nodeName||0!=(null==(e=d.get(n))?void 0:e.isEditable)||y.ios&&this.children.some(e=>e instanceof a))||((t=document.createElement("BR")).cmIgnore=!0,this.dom.appendChild(t))}measureTextSize(){if(0==this.children.length||20<this.length)return null;let e=0,t;for(var n of this.children){if(!(n instanceof a)||/[^ -~]/.test(n.text))return null;n=H(n.dom);if(1!=n.length)return null;e+=n[0].width,t=n[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){e=we(this,e,t);if(!this.children.length&&e&&this.parent){var t=this.parent.view.viewState["heightOracle"],n=e.bottom-e.top;if(Math.abs(n-t.lineHeight)<2&&t.textHeight<n)return n=(n-t.textHeight)/2,{top:e.top+n,bottom:e.bottom-n,left:e.left,right:e.left}}return e}become(e){return!1}covers(){return!0}static find(n,i){for(let e=0,t=0;e<n.children.length;e++){var o=n.children[e],r=t+o.length;if(i<=r){if(o instanceof v)return o;if(i<r)break}t=r+o.breakAfter}return null}}class f extends d{constructor(e,t,n){super(),this.widget=e,this.length=t,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,i,o,r){return!(n&&(!(n instanceof f&&this.widget.compare(n.widget))||0<e&&o<=0||t<this.length&&r<=0)||(this.length=e+(n?n.length:0)+(this.length-t),0))}domAtPos(e){return 0==e?u.before(this.dom):u.after(this.dom,e==this.length)}split(e){var t=this.length-e,e=(this.length=e,new f(this.widget,t,this.deco));return e.breakAfter=this.breakAfter,e}get children(){return re}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable)||(this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):R.Text.empty}domBoundsAround(){return null}become(e){return e instanceof f&&e.widget.constructor==this.widget.constructor&&(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){var{startSide:t,endSide:n}=this.deco;return t!=n&&(e<0?t<0:0<n)}}class o{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}C.BlockType=void 0,(n=C.BlockType||(C.BlockType={}))[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange";class l extends R.RangeValue{constructor(e,t,n,i){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Be(e)}static widget(e){var t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?0<t?3e8:-4e8:0<t?1e8:-1e8,new p(e,t,t,n,e.widget||null,!1)}static replace(e){let t=!!e.block,n,i;var o,r;return i=e.isBlockGap?(n=-5e8,4e8):({start:o,end:r}=Fe(e,t),n=(o?t?-3e8:-1:5e8)-1,1+(r?t?2e8:1:-6e8)),new p(e,n,i,t,e.widget||null,!0)}static line(e){return new ke(e)}static set(e,t=!1){return R.RangeSet.of(e,t)}hasHeight(){return!!this.widget&&-1<this.widget.estimatedHeight}}l.none=R.RangeSet.empty;class Be extends l{constructor(e){var{start:t,end:n}=Fe(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t;return this==e||e instanceof Be&&this.tagName==e.tagName&&(this.class||(null==(t=this.attrs)?void 0:t.class))==(e.class||(null==(t=e.attrs)?void 0:t.class))&&Oe(this.attrs,e.attrs,"class")}range(e,t=e){if(t<=e)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Be.prototype.point=!1;class ke extends l{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof ke&&this.spec.class==e.spec.class&&Oe(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}ke.prototype.mapMode=R.MapMode.TrackBefore,ke.prototype.point=!0;class p extends l{constructor(e,t,n,i,o,r){super(t,n,o,e),this.block=i,this.isReplace=r,this.mapMode=i?t<=0?R.MapMode.TrackBefore:R.MapMode.TrackAfter:R.MapMode.TrackDel}get type(){return this.startSide!=this.endSide?C.BlockType.WidgetRange:this.startSide<=0?C.BlockType.WidgetBefore:C.BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(5<=this.widget.estimatedHeight||0<this.widget.lineBreaks)}eq(e){return e instanceof p&&We(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(t<e||e==t&&0<this.startSide&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(this.isReplace||t==e)return super.range(e,t);throw new RangeError("Widget decorations can only have zero-length ranges")}}function Fe(e,t=!1){let{inclusiveStart:n,inclusiveEnd:i}=e;return null==n&&(n=e.inclusive),null==i&&(i=e.inclusive),{start:null!==n&&void 0!==n?n:t,end:null!==i&&void 0!==i?i:t}}function We(e,t){return e==t||!!(e&&t&&e.compare(t))}function Te(e,t,n,i=0){var o=n.length-1;0<=o&&n[o]+i>=e?n[o]=Math.max(n[o],t):n.push(e,t)}p.prototype.point=!0;class Ae{constructor(e,t,n,i){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){var e;return 0==this.content.length?!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos:!((e=this.content[this.content.length-1]).breakAfter||e instanceof f&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new v),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(De(new be(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||e&&this.content.length&&this.content[this.content.length-1]instanceof f||this.getLine()}buildText(e,t,n){for(;0<e;){if(this.textOff==this.text.length){var{value:i,lineBreak:o,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=i,this.textOff=0}r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(De(new a(this.text.slice(this.textOff,this.textOff+r)),t),n),this.atCursorPos=!0,this.textOff+=r,e-=r,n=0}}span(e,t,n,i){this.buildText(t-e,n,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,n,i,o,r){if(this.disallowBlockEffectsFor[r]&&n instanceof p){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}var s,a,l,u,r=t-e;n instanceof p?n.block?(0<n.startSide&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new f(n.widget||new Ne("div"),r,n))):(s=m.create(n.widget||new Ne("span"),r,r?0:n.startSide),a=this.atCursorPos&&!s.isEditable&&o<=i.length&&(e<t||0<n.startSide),l=!s.isEditable&&(e<t||o>i.length||n.startSide<=0),u=this.getLine(),2!=this.pendingBuffer||a||s.isEditable||(this.pendingBuffer=0),this.flushBuffer(i),a&&(u.append(De(new be(1),i),o),o=i.length+Math.max(0,o-i.length)),u.append(De(s,i),o),this.atCursorPos=l,this.pendingBuffer=l?e<t||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())):this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n),r&&(this.textOff+r<=this.text.length?this.textOff+=r:(this.skip+=r-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,n,i,o){e=new Ae(e,t,n,o);return e.openEnd=R.RangeSet.spans(i,t,n,e),e.openStart<0&&(e.openStart=e.openEnd),e.finish(e.openEnd),e}}function De(e,t){for(var n of t)e=new c(n,[e],e.length);return e}class Ne extends o{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}C.Direction=void 0,(he=C.Direction||(C.Direction={}))[he.LTR=0]="LTR",he[he.RTL=1]="RTL";const N=C.Direction.LTR,Ee=C.Direction.RTL;function Pe(t){var n=[];for(let e=0;e<t.length;e++)n.push(1<<+t[e]);return n}const Ie=Pe("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Ve=Pe("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Le=Object.create(null),E=[];for(de of["()","[]","{}"]){var je=de.charCodeAt(0),He=de.charCodeAt(1);Le[je]=He,Le[He]=-je}function ze(e){return e<=247?Ie[e]:1424<=e&&e<=1524?2:1536<=e&&e<=1785?Ve[e-1536]:1774<=e&&e<=2220?4:8192<=e&&e<=8204?256:64336<=e&&e<=65023?4:1}const Ue=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class P{get dir(){return this.level%2?Ee:N}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(t,n,i,o){let r=-1;for(let e=0;e<t.length;e++){var s=t[e];if(s.from<=n&&s.to>=n){if(s.level==i)return e;(r<0||(0!=o?o<0?s.from<n:s.to>n:t[r].level>s.level))&&(r=e)}}if(r<0)throw new RangeError("Index out of range");return r}}function qe(t,n){if(t.length==n.length){for(let e=0;e<t.length;e++){var i=t[e],o=n[e];if(i.from!=o.from||i.to!=o.to||i.direction!=o.direction||!qe(i.inner,o.inner))return}return 1}}const I=[];function Ye(e,t,n,i,o,r,s){var a=t%2?2:1,l=e,u=o,d=r,c=i,m=a;for(let e=0;e<=c.length;e++){var h=e?c[e-1].to:u,f=e<c.length?c[e].from:d,p=e?256:m;for(let t=h,n=p,i=p;t<f;t++){let e=ze(l.charCodeAt(t));512==e?e=n:8==e&&4==i&&(e=16),I[t]=4==e?2:e,7&e&&(i=e),n=e}for(let n=h,i=p,o=p;n<f;n++){let e=I[n];if(128==e)n<f-1&&i==I[n+1]&&24&i?e=I[n]=i:I[n]=256;else if(64==e){let t=n+1;for(;t<f&&64==I[t];)t++;var g=n&&8==i||t<d&&8==I[t]?1==o?1:8:256;for(let e=n;e<t;e++)I[e]=g;n=t-1}else 8==e&&1==o&&(I[n]=1);7&(i=e)&&(o=e)}}var R=e,y=o,v=r,b=i,S=a,C=1==S?2:1;for(let e=0,o=0,r=0;e<=b.length;e++){var w=e?b[e-1].to:y,_=e<b.length?b[e].from:v;for(let t=w,e,n,i;t<_;t++)if(n=Le[e=R.charCodeAt(t)])if(n<0){for(let e=o-3;0<=e;e-=3)if(E[e+1]==-n){var M=E[e+2],M=2&M?S:4&M?1&M?C:S:0;M&&(I[t]=I[E[e]]=M),o=e;break}}else{if(189==E.length)break;E[o++]=t,E[o++]=e,E[o++]=r}else if(2==(i=I[t])||1==i){var O=i==S;r=O?0:1;for(let e=o-3;0<=e;e-=3){var x=E[e+2];if(2&x)break;if(O)E[e+2]|=2;else{if(4&x)break;E[e+2]|=4}}}}var B=o,k=r,F=i,W=a;for(let r=0,n=W;r<=F.length;r++){let e=r?F[r-1].to:B,t=r<F.length?F[r].from:k;for(let o=e;o<t;){var T=I[o];if(256==T){let i=o+1;for(;;)if(i==t){if(r==F.length)break;i=F[r++].to,t=r<F.length?F[r].from:k}else{if(256!=I[i])break;i++}var A=1==n,D=A==(1==(i<k?I[i]:W))?A?1:2:W;for(let e=i,t=r,n=t?F[t-1].to:B;e>o;)e==n&&(e=F[--t].from,n=t?F[t-1].to:B),I[--e]=D;o=i}else n=T,o++}}!function r(s,a,l,u,d,c,m){var h=u%2?2:1;if(u%2==d%2)for(let i=a,o=0;i<l;){let e=!0,t=!1;(o==c.length||i<c[o].from)&&(f=I[i])!=h&&(e=!1,t=16==f);var f,p=e||1!=h?null:[],g=e?u:u+1;let n=i;e:for(;;)if(o<c.length&&n==c[o].from){if(t)break;var R=c[o];if(!e)for(let e=R.to,t=o+1;;){if(e==l)break e;if(!(t<c.length&&c[t].from==e)){if(I[e]==h)break e;break}e=c[t++].to}o++,p?p.push(R):(R.from>i&&m.push(new P(i,R.from,g)),Ye(s,R.direction==N!=!(g%2)?u+1:u,d,R.inner,R.from,R.to,m),i=R.to),n=R.to}else{if(n==l||(e?I[n]!=h:I[n]==h))break;n++}p?r(s,i,n,u+1,d,p,m):i<n&&m.push(new P(i,n,g)),i=n}else for(let i=l,o=c.length;i>a;){let e=!0,t=!1;(!o||i>c[o-1].to)&&(y=I[i-1])!=h&&(e=!1,t=16==y);var y,v=e||1!=h?null:[],b=e?u:u+1;let n=i;e:for(;;)if(o&&n==c[o-1].to){if(t)break;var S=c[--o];if(!e)for(let e=S.from,t=o;;){if(e==a)break e;if(!t||c[t-1].to!=e){if(I[e-1]==h)break e;break}e=c[--t].from}v?v.push(S):(S.to<i&&m.push(new P(S.to,i,b)),Ye(s,S.direction==N!=!(b%2)?u+1:u,d,S.inner,S.from,S.to,m),i=S.from),n=S.from}else{if(n==a||(e?I[n-1]!=h:I[n-1]==h))break;n--}v?r(s,n,i,u+1,d,v,m):n<i&&m.push(new P(n,i,b)),i=n}}(e,o,r,t,n,i,s)}function Ge(e,t,n){if(!e)return[new P(0,0,t==Ee?1:0)];if(t==N&&!n.length&&!Ue.test(e))return Ke(e.length);if(n.length)for(;e.length>I.length;)I[I.length]=256;var i=[],t=t==N?0:1;return Ye(e,t,t,n,0,e.length,i),i}function Ke(e){return[new P(0,e,0)]}let $e="";function Xe(e,t,n,i,o){let r=i.head-e.from,s=P.find(t,r,null!=(u=i.bidiLevel)?u:-1,i.assoc),a=t[s],l=a.side(o,n);if(r==l){var u=s+=o?1:-1;if(u<0||u>=t.length)return null;a=t[s=u],r=a.side(!o,n),l=a.side(o,n)}let d=R.findClusterBreak(e.text,r,a.forward(o,n));(d<a.from||d>a.to)&&(d=l),$e=e.text.slice(Math.min(r,d),Math.max(r,d));i=s==(o?t.length-1:0)?null:t[s+(o?1:-1)];return i&&d==l&&i.level+(o?0:1)<a.level?R.EditorSelection.cursor(i.side(!o,n)+e.from,i.forward(o,n)?1:-1,i.level):R.EditorSelection.cursor(d+e.from,a.forward(o,n)?-1:1,a.level)}const Je=R.Facet.define(),Ze=R.Facet.define(),Qe=R.Facet.define(),et=R.Facet.define(),tt=R.Facet.define(),nt=R.Facet.define(),it=R.Facet.define(),ot=R.Facet.define({combine:e=>e.some(e=>e)}),rt=R.Facet.define({combine:e=>e.some(e=>e)});class st{constructor(e,t="nearest",n="nearest",i=5,o=5,r=!1){this.range=e,this.y=t,this.x=n,this.yMargin=i,this.xMargin=o,this.isSnapshot=r}map(e){return e.empty?this:new st(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new st(R.EditorSelection.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const at=R.StateEffect.define({map:(e,t)=>e.map(t)});function b(e,t,n){e=e.facet(et);e.length?e[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}const lt=R.Facet.define({combine:e=>!e.length||e[0]});let ut=0;const dt=R.Facet.define();class S{constructor(e,t,n,i,o){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=i,this.extension=o(this)}static define(e,t){const{eventHandlers:n,eventObservers:i,provide:o,decorations:r}=t||{};return new S(ut++,e,n,i,t=>{var e=[dt.of(t)];return r&&e.push(ft.of(e=>{e=e.plugin(t);return e?r(e):l.none})),o&&e.push(o(t)),e})}static fromClass(t,e){return S.define(e=>new t(e),e)}}class ct{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){var n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(e){if(b(n.state,e,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(e){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){b(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(null!=(e=this.value)&&e.destroy)try{this.value.destroy()}catch(e){b(t.state,e,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const mt=R.Facet.define(),ht=R.Facet.define(),ft=R.Facet.define(),pt=R.Facet.define(),gt=R.Facet.define(),Rt=R.Facet.define();function yt(t,u){var e=t.state.facet(Rt);if(!e.length)return e;e=e.map(e=>e instanceof Function?e(t):e);let n=[];return R.RangeSet.spans(e,u.from,u.to,{point(){},span(e,t,i,o){var r,s=e-u.from,a=t-u.from;let l=n;for(let n=i.length-1;0<=n;n--,o--){let e=i[n].spec.bidiIsolate,t;null==e&&(e=function(t,n,i){for(let e=n;e<i;e++){var o=ze(t.charCodeAt(e));if(1==o)return N;if(2==o||4==o)return Ee}return N}(u.text,s,a)),l=(0<o&&l.length&&(t=l[l.length-1]).to==s&&t.direction==e?(t.to=a,t):(r={from:s,to:a,direction:e,inner:[]},l.push(r),r)).inner}}}),n}const vt=R.Facet.define();function bt(e){let t=0,n=0,i=0,o=0;for(var r of e.state.facet(vt)){r=r(e);r&&(null!=r.left&&(t=Math.max(t,r.left)),null!=r.right&&(n=Math.max(n,r.right)),null!=r.top&&(i=Math.max(i,r.top)),null!=r.bottom)&&(o=Math.max(o,r.bottom))}return{left:t,right:n,top:i,bottom:o}}const St=R.Facet.define();class w{constructor(e,t,n,i){this.fromA=e,this.toA=t,this.fromB=n,this.toB=i}join(e){return new w(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;0<t;t--){var i=e[t-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(o,r){if(0==r.length)return o;var s=[];for(let e=0,t=0,n=0,i=0;;e++){for(var a=e==o.length?null:o[e],l=n-i,u=a?a.fromB:1e9;t<r.length&&r[t]<u;){var d=r[t],c=r[t+1],d=Math.max(i,d),m=Math.min(u,c);if(d<=m&&new w(d+l,m+l,d,m).addToSet(s),u<c)break;t+=2}if(!a)return s;new w(a.fromA,a.toA,a.fromB,a.toB).addToSet(s),n=a.toA,i=a.toB}}}class Ct{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=R.ChangeSet.empty(this.startState.doc.length);for(var i of n)this.changes=this.changes.compose(i.changes);let o=[];this.changes.iterChangedRanges((e,t,n,i)=>o.push(new w(e,t,n,i))),this.changedRanges=o}static create(e,t,n){return new Ct(e,t,n)}get viewportChanged(){return 0<(4&this.flags)}get heightChanged(){return 0<(2&this.flags)}get geometryChanged(){return this.docChanged||0<(10&this.flags)}get focusChanged(){return 0<(1&this.flags)}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return 0==this.flags&&0==this.transactions.length}}class wt extends d{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new v],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new w(0,0,0,e.state.doc.length)],0,null)}update(e){let t=e.changedRanges,n=(0<this.minWidth&&t.length&&(t.every(({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),-1);0<=this.view.inputState.composing&&(null!=(i=this.domChanged)&&i.newSel?n=this.domChanged.newSel.head:At(e.changes,this.hasComposition)||e.selectionSet||(n=e.state.selection.main.head));var i=-1<n?xt(this.view,e.changes,n):null,o=(this.domChanged=null,this.hasComposition&&(this.markedForComposition.clear(),{from:o,to:r}=this.hasComposition,t=new w(o,r,e.changes.mapPos(o,-1),e.changes.mapPos(r,1)).addToSet(t.slice())),this.hasComposition=i?{from:i.range.fromB,to:i.range.toB}:null,(y.ie||y.chrome)&&!i&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0),this.decorations),r=Wt(o,this.updateDeco(),e.changes);return t=w.extendWithRanges(t,r),!!(7&this.flags||0!=t.length)&&(this.updateInner(t,e.startState.doc.length,i),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);let i=this.view["observer"];i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";var e=y.chrome||y.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,e),this.flags&=-8,e&&(e.written||i.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(e=>e.flags&=-9);var o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(var r of this.children)r instanceof f&&r.widget instanceof Mt&&o.push(r.dom);i.updateGaps(o)}updateChildren(e,t,u){var d=u?u.range.addToSet(e.slice()):e,c=this.childCursor(t);for(let l=d.length-1;;l--){var m=0<=l?d[l]:null;if(!m)break;let{fromA:e,toA:t,fromB:n,toB:i}=m,o,r,s,a;u&&u.range.fromB<i&&u.range.toB>n?(m=Ae.build(this.view.state.doc,n,u.range.fromB,this.decorations,this.dynamicDecorationMap),f=Ae.build(this.view.state.doc,u.range.toB,i,this.decorations,this.dynamicDecorationMap),r=m.breakAtStart,s=m.openStart,a=f.openEnd,h=this.compositionView(u),f.breakAtStart?h.breakAfter=1:f.content.length&&h.merge(h.length,h.length,f.content[0],!1,f.openStart,0)&&(h.breakAfter=f.content[0].breakAfter,f.content.shift()),m.content.length&&h.merge(0,0,m.content[m.content.length-1],!0,0,m.openEnd)&&m.content.pop(),o=m.content.concat(h).concat(f.content)):{content:o,breakAtStart:r,openStart:s,openEnd:a}=Ae.build(this.view.state.doc,n,i,this.decorations,this.dynamicDecorationMap);var{i:m,off:h}=c.findPos(t,1),{i:f,off:p}=c.findPos(e,-1);le(this,f,p,m,h,o,r,s,a)}u&&this.fixCompositionDOM(u)}compositionView(e){let t=new a(e.text.nodeValue);t.flags|=8;for(var{deco:n}of e.marks)t=new c(n,[t],t.length);e=new v;return e.append(t,0),e}fixCompositionDOM(t){var n=(e,t)=>{t.flags|=8|(t.children.some(e=>7&e.flags)?1:0),this.markedForComposition.add(t);var n=d.get(e);n&&n!=t&&(n.dom=null),t.setDOM(e)};let i=this.childPos(t.range.fromB,1),o=this.children[i.i];n(t.line,o);for(let e=t.marks.length-1;-1<=e;e--)i=o.childPos(i.off,1),o=o.children[i.i],n(0<=e?t.marks[e].node:t.text,o)}updateSelection(e=!1,t=!1){!e&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let s=this.view.root.activeElement,n=s==this.dom,a=!n&&j(this.dom,this.view.observer.selectionRange)&&!(s&&this.dom.contains(s));if(n||t||a){let t=this.forceSelection,n=(this.forceSelection=!1,this.view.state.selection.main),i=this.moveToLine(this.domAtPos(n.anchor)),o=n.empty?i:this.moveToLine(this.domAtPos(n.head));if(y.gecko&&n.empty&&!this.hasComposition&&_t(i)){let e=document.createTextNode("");this.view.observer.ignore(()=>i.node.insertBefore(e,i.node.childNodes[i.offset]||null)),i=o=new u(e,0),t=!0}let r=this.view.observer.selectionRange;!t&&r.focusNode&&(z(i.node,i.offset,r.anchorNode,r.anchorOffset)&&z(o.node,o.offset,r.focusNode,r.focusOffset)||this.suppressWidgetCursorChange(r,n))||(this.view.observer.ignore(()=>{y.android&&y.chrome&&this.dom.contains(r.focusNode)&&Tt(r.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));var e=D(this.view.root);if(e)if(n.empty)y.gecko&&(t=kt(i.node,i.offset))&&3!=t&&(t=Bt(i.node,i.offset,1==t?1:-1))&&(i=new u(t.node,t.offset)),e.collapse(i.node,i.offset),null!=n.bidiLevel&&void 0!==e.caretBidiLevel&&(e.caretBidiLevel=n.bidiLevel);else if(e.extend){e.collapse(i.node,i.offset);try{e.extend(o.node,o.offset)}catch(e){}}else{var t=document.createRange();n.anchor>n.head&&([i,o]=[o,i]),t.setEnd(o.node,o.offset),t.setStart(i.node,i.offset),e.removeAllRanges(),e.addRange(t)}a&&this.view.root.activeElement==this.dom&&(this.dom.blur(),s)&&s.focus()}),this.view.observer.setSelectionRange(i,o)),this.impreciseAnchor=i.precise?null:new u(r.anchorNode,r.anchorOffset),this.impreciseHead=o.precise?null:new u(r.focusNode,r.focusOffset)}}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&z(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){var e,t,n,i,o,r,s;this.hasComposition||(e=this["view"],t=e.state.selection.main,n=D(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange,n&&t.empty&&t.assoc&&n.modify&&(s=v.find(this,t.head))&&(r=s.posAtStart,t.head==r||t.head==r+s.length||(r=this.coordsAt(t.head,-1),s=this.coordsAt(t.head,1),!r)||!s||r.bottom>s.top||(r=this.domAtPos(t.head+t.assoc),n.collapse(r.node,r.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange(),s=e.observer.selectionRange,e.docView.posFromDOM(s.anchorNode,s.anchorOffset)!=t.from&&n.collapse(i,o))))}moveToLine(t){let n=this.dom,i;if(t.node!=n)return t;for(let e=t.offset;!i&&e<n.childNodes.length;e++){var o=d.get(n.childNodes[e]);o instanceof v&&(i=o.domAtPos(0))}for(let e=t.offset-1;!i&&0<=e;e--){var r=d.get(n.childNodes[e]);r instanceof v&&(i=r.domAtPos(r.length))}return i?new u(i.node,i.offset,!0):t}nearest(t){for(let e=t;e;){var n=d.get(e);if(n&&n.rootView==this)return n;e=e.parentNode}return null}posFromDOM(e,t){var n=this.nearest(e);if(n)return n.localPosFromDOM(e,t)+n.posAtStart;throw new RangeError("Trying to find position for a DOM position outside of the document")}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){var i=this.children[t];if(n<i.length||i instanceof v)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(n,i){let o=null,r=0;for(let e=this.length,t=this.children.length-1;0<=t;t--){var s=this.children[t],a=e-s.breakAfter,l=a-s.length;if(a<n)break;l<=n&&(l<n||s.covers(-1))&&(n<a||s.covers(1))&&(!o||s instanceof v&&!(o instanceof v&&0<=i))&&(o=s,r=l),e=l}return o?o.coordsAt(n-r,i):null}coordsForChar(e){let{i:t,off:n}=this.childPos(e,1),i=this.children[t];if(i instanceof v){for(;i.children.length;){let{i:e,off:t}=i.childPos(n,1);for(;;e++){if(e==i.children.length)return null;if((i=i.children[e]).length)break}n=t}if(i instanceof a){e=R.findClusterBreak(i.text,n);if(e!=n){var o=g(i.dom,n,e).getClientRects();for(let e=0;e<o.length;e++){var r=o[e];if(e==o.length-1||r.top<r.bottom&&r.left<r.right)return r}}}}return null}measureVisibleLineHeights(e){var n=[],{from:i,to:o}=e,r=this.view.contentDOM.clientWidth,s=r>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1;let a=-1,l=this.view.textDirection==C.Direction.LTR;for(let e=0,t=0;t<this.children.length;t++){var u,d,c=this.children[t],m=e+c.length;if(o<m)break;e>=i&&(d=c.dom.getBoundingClientRect(),n.push(d.height),s)&&(u=(u=c.dom.lastChild)?H(u):[]).length&&(u=u[u.length-1],(d=l?u.right-d.left:d.right-u.left)>a)&&(a=d,this.minWidth=r,this.minWidthFrom=e,this.minWidthTo=m),e=m+c.breakAfter}return n}textDirectionAt(e){e=this.childPos(e,1).i;return"rtl"==getComputedStyle(this.children[e].dom).direction?C.Direction.RTL:C.Direction.LTR}measureTextSize(){for(var e of this.children)if(e instanceof v){e=e.measureTextSize();if(e)return e}let t=document.createElement("div"),n,i,o;return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(t);var e=H(t.firstChild)[0];n=t.getBoundingClientRect().height,i=e?e.width/27:7,o=e?e.height:n,t.remove()}),{lineHeight:n,charWidth:i,textHeight:o}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new ae(this.children,e,t)}computeBlockGapDeco(){var n=[],i=this.view.viewState;for(let e=0,t=0;;t++){var o,r=t==i.viewports.length?null:i.viewports[t],s=r?r.from-1:this.length;if(s>e&&(o=(i.lineBlockAt(s).bottom-i.lineBlockAt(e).top)/this.view.scaleY,n.push(l.replace({widget:new Mt(o),block:!0,inclusive:!0,isBlockGap:!0}).range(e,s))),!r)break;e=r.to+1}return l.set(n)}updateDeco(){var t=this.view.state.facet(ft).map((e,t)=>{return(this.dynamicDecorationMap[t]="function"==typeof e)?e(this.view):e});let i=!1,e=this.view.state.facet(pt).map((e,t)=>{var n="function"==typeof e;return n&&(i=!0),n?e(this.view):e});e.length&&(this.dynamicDecorationMap[t.length]=i,t.push(R.RangeSet.join(e)));for(let e=t.length;e<t.length+3;e++)this.dynamicDecorationMap[e]=!1;return this.decorations=[...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(n){if(n.isSnapshot)s=this.view.viewState.lineBlockAt(n.range.head),this.view.scrollDOM.scrollTop=s.top-n.yMargin,this.view.scrollDOM.scrollLeft=n.xMargin;else{var i,o,r,s=n["range"];let e=this.coordsAt(s.head,s.empty?s.assoc:s.head>s.anchor?-1:1),t;e&&(!s.empty&&(t=this.coordsAt(s.anchor,s.anchor>s.head?-1:1))&&(e={left:Math.min(e.left,t.left),top:Math.min(e.top,t.top),right:Math.max(e.right,t.right),bottom:Math.max(e.bottom,t.bottom)}),i=bt(this.view),i={left:e.left-i.left,top:e.top-i.top,right:e.right+i.right,bottom:e.bottom+i.bottom},{offsetWidth:o,offsetHeight:r}=this.view.scrollDOM,K(this.view.scrollDOM,i,s.head<s.anchor?-1:1,n.x,n.y,Math.max(Math.min(n.xMargin,o),-o),Math.max(Math.min(n.yMargin,r),-r),this.view.textDirection==C.Direction.LTR))}}}function _t(e){return 1==e.node.nodeType&&e.node.firstChild&&(0==e.offset||"false"==e.node.childNodes[e.offset-1].contentEditable)&&(e.offset==e.node.childNodes.length||"false"==e.node.childNodes[e.offset].contentEditable)}class Mt extends o{constructor(e){super(),this.height=e}toDOM(){var e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}}function Ot(e,t){e=e.observer.selectionRange,e=e.focusNode&&Bt(e.focusNode,e.focusOffset,0);return e?{from:t=t-e.offset,to:t+e.node.nodeValue.length,node:e.node}:null}function xt(t,e,n){n=Ot(t,n);if(!n)return null;var{node:i,from:o,to:r}=n,s=i.nodeValue;if(/[\n\r]/.test(s))return null;if(t.state.doc.sliceString(n.from,n.to)!=s)return null;var n=e.invertedDesc,a=new w(n.mapPos(o),n.mapPos(r),o,r),l=[];for(let e=i.parentNode;;e=e.parentNode){var u=d.get(e);if(u instanceof c)l.push({node:e,deco:u.mark});else{if(u instanceof v||"DIV"==e.nodeName&&e.parentNode==t.contentDOM)return{range:a,text:i,marks:l,line:e};if(e==t.contentDOM)return null;l.push({node:e,deco:new Be({inclusive:!0,attributes:function(t){var n=Object.create(null);for(let e=0;e<t.attributes.length;e++){var i=t.attributes[e];n[i.name]=i.value}return n}(e),tagName:e.tagName.toLowerCase()})})}}}function Bt(n,i,o){if(o<=0)for(let e=n,t=i;;){if(3==e.nodeType)return{node:e,offset:t};if(!(1==e.nodeType&&0<t))break;e=e.childNodes[t-1],t=s(e)}if(0<=o)for(let e=n,t=i;;){if(3==e.nodeType)return{node:e,offset:t};if(!(1==e.nodeType&&t<e.childNodes.length&&0<=o))break;e=e.childNodes[t],t=0}return null}function kt(e,t){return 1!=e.nodeType?0:(t&&"false"==e.childNodes[t-1].contentEditable?1:0)|(t<e.childNodes.length&&"false"==e.childNodes[t].contentEditable?2:0)}let Ft=class{constructor(){this.changes=[]}compareRange(e,t){Te(e,t,this.changes)}comparePoint(e,t){Te(e,t,this.changes)}};function Wt(e,t,n){var i=new Ft;return R.RangeSet.compare(e,t,n,i),i.changes}function Tt(t,n){for(let e=t;e&&e!=n;e=e.assignedSlot||e.parentNode)if(1==e.nodeType&&"false"==e.contentEditable)return 1}function At(e,n){let i=!1;return n&&e.iterChangedRanges((e,t)=>{e<n.to&&t>n.from&&(i=!0)}),i}function Dt(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function Nt(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function Et(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function Pt(e,i,o){let r,s,a,l,u=!1,d,c,m,h;for(let n=e.firstChild;n;n=n.nextSibling){var f=H(n);for(let t=0;t<f.length;t++){let e=f[t];s&&Dt(s,e)&&(e=Nt(Et(e,s.bottom),s.top));g=i;g=(R=e).left>g?R.left-g:Math.max(0,g-R.right),R=(R=o,(p=e).top>R?p.top-R:Math.max(0,R-p.bottom));if(0==g&&0==R)return(3==n.nodeType?It:Pt)(n,i,o);(!r||l>R||l==R&&a>g)&&(r=n,s=e,a=g,p=(l=R)?o<e.top?-1:1:g?i<e.left?-1:1:0,u=!p||(0<p?t<f.length-1:0<t)),0==g?o>e.bottom&&(!m||m.bottom<e.bottom)?(d=n,m=e):o<e.top&&(!h||h.top>e.top)&&(c=n,h=e):m&&Dt(m,e)?m=Et(m,e.bottom):h&&Dt(h,e)&&(h=Nt(h,e.top))}}var p,g,R,t;return m&&m.bottom>=o?(r=d,s=m):h&&h.top<=o&&(r=c,s=h),r?(t=Math.max(s.left,Math.min(s.right,i)),3==r.nodeType?It(r,t,o):u&&"false"!=r.contentEditable?Pt(r,t,o):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,r)+(i>=(s.left+s.right)/2?1:0)}):{node:e,offset:0}}function It(i,o,t){var e=i.nodeValue.length;let r=-1,s=1e9,a=0;for(let n=0;n<e;n++){var l=g(i,n,n+1).getClientRects();for(let e=0;e<l.length;e++){var u=l[e];if(u.top!=u.bottom){a=a||o-u.left;var d=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=o&&u.right+1>=o&&d<s){let e=o>=(u.left+u.right)/2,t=e;if((y.chrome||y.gecko)&&g(i,n).getBoundingClientRect().left==u.right&&(t=!e),d<=0)return{node:i,offset:n+(t?1:0)};r=n+(t?1:0),s=d}}}}return{node:i,offset:-1<r?r:0<a?i.nodeValue.length:0}}function Vt(n,e,i,o=-1){var t=n.contentDOM.getBoundingClientRect(),r=t.top+n.viewState.paddingTop;let s,a=n.viewState["docHeight"],{x:l,y:u}=e,d=u-r;if(d<0)return 0;if(d>a)return n.state.doc.length;for(let e=n.viewState.heightOracle.textHeight/2,t=!1;(s=n.elementAtHeight(d)).type!=C.BlockType.Text;)for(;!(0<=(d=0<o?s.bottom+e:s.top-e)&&d<=a);){if(t)return i?null:0;t=!0,o=-o}u=r+d;r=s.from;if(r<n.viewport.from)return 0==n.viewport.from?0:i?null:Lt(n,t,s,l,u);if(r>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:i?null:Lt(n,t,s,l,u);var c=n.dom.ownerDocument,m=n.root.elementFromPoint?n.root:c;let h=m.elementFromPoint(l,u);(h=h&&!n.contentDOM.contains(h)?null:h)||(l=Math.max(t.left+1,Math.min(t.right-1,l)),(h=m.elementFromPoint(l,u))&&!n.contentDOM.contains(h)&&(h=null));let f,p=-1;if(h&&0!=(null==(t=n.docView.nearest(h))?void 0:t.isEditable)&&(c.caretPositionFromPoint?(m=c.caretPositionFromPoint(l,u))&&({offsetNode:f,offset:p}=m):c.caretRangeFromPoint&&(t=c.caretRangeFromPoint(l,u))&&({startContainer:f,startOffset:p}=t,!n.contentDOM.contains(f)||y.safari&&function(t,e,n){let i;if(3!=t.nodeType||e!=(i=t.nodeValue.length))return;for(let e=t.nextSibling;e;e=e.nextSibling)if(1!=e.nodeType||"BR"!=e.nodeName)return;return g(t,i-1,i).getBoundingClientRect().left>n}(f,p,l)||y.chrome&&function(t,e,n){if(0!=e)return;for(let e=t;;){var i=e.parentNode;if(!i||1!=i.nodeType||i.firstChild!=e)return;if(i.classList.contains("cm-line"))break;e=i}e=(1==t.nodeType?t:g(t,0,Math.max(t.nodeValue.length,1))).getBoundingClientRect();return 5<n-e.left}(f,p,l))&&(f=void 0)),!f||!n.docView.dom.contains(f)){m=v.find(n.docView,r);if(!m)return d>s.top+s.height/2?s.to:s.from;({node:f,offset:p}=Pt(m.dom,l,u))}c=n.docView.nearest(f);return c?c.isWidget&&1==(null==(t=c.dom)?void 0:t.nodeType)?(r=c.dom.getBoundingClientRect(),e.y<r.top||e.y<=r.bottom&&e.x<=(r.left+r.right)/2?c.posAtStart:c.posAtEnd):c.localPosFromDOM(f,p)+c.posAtStart:null}function Lt(e,t,n,i,o){let r=Math.round((i-t.left)*e.defaultCharacterWidth);e.lineWrapping&&n.height>1.5*e.defaultLineHeight&&(i=e.viewState.heightOracle.textHeight,t=Math.floor((o-n.top-.5*(e.defaultLineHeight-i))/i),r+=t*e.viewState.heightOracle.lineLength);o=e.state.sliceDoc(n.from,n.to);return n.from+R.findColumn(o,r,e.state.tabSize)}function jt(e,t){var n=e.lineBlockAt(t);if(Array.isArray(n.type))for(var i of n.type)if(i.to>t||i.to==t&&(i.to==n.to||i.type==C.BlockType.Text))return i;return n}function Ht(e,t,n,i){var o=jt(e,t.head),i=i&&o.type==C.BlockType.Text&&(e.lineWrapping||o.widgetLineBreaks)?e.coordsAtPos(t.assoc<0&&t.head>o.from?t.head-1:t.head):null;if(i){var t=e.dom.getBoundingClientRect(),r=e.textDirectionAt(o.from),e=e.posAtCoords({x:n==(r==C.Direction.LTR)?t.right-1:t.left+1,y:(i.top+i.bottom)/2});if(null!=e)return R.EditorSelection.cursor(e,n?-1:1)}return R.EditorSelection.cursor(n?o.to:o.from,n?-1:1)}function zt(o,e,r,s){let a=o.state.doc.lineAt(e.head),l=o.bidiSpans(a);var u=o.textDirectionAt(a.from);for(let n=e,i=null;;){let e=Xe(a,l,u,n,r),t=$e;if(!e){if(a.number==(r?o.state.doc.lines:1))return n;t="\n",a=o.state.doc.line(a.number+(r?1:-1)),l=o.bidiSpans(a),e=o.visualLineSide(a,!r)}if(i){if(!i(t))return n}else{if(!s)return e;i=s(t)}n=e}}function Ut(e,t,n){let i=e.state.charCategorizer(t),o=i(n);return e=>{e=i(e);return(o=o==R.CharCategory.Space?e:o)==e}}function qt(t,e,n,i){var o=e.head,r=n?1:-1;if(o==(n?t.state.doc.length:0))return R.EditorSelection.cursor(o,e.assoc);let s=e.goalColumn,a;var l=t.contentDOM.getBoundingClientRect(),n=t.coordsAtPos(o,e.assoc||-1),e=t.documentTop,u=(a=n?(null==s&&(s=n.left-l.left),r<0?n.top:n.bottom):(n=t.viewState.lineBlockAt(o),null==s&&(s=Math.min(l.right-l.left,t.defaultCharacterWidth*(o-n.from))),(r<0?n.top:n.bottom)+e),l.left+s),d=null!=i?i:t.viewState.heightOracle.textHeight>>1;for(let e=0;;e+=10){var c,m=a+(d+e)*r,h=Vt(t,{x:u,y:m},!1,r);if(m<l.top||m>l.bottom||(r<0?h<o:o<h))return m=!(c=t.docView.coordsForChar(h))||m<c.top?-1:1,R.EditorSelection.cursor(h,m,void 0,s)}}function Yt(e,r,s){for(;;){let o=0;for(var t of e)t.between(r-1,r+1,(e,t,n)=>{var i;e<r&&r<t&&(i=o||s||(r-e<t-r?-1:1),r=i<0?e:t,o=i)});if(!o)return r}}function Gt(t,e,n){e=Yt(t.state.facet(gt).map(e=>e(t)),n.from,e.head>n.from?-1:1);return e==n.from?n:R.EditorSelection.cursor(e,e<n.from?1:-1)}class Kt{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,y.safari&&e.contentDOM.addEventListener("input",()=>null),y.gecko&&_n(e.contentDOM.ownerDocument)}handleEvent(e){!sn(this.view,e)||this.ignoreDuringComposition(e)||"keydown"==e.type&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,t){e=this.handlers[e];if(e){for(var n of e.observers)n(this.view,t);for(var i of e.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){var t,n,i=Xt(e),o=this.handlers,r=this.view.contentDOM;for(t in i)if("scroll"!=t){var s=!i[t].handlers.length;let e=o[t];e&&s!=!e.handlers.length&&(r.removeEventListener(t,this.handleEvent),e=null),e||r.addEventListener(t,this.handleEvent,{passive:s})}for(n in o)"scroll"==n||i[n]||r.removeEventListener(n,this.handleEvent);this.handlers=i}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(27!=t.keyCode&&Qt.indexOf(t.keyCode)<0&&(this.view.inputState.lastEscPress=0),y.android&&y.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return!y.ios||t.synthetic||t.altKey||t.metaKey||!((e=Jt.find(e=>e.keyCode==t.keyCode))&&!t.ctrlKey||-1<Zt.indexOf(t.key)&&t.ctrlKey&&!t.shiftKey)?(229!=t.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=e||t,setTimeout(()=>this.flushIOSKey(),250),!0)}flushIOSKey(){var e=this.pendingIOSKey;return!!e&&(this.pendingIOSKey=void 0,ee(this.view.contentDOM,e.key,e.keyCode))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(0<this.composing||!!(y.safari&&!y.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&!(this.compositionPendingKey=!1))}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function $t(n,i){return(t,e)=>{try{return i.call(n,e,t)}catch(e){b(t.state,e)}}}function Xt(e){let t=Object.create(null);function n(e){return t[e]||(t[e]={observers:[],handlers:[]})}for(var i of e){var o=i.spec;if(o&&o.domEventHandlers)for(var r in o.domEventHandlers){var s=o.domEventHandlers[r];s&&n(r).handlers.push($t(i.value,s))}if(o&&o.domEventObservers)for(var a in o.domEventObservers){var l=o.domEventObservers[a];l&&n(a).observers.push($t(i.value,l))}}for(var u in _)n(u).handlers.push(_[u]);for(var d in M)n(d).observers.push(M[d]);return t}const Jt=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Zt="dthko",Qt=[16,17,18,20,91,92,224,225];function en(e){return.7*Math.max(0,e)+8}function tn(e,t){return Math.max(Math.abs(e.clientX-t.clientX),Math.abs(e.clientY-t.clientY))}class nn{constructor(t,e,n,i){this.view=t,this.startEvent=e,this.style=n,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParent=$(t.contentDOM),this.atoms=t.state.facet(gt).map(e=>e(t));n=t.contentDOM.ownerDocument;n.addEventListener("mousemove",this.move=this.move.bind(this)),n.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(R.EditorState.allowMultipleSelections)&&on(t,e),this.dragging=!(!rn(t,e)||1!=Rn(e))&&null}start(e){!1===this.dragging&&this.select(e)}move(n){if(0==n.buttons)return this.destroy();if(!(this.dragging||null==this.dragging&&tn(this.startEvent,n)<10)){this.select(this.lastEvent=n);let e=0,t=0;var i=(null==(i=this.scrollParent)?void 0:i.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},o=bt(this.view);n.clientX-o.left<=i.left+6?e=-en(i.left-n.clientX):n.clientX+o.right>=i.right-6&&(e=en(n.clientX-i.right)),n.clientY-o.top<=i.top+6?t=-en(i.top-n.clientY):n.clientY+o.bottom>=i.bottom-6&&(t=en(n.clientY-i.bottom)),this.setScrollSpeed(e,t)}}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);var e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):-1<this.scrolling&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(i){let o=null;for(let n=0;n<i.ranges.length;n++){let e=i.ranges[n],t=null;var r,s;e.empty?(r=Yt(this.atoms,e.from,0))!=e.from&&(t=R.EditorSelection.cursor(r,-1)):(r=Yt(this.atoms,e.from,-1),s=Yt(this.atoms,e.to,1),r==e.from&&s==e.to||(t=R.EditorSelection.range(e.from==e.anchor?r:s,e.from==e.head?r:s))),t&&((o=o||i.ranges.slice())[n]=t)}return o?R.EditorSelection.create(o,i.mainIndex):i}select(e){var t=this["view"],e=this.skipAtoms(this.style.get(e,this.extend,this.multiple));!this.mustSelect&&e.eq(t.state.selection,!1===this.dragging)||this.view.dispatch({selection:e,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function on(e,t){e=e.state.facet(Je);return e.length?e[0](t):y.mac?t.metaKey:t.ctrlKey}function rn(e,t){var n=e.state.selection["main"];if(!n.empty){n=D(e.root);if(!n||0==n.rangeCount)return 1;var i=n.getRangeAt(0).getClientRects();for(let e=0;e<i.length;e++){var o=i[e];if(o.left<=t.clientX&&o.right>=t.clientX&&o.top<=t.clientY&&o.bottom>=t.clientY)return 1}}}function sn(n,i){if(!i.bubbles)return 1;if(!i.defaultPrevented){for(let e=i.target,t;e!=n.contentDOM;e=e.parentNode)if(!e||11==e.nodeType||(t=d.get(e))&&t.ignoreEvent(i))return;return 1}}const _=Object.create(null),M=Object.create(null),an=y.ie&&y.ie_version<15||y.ios&&y.webkit_version<604;function ln(e,o){let r=e["state"],t,s=1,a=r.toText(o),l=a.lines==r.selection.ranges.length;if(null!=vn&&r.selection.ranges.every(e=>e.empty)&&vn==a.toString()){let i=-1;t=r.changeByRange(e=>{var t=r.doc.lineAt(e.from);if(t.from==i)return{range:e};i=t.from;var n=r.toText((l?a.line(s++).text:o)+r.lineBreak);return{changes:{from:t.from,insert:n},range:R.EditorSelection.cursor(e.from+n.length)}})}else t=l?r.changeByRange(e=>{var t=a.line(s++);return{changes:{from:e.from,to:e.to,insert:t.text},range:R.EditorSelection.cursor(e.from+t.length)}}):r.replaceSelection(a);e.dispatch(t,{userEvent:"input.paste",scrollIntoView:!0})}function un(n,i,o,r){if(1==r)return R.EditorSelection.cursor(i,o);if(2==r){var[r,o,s=1]=[n.state,i,o];var a=r.charCategorizer(o),l=r.doc.lineAt(o),r=o-l.from;if(0==l.length)return R.EditorSelection.cursor(o);0==r?s=1:r==l.length&&(s=-1);let e=r,t=r;s<0?e=R.findClusterBreak(l.text,r,!1):t=R.findClusterBreak(l.text,r);for(var u=a(l.text.slice(e,t));0<e;){var d=R.findClusterBreak(l.text,e,!1);if(a(l.text.slice(d,e))!=u)break;e=d}for(;t<l.length;){var c=R.findClusterBreak(l.text,t);if(a(l.text.slice(t,c))!=u)break;t=c}return R.EditorSelection.range(e+l.from,t+l.from)}{o=v.find(n.docView,i),s=n.state.doc.lineAt(o?o.posAtEnd:i);let e=o?o.posAtStart:s.from,t=o?o.posAtEnd:s.to;return t<n.state.doc.length&&t==s.to&&t++,R.EditorSelection.range(e,t)}}M.scroll=e=>{e.inputState.lastScrollTop=e.scrollDOM.scrollTop,e.inputState.lastScrollLeft=e.scrollDOM.scrollLeft},_.keydown=(e,t)=>(e.inputState.setSelectionOrigin("select"),27==t.keyCode&&(e.inputState.lastEscPress=Date.now()),!1),M.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},M.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},_.mousedown=(t,n)=>{if(t.observer.flush(),!(t.inputState.lastTouchTime>Date.now()-2e3)){let e=null;for(var i of t.state.facet(Qe))if(e=i(t,n))break;if(e=e||0!=n.button?e:function(a,e){let l=mn(a,e),u=Rn(e),d=a.state.selection;return{update(e){e.docChanged&&(l.pos=e.changes.mapPos(l.pos),d=d.map(e.changes))},get(e,t,n){let i=mn(a,e),o,r=un(a,i.pos,i.bias,u);var s;return l.pos==i.pos||t||(e=un(a,l.pos,l.bias,u),s=Math.min(e.from,r.from),e=Math.max(e.to,r.to),r=s<r.from?R.EditorSelection.range(s,e):R.EditorSelection.range(e,s)),t?d.replaceRange(d.main.extend(r.from,r.to)):n&&1==u&&1<d.ranges.length&&(o=function(t,n){for(let e=0;e<t.ranges.length;e++){var{from:i,to:o}=t.ranges[e];if(i<=n&&n<=o)return R.EditorSelection.create(t.ranges.slice(0,e).concat(t.ranges.slice(e+1)),t.mainIndex==e?0:t.mainIndex-(t.mainIndex>e?1:0))}return null}(d,i.pos))?o:n?d.addRange(r):R.EditorSelection.create([r])}}}(t,n)){var o=!t.hasFocus,o=(t.inputState.startMouseSelection(new nn(t,n,e,o)),o&&t.observer.ignore(()=>Z(t.contentDOM)),t.inputState.mouseSelection);if(o)return o.start(n),!1===o.dragging}}return!1};let dn=(e,t)=>e>=t.top&&e<=t.bottom,cn=(e,t,n)=>dn(t,n)&&e>=n.left&&e<=n.right;function mn(e,t){var n,i,o=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:o,bias:(e=e,o=o,n=t.clientX,t=t.clientY,(e=v.find(e.docView,o))&&0!=(o=o-e.posAtStart)&&(o==e.length||(i=e.coordsAt(o,-1))&&cn(n,t,i)||(!(e=e.coordsAt(o,1))||!cn(n,t,e))&&i&&dn(t,i))?-1:1)}}const hn=y.ie&&y.ie_version<=11;let fn=null,pn=0,gn=0;function Rn(e){var t,n;return hn?(t=fn,n=gn,fn=e,gn=Date.now(),pn=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(pn+1)%3:1):e.detail}function yn(e,t,n,i){var o,r;n&&(o=e.posAtCoords({x:t.clientX,y:t.clientY},!1),r=e.inputState["draggedContent"],t=i&&r&&(i=t,(t=(t=e).state.facet(Ze)).length?t[0](i):y.mac?!i.altKey:!i.ctrlKey)?{from:r.from,to:r.to}:null,i={from:o,insert:n},r=e.state.changes(t?[t,i]:i),e.focus(),e.dispatch({changes:r,selection:{anchor:r.mapPos(o,-1),head:r.mapPos(o,1)},userEvent:t?"move.drop":"input.drop"}),e.inputState.draggedContent=null)}_.dragstart=(e,t)=>{let n=e.state["selection"]["main"];var i,o=(t.target.draggable&&(i=e.docView.nearest(t.target))&&i.isWidget&&(i=(o=i.posAtStart)+i.length,o>=n.to||i<=n.from)&&(n=R.EditorSelection.range(o,i)),e)["inputState"];return o.mouseSelection&&(o.mouseSelection.dragging=!0),o.draggedContent=n,t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(n.from,n.to)),t.dataTransfer.effectAllowed="copyMove"),!1},_.dragend=e=>(e.inputState.draggedContent=null,!1),_.drop=(t,o)=>{if(!o.dataTransfer)return!1;if(t.state.readOnly)return!0;let r=o.dataTransfer.files;if(r&&r.length){let n=Array(r.length),e=0,i=()=>{++e==r.length&&yn(t,o,n.filter(e=>null!=e).join(t.state.lineBreak),!1)};for(let t=0;t<r.length;t++){let e=new FileReader;e.onerror=i,e.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(e.result)||(n[t]=e.result),i()},e.readAsText(r[t])}return!0}var e=o.dataTransfer.getData("Text");return!!e&&(yn(t,o,e,!0),!0)},_.paste=(e,t)=>{if(e.state.readOnly)return!0;e.observer.flush();t=an?null:t.clipboardData;if(t)return ln(e,t.getData("text/plain")||t.getData("text/uri-text")),!0;var n=e,t=n.dom.parentNode;if(t){let e=t.appendChild(document.createElement("textarea"));e.style.cssText="position: fixed; left: -10000px; top: 10px",e.focus(),setTimeout(()=>{n.focus(),e.remove(),ln(n,e.value)},50)}return!1};let vn=null;_.copy=_.cut=(e,t)=>{var{text:n,ranges:i,linewise:o}=function(t){let n=[],i=[],o=!1;for(var e of t.selection.ranges)e.empty||(n.push(t.sliceDoc(e.from,e.to)),i.push(e));if(!n.length){let e=-1;for(var{from:r}of t.selection.ranges){r=t.doc.lineAt(r);r.number>e&&(n.push(r.text),i.push({from:r.from,to:Math.min(t.doc.length,r.to+1)})),e=r.number}o=!0}return{text:n.join(t.lineBreak),ranges:i,linewise:o}}(e.state);if(n||o){vn=o?n:null,"cut"!=t.type||e.state.readOnly||e.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});o=an?null:t.clipboardData;if(o)return o.clearData(),o.setData("text/plain",n),!0;var r=e,i=n,t=r.dom.parentNode;if(t){let e=t.appendChild(document.createElement("textarea"));e.style.cssText="position: fixed; left: -10000px; top: 10px",e.value=i,e.focus(),e.selectionEnd=i.length,e.selectionStart=0,setTimeout(()=>{e.remove(),r.focus()},50)}}return!1};const bn=R.Annotation.define();function Sn(e,t){var n,i=[];for(n of e.facet(it)){var o=n(e,t);o&&i.push(o)}return i?e.update({effects:i,annotations:bn.of(!0)}):null}function Cn(t){setTimeout(()=>{var e=t.hasFocus;e!=t.inputState.notifiedFocused&&((e=Sn(t.state,e))?t.dispatch(e):t.update([]))},10)}M.focus=e=>{e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),Cn(e)},M.blur=e=>{e.observer.clearSelectionRange(),Cn(e)},M.compositionstart=M.compositionupdate=e=>{null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0)},M.compositionend=e=>{e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionPendingKey=!0,e.inputState.compositionPendingChange=0<e.observer.pendingRecords().length,e.inputState.compositionFirstChange=null,y.chrome&&y.android?e.observer.flushSoon():e.inputState.compositionPendingChange?Promise.resolve().then(()=>e.observer.flush()):setTimeout(()=>{e.inputState.composing<0&&e.docView.hasComposition&&e.update([])},50)},M.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},_.beforeinput=(n,t)=>{var e;let i;if(y.chrome&&y.android&&(i=Jt.find(e=>e.inputType==t.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),"Backspace"==i.key||"Delete"==i.key)){let t=(null==(e=window.visualViewport)?void 0:e.height)||0;setTimeout(()=>{var e;((null==(e=window.visualViewport)?void 0:e.height)||0)>t+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return!1};const wn=new Set;function _n(e){wn.has(e)||(wn.add(e),e.addEventListener("copy",()=>{}),e.addEventListener("cut",()=>{}))}const Mn=["pre-wrap","normal","pre-line","break-spaces"];class On{constructor(e){this.lineWrapping=e,this.doc=R.Text.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return-1<Mn.indexOf(e)!=this.lineWrapping}mustRefreshForHeights(t){let n=!1;for(let e=0;e<t.length;e++){var i=t[e];i<0?e++:this.heightSamples[Math.floor(10*i)]||(n=!0,this.heightSamples[Math.floor(10*i)]=!0)}return n}refresh(e,t,n,i,o,r){var e=-1<Mn.indexOf(e),s=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=e;if(this.lineWrapping=e,this.lineHeight=t,this.charWidth=n,this.textHeight=i,this.lineLength=o,s){this.heightSamples={};for(let e=0;e<r.length;e++){var a=r[e];a<0?e++:this.heightSamples[Math.floor(10*a)]=!0}}return s}}class xn{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class O{constructor(e,t,n,i,o){this.from=e,this.length=t,this.top=n,this.height=i,this._content=o}get type(){return"number"==typeof this._content?C.BlockType.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof p?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(e){var t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new O(this.from,this.length+e.length,this.top,this.height+e.height,t)}}(t=h=h||{})[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight";class x{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return 0<(2&this.flags)}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(.001<Math.abs(this.height-t)&&(e.heightChanged=!0),this.height=t)}replace(e,t,n){return x.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(s,a,l,u){let d=this,c=l.doc;for(let r=u.length-1;0<=r;r--){let{fromA:e,toA:t,fromB:n,toB:i}=u[r],o=d.lineAt(e,h.ByPosNoHeight,l.setDoc(a),0,0);var m=o.to>=t?o:d.lineAt(t,h.ByPosNoHeight,l,0,0);for(i+=m.to-t,t=m.to;0<r&&o.from<=u[r-1].toA;)e=u[r-1].fromA,n=u[r-1].fromB,r--,e<o.from&&(o=d.lineAt(e,h.ByPosNoHeight,l,0,0));n+=o.from-e,e=o.from;m=Wn.build(l.setDoc(c),s,n,i);d=d.replace(e,t,m)}return d.updateHeight(l,0)}static empty(){return new B(0,0)}static of(e){if(1==e.length)return e[0];let t=0,n=e.length,i=0,o=0;for(;;){var r;if(t==n)if(i>2*o){var s=e[t-1];s.break?e.splice(--t,1,s.left,null,s.right):e.splice(--t,1,s.left,s.right),n+=1+s.break,i-=s.size}else{if(!(o>2*i))break;s=e[n];s.break?e.splice(n,1,s.left,null,s.right):e.splice(n,1,s.left,s.right),n+=2+s.break,o-=s.size}else i<o?(r=e[t++])&&(i+=r.size):(r=e[--n])&&(o+=r.size)}let a=0;return null==e[t-1]?(a=1,t--):null==e[t]&&(a=1,n++),new kn(x.of(e.slice(0,t)),a,x.of(e.slice(n)))}}x.prototype.size=1;class Bn extends x{constructor(e,t,n){super(e,t),this.deco=n}blockAt(e,t,n,i){return new O(i,this.length,n,this.height,this.deco||0)}lineAt(e,t,n,i,o){return this.blockAt(0,n,i,o)}forEachLine(e,t,n,i,o,r){e<=o+this.length&&o<=t&&r(this.blockAt(0,n,i,o))}updateHeight(e,t=0,n,i){return i&&i.from<=t&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class B extends Bn{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,n,i){return new O(i,this.length,n,this.height,this.breaks)}replace(e,t,n){let i=n[0];return 1==n.length&&(i instanceof B||i instanceof k&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof k?i=new B(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):x.of(n)}updateHeight(e,t=0,n=!1,i){return i&&i.from<=t&&i.more?this.setHeight(e,i.heights[i.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class k extends x{constructor(e){super(e,0)}heightMetrics(e,t){var n=e.doc.lineAt(t).number,t=e.doc.lineAt(t+this.length).number,i=t-n+1;let o,r=0;return e.lineWrapping?(e=Math.min(this.height,e.lineHeight*i),o=e/i,this.length>1+i&&(r=(this.height-e)/(this.length-i-1))):o=this.height/i,{firstLine:n,lastLine:t,perLine:o,perChar:r}}blockAt(e,t,n,i){var o,{firstLine:r,lastLine:s,perLine:a,perChar:l}=this.heightMetrics(t,i);return t.lineWrapping?(i=i+Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length),l=a+(i=t.doc.lineAt(i)).length*l,o=Math.max(n,e-l/2),new O(i.from,i.length,o,l,0)):(i=Math.max(0,Math.min(s-r,Math.floor((e-n)/a))),{from:o,length:l}=t.doc.line(r+i),new O(o,l,n+a*i,a,0))}lineAt(e,t,n,i,o){var r,s;return t==h.ByHeight?this.blockAt(e,n,i,o):t==h.ByPosNoHeight?({from:t,to:s}=n.doc.lineAt(e),new O(t,s-t,0,0,0)):({firstLine:s,perLine:t,perChar:r}=this.heightMetrics(n,o),e=t+(n=n.doc.lineAt(e)).length*r,s=i+t*(t=n.number-s)+r*(n.from-o-t),new O(n.from,n.length,Math.max(i,Math.min(s,i+this.height-e)),e,0))}forEachLine(n,i,o,r,s,a){n=Math.max(n,s),i=Math.min(i,s+this.length);var{firstLine:l,perLine:u,perChar:d}=this.heightMetrics(o,s);for(let e=n,t=r;e<=i;){var c=o.doc.lineAt(e),m=(e==n&&(m=c.number-l,t+=u*m+d*(n-s-m)),u+d*c.length);a(new O(c.from,c.length,t,m,0)),t+=m,e=c.to+1}}replace(e,t,n){var i,t=this.length-t;return 0<t&&((i=n[n.length-1])instanceof k?n[n.length-1]=new k(i.length+t):n.push(null,new k(t-1))),0<e&&((i=n[0])instanceof k?n[0]=new k(e+i.length):n.unshift(new k(e-1),null)),x.of(n)}decomposeLeft(e,t){t.push(new k(e-1),null)}decomposeRight(e,t){t.push(null,new k(this.length-e-1))}updateHeight(i,o=0,e=!1,r){var s=o+this.length;if(r&&r.from<=o+this.length&&r.more){let e=[],t=Math.max(o,r.from),n=-1;for(r.from>o&&e.push(new k(r.from-o-1).updateHeight(i,o));t<=s&&r.more;){var a=i.doc.lineAt(t).length,l=(e.length&&e.push(null),r.heights[r.index++]),l=(-1==n?n=l:.001<=Math.abs(l-n)&&(n=-2),new B(a,l));l.outdated=!1,e.push(l),t+=a+1}t<=s&&e.push(null,new k(s-t).updateHeight(i,t));var u=x.of(e);return(n<0||.001<=Math.abs(u.height-this.height)||.001<=Math.abs(n-this.heightMetrics(i,o).perLine))&&(i.heightChanged=!0),u}return(e||this.outdated)&&(this.setHeight(i,i.heightForGap(o,o+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class kn extends x{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return 1&this.flags}blockAt(e,t,n,i){var o=n+this.left.height;return e<o?this.left.blockAt(e,t,n,i):this.right.blockAt(e,t,o,i+this.left.length+this.break)}lineAt(e,t,n,i,o){var r=i+this.left.height,s=o+this.left.length+this.break,a=t==h.ByHeight?e<r:e<s,e=a?this.left.lineAt(e,t,n,i,o):this.right.lineAt(e,t,n,r,s);return this.break||(a?e.to<s:e.from>s)?e:(t=t==h.ByPosNoHeight?h.ByPosNoHeight:h.ByPos,a?e.join(this.right.lineAt(s,t,n,r,s)):this.left.lineAt(s,t,n,i,o).join(e))}forEachLine(e,t,n,i,o,r){var s,a=i+this.left.height,l=o+this.left.length+this.break;this.break?(e<l&&this.left.forEachLine(e,t,n,i,o,r),l<=t&&this.right.forEachLine(e,t,n,a,l,r)):(e<(s=this.lineAt(l,h.ByPos,n,i,o)).from&&this.left.forEachLine(e,s.from-1,n,i,o,r),s.to>=e&&s.from<=t&&r(s),t>s.to&&this.right.forEachLine(s.to+1,t,n,a,l,r))}replace(e,t,n){var i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,n));var o,r=[],i=(0<e&&this.decomposeLeft(e,r),r.length);for(o of n)r.push(o);return 0<e&&Fn(r,i-1),t<this.length&&(n=r.length,this.decomposeRight(t,r),Fn(r,n)),x.of(r)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&e>=++n&&t.push(null),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){var n=this.left.length,i=n+this.break;if(i<=e)return this.right.decomposeRight(e-i,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?x.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,i){let{left:o,right:r}=this,s=t+o.length+this.break,a=null;return i&&i.from<=t+o.length&&i.more?a=o=o.updateHeight(e,t,n,i):o.updateHeight(e,t,n),i&&i.from<=s+r.length&&i.more?a=r=r.updateHeight(e,s,n,i):r.updateHeight(e,s,n),a?this.balanced(o,r):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Fn(e,t){let n,i;null==e[t]&&(n=e[t-1])instanceof k&&(i=e[t+1])instanceof k&&e.splice(t-1,3,new k(n.length+1+i.length))}class Wn{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){var n,i;-1<this.lineStart&&(n=Math.min(t,this.lineEnd),(i=this.nodes[this.nodes.length-1])instanceof B?i.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new B(n-this.pos,-1)),(this.writtenTo=n)<t)&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1),this.pos=t}point(t,n,i){if(t<n||i.heightRelevant){let e=i.widget?i.widget.estimatedHeight:0;var o=i.widget?i.widget.lineBreaks:0,r=(e<0&&(e=this.oracle.lineHeight),n-t);i.block?this.addBlock(new Bn(r,e,i)):(r||o||5<=e)&&this.addLineDeco(e,o,r)}else t<n&&this.span(t,n);-1<this.lineEnd&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){var e,t;-1<this.lineStart||({from:e,to:t}=this.oracle.doc.lineAt(this.pos),this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new B(this.pos-e,-1)),this.writtenTo=this.pos)}blankContent(e,t){var n=new k(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();var e=this.nodes.length?this.nodes[this.nodes.length-1]:null;return e instanceof B||(e=new B(0,-1),this.nodes.push(e)),e}addBlock(e){this.enterLine();var t=e.deco;t&&0<t.startSide&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&0<t.endSide&&(this.covering=e)}addLineDeco(e,t,n){var i=this.ensureLine();i.length+=n,i.collapsed+=n,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){var t,n=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(-1<this.lineStart)||n instanceof B||this.isCovered?(this.writtenTo<this.pos||null==n)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new B(0,-1));let i=e;for(t of this.nodes)t instanceof B&&t.updateHeight(this.oracle,i),i+=t?t.length:1;return this.nodes}static build(e,t,n,i){e=new Wn(n,e);return R.RangeSet.spans(t,n,i,e,0),e.finish(n)}}function Tn(e,t,n){var i=new An;return R.RangeSet.compare(e,t,n,i,0),i.changes}class An{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,i){(e<t||n&&n.heightRelevant||i&&i.heightRelevant)&&Te(e,t,this.changes,5)}}function Dn(t,e){var n=t.getBoundingClientRect(),i=t.ownerDocument,o=i.defaultView||window;let r=Math.max(0,n.left),s=Math.min(o.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(o.innerHeight,n.bottom);for(let e=t.parentNode;e&&e!=i.body;)if(1==e.nodeType){var u,d=e,c=window.getComputedStyle(d);(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&"visible"!=c.overflow&&(u=d.getBoundingClientRect(),r=Math.max(r,u.left),s=Math.min(s,u.right),a=Math.max(a,u.top),l=e==t.parentNode?u.bottom:Math.min(l,u.bottom)),e="absolute"==c.position||"fixed"==c.position?d.offsetParent:d.parentNode}else{if(11!=e.nodeType)break;e=e.host}return{left:r-n.left,right:Math.max(r,s)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function Nn(e,t){e=e.getBoundingClientRect();return{left:0,right:e.right-e.left,top:t,bottom:e.bottom-(e.top+t)}}class En{constructor(e,t,n){this.from=e,this.to=t,this.size=n}static same(t,n){if(t.length!=n.length)return!1;for(let e=0;e<t.length;e++){var i=t[e],o=n[e];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,t){return l.replace({widget:new Pn(this.size*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class Pn extends o{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){var e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class In{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Un,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=C.Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;var t=e.facet(ht).some(e=>"function"!=typeof e&&"cm-lineWrapping"==e.class);this.heightOracle=new On(t),this.stateDeco=e.facet(ft).filter(e=>"function"!=typeof e),this.heightMap=x.empty().applyChanges(this.stateDeco,R.Text.empty,this.heightOracle.setDoc(e.doc),[new w(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=l.set(this.lineGaps.map(e=>e.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){var t,i,o=[this.viewport],r=this.state.selection["main"];for(let e=0;e<=1;e++){let n=e?r.head:r.anchor;o.some(({from:e,to:t})=>n>=e&&n<=t)||({from:t,to:i}=this.lineBlockAt(n),o.push(new Vn(t,i)))}this.viewports=o.sort((e,t)=>e.from-t.from),this.scaler=this.heightMap.height<=7e6?Un:new qn(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(1==this.scaler.scale?e:Yn(e,this.scaler))})}update(e,t=null){this.state=e.state;var n=this.stateDeco,i=(this.stateDeco=this.state.facet(ft).filter(e=>"function"!=typeof e),e.changedRanges),i=w.extendWithRanges(i,Tn(n,this.stateDeco,e?e.changes:R.ChangeSet.empty(this.state.doc.length))),n=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),i),this.heightMap.height!=n&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let r=i.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<r.from||t.range.head>r.to)||!this.viewportIsAppropriate(r))&&(r=this.getViewport(0,t));n=!e.changes.empty||2&e.flags||r.from!=this.viewport.from||r.to!=this.viewport.to;this.viewport=r,this.updateForViewport(),n&&this.updateViewportLines(),(this.lineGaps.length||4e3<this.viewport.to-this.viewport.from)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(rt)&&(this.mustEnforceCursorAssoc=!0)}measure(e){var t=e.contentDOM,n=window.getComputedStyle(t),i=this.heightOracle,o=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?C.Direction.RTL:C.Direction.LTR;let r=this.heightOracle.mustRefreshForWrapping(o);var s=t.getBoundingClientRect();let a=r||this.mustMeasureContent||this.contentDOMHeight!=s.height,l=(this.contentDOMHeight=s.height,this.mustMeasureContent=!1,0),u=0;s.width&&s.height&&({scaleX:d,scaleY:c}=G(t,s),this.scaleX==d&&this.scaleY==c||(this.scaleX=d,this.scaleY=c,l|=8,r=a=!0));var d=(parseInt(n.paddingTop)||0)*this.scaleY,c=(parseInt(n.paddingBottom)||0)*this.scaleY,n=(this.paddingTop==d&&this.paddingBottom==c||(this.paddingTop=d,this.paddingBottom=c,l|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,l|=8),e.scrollDOM.scrollTop*this.scaleY),d=(this.scrollTop!=n&&(this.scrollAnchorHeight=-1,this.scrollTop=n),this.scrolledToBottom=oe(e.scrollDOM),(this.printing?Nn:Dn)(t,this.paddingTop)),c=d.top-this.pixelViewport.top,n=d.bottom-this.pixelViewport.bottom,t=(this.pixelViewport=d,this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left);if(t!=this.inView&&(this.inView=t)&&(a=!0),!this.inView&&!this.scrollTarget)return 0;d=s.width;if(this.contentDOMWidth==d&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=s.width,this.editorHeight=e.scrollDOM.clientHeight,l|=8),a){var m,h,f=e.docView.measureVisibleLineHeights(this.viewport);((r=i.mustRefreshForHeights(f)?!0:r)||i.lineWrapping&&Math.abs(d-this.contentDOMWidth)>i.charWidth)&&({lineHeight:t,charWidth:s,textHeight:m}=e.docView.measureTextSize(),r=0<t&&i.refresh(o,t,s,m,d/s,f))&&(e.docView.minWidth=0,l|=8),0<c&&0<n?u=Math.max(c,n):c<0&&n<0&&(u=Math.min(c,n)),i.heightChanged=!1;for(h of this.viewports){var p=h.from==this.viewport.from?f:e.docView.measureVisibleLineHeights(h);this.heightMap=(r?x.empty().applyChanges(this.stateDeco,R.Text.empty,this.heightOracle,[new w(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,r,new xn(h.from,p))}i.heightChanged&&(l|=2)}o=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return o&&(this.viewport=this.getViewport(u,this.scrollTarget)),this.updateForViewport(),(2&l||o)&&this.updateViewportLines(),(this.lineGaps.length||4e3<this.viewport.to-this.viewport.from)&&this.updateLineGaps(this.ensureLineGaps(r?[]:this.lineGaps,e)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),l}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){var e=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:r,visibleBottom:s}=this;let a=new Vn(i.lineAt(r-1e3*e,h.ByHeight,o,0,0).from,i.lineAt(s+1e3*(1-e),h.ByHeight,o,0,0).to);if(n){r=n.range["head"];if(r<a.from||r>a.to){s=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top);let e=i.lineAt(r,h.ByPos,o,0,0),t;t="center"==n.y?(e.top+e.bottom)/2-s/2:"start"==n.y||"nearest"==n.y&&r<a.from?e.top:e.bottom-s,a=new Vn(i.lineAt(t-500,h.ByHeight,o,0,0).from,i.lineAt(t+s+500,h.ByHeight,o,0,0).to)}}return a}mapViewport(e,t){var n=t.mapPos(e.from,-1),t=t.mapPos(e.to,1);return new Vn(this.heightMap.lineAt(n,h.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(t,h.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){var i,o,r,s;return!this.inView||(i=this.heightMap.lineAt(e,h.ByPos,this.heightOracle,0,0)["top"],o=this.heightMap.lineAt(t,h.ByPos,this.heightOracle,0,0)["bottom"],{visibleTop:r,visibleBottom:s}=this,(0==e||i<=r-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||o>=s+Math.max(10,Math.min(n,250)))&&r-2e3<i&&o<s+2e3)}mapLineGaps(e,t){if(!e.length||t.empty)return e;var n,i=[];for(n of e)t.touchesRange(n.from,n.to)||i.push(new En(t.mapPos(n.from),t.mapPos(n.to),n.size));return i}ensureLineGaps(u,d){let c=this.heightOracle.lineWrapping,o=c?1e4:2e3,m=o>>1,e=o<<1;if(this.defaultTextDirection!=C.Direction.LTR&&!c)return[];let h=[],f=(i,o,r,s)=>{if(!(o-i<m)){let e=this.state.selection.main,n=[e.from];e.empty||n.push(e.to);for(var a of n)if(a>i&&a<o)return f(i,a-10,r,s),void f(a+10,o,r,s);let t=zn(u,t=>t.from>=r.from&&t.to<=r.to&&Math.abs(t.from-i)<m&&Math.abs(t.to-o)<m&&!n.some(e=>t.from<e&&t.to>e));var l;t||(o<r.to&&d&&c&&d.visibleRanges.some(e=>e.from<=o&&e.to>=o)&&(l=d.moveToLineBoundary(R.EditorSelection.cursor(o),!1,!0).head,i<l)&&(o=l),t=new En(i,o,this.gapSize(r,i,o,s))),h.push(t)}};for(var r of this.viewportLines)if(!(r.length<e)){var s=Ln(r.from,r.to,this.stateDeco);if(!(s.total<e)){var a=this.scrollTarget?this.scrollTarget.range.head:null;let n,i;if(c){var l=o/this.heightOracle.lineLength*this.heightOracle.lineHeight;let e,t;t=null!=a?(p=Hn(s,a),g=((this.visibleBottom-this.visibleTop)/2+l)/r.height,e=p-g,p+g):(e=(this.visibleTop-r.top-l)/r.height,(this.visibleBottom-r.top+l)/r.height),n=jn(s,e),i=jn(s,t)}else{var p=s.total*this.heightOracle.charWidth,g=o*this.heightOracle.charWidth;let e,t;t=null!=a?(l=Hn(s,a),a=((this.pixelViewport.right-this.pixelViewport.left)/2+g)/p,e=l-a,l+a):(e=(this.pixelViewport.left-g)/p,(this.pixelViewport.right+g)/p),n=jn(s,e),i=jn(s,t)}n>r.from&&f(r.from,n,r,s),i<r.to&&f(i,r.to,r,s)}}return h}gapSize(e,t,n,i){n=Hn(i,n)-Hn(i,t);return this.heightOracle.lineWrapping?e.height*n:i.total*this.heightOracle.charWidth*n}updateLineGaps(e){En.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=l.set(e.map(e=>e.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco,n=(this.lineGaps.length&&(e=e.concat(this.lineGapDeco)),[]);R.RangeSet.spans(e,this.viewport.from,this.viewport.to,{span(e,t){n.push({from:e,to:t})},point(){}},20);var t=n.length!=this.visibleRanges.length||this.visibleRanges.some((e,t)=>e.from!=n[t].from||e.to!=n[t].to);return this.visibleRanges=n,t?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(e=>e.from<=t&&e.to>=t)||Yn(this.heightMap.lineAt(t,h.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Yn(this.heightMap.lineAt(this.scaler.fromDOM(e),h.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){var t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||200<this.viewportLines[0].top-e?t:this.viewportLines[0]}elementAtHeight(e){return Yn(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Vn{constructor(e,t){this.from=e,this.to=t}}function Ln(e,t,n){let i=[],o=e,r=0;return R.RangeSet.spans(n,e,t,{span(){},point(e,t){e>o&&(i.push({from:o,to:e}),r+=e-o),o=t}},20),o<t&&(i.push({from:o,to:t}),r+=t-o),{total:r,ranges:i}}function jn({total:e,ranges:t},n){if(n<=0)return t[0].from;if(1<=n)return t[t.length-1].to;let i=Math.floor(e*n);for(let e=0;;e++){var{from:o,to:r}=t[e],r=r-o;if(i<=r)return o+i;i-=r}}function Hn(e,t){let n=0;for(var{from:i,to:o}of e.ranges){if(t<=o){n+=t-i;break}n+=o-i}return n/e.total}function zn(e,t){for(var n of e)if(t(n))return n}const Un={toDOM(e){return e},fromDOM(e){return e},scale:1};class qn{constructor(o,r,e){let s=0,t=0,n=0;this.viewports=e.map(({from:e,to:t})=>{var n=r.lineAt(e,h.ByPos,o,0,0).top,i=r.lineAt(t,h.ByPos,o,0,0).bottom;return s+=i-n,{from:e,to:t,top:n,bottom:i,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(r.height-s);for(var i of this.viewports)i.domTop=n+(i.top-t)*this.scale,n=i.domBottom=i.domTop+(i.bottom-i.top),t=i.bottom}toDOM(i){for(let e=0,t=0,n=0;;e++){var o=e<this.viewports.length?this.viewports[e]:null;if(!o||i<o.top)return n+(i-t)*this.scale;if(i<=o.bottom)return o.domTop+(i-o.top);t=o.bottom,n=o.domBottom}}fromDOM(i){for(let e=0,t=0,n=0;;e++){var o=e<this.viewports.length?this.viewports[e]:null;if(!o||i<o.domTop)return t+(i-n)/this.scale;if(i<=o.domBottom)return o.top+(i-o.domTop);t=o.bottom,n=o.domBottom}}}function Yn(e,t){var n,i;return 1==t.scale?e:(n=t.toDOM(e.top),i=t.toDOM(e.bottom),new O(e.from,e.length,n,i-n,Array.isArray(e._content)?e._content.map(e=>Yn(e,t)):e._content))}const Gn=R.Facet.define({combine:e=>e.join(" ")}),Kn=R.Facet.define({combine:e=>-1<e.indexOf(!0)}),$n=i.StyleModule.newName(),Xn=i.StyleModule.newName(),Jn=i.StyleModule.newName(),Zn={"&light":"."+Xn,"&dark":"."+Jn};function Qn(t,e,n){return new i.StyleModule(e,{finish(e){return/&/.test(e)?e.replace(/&\w*/,e=>{if("&"==e)return t;if(n&&n[e])return n[e];throw new RangeError("Unsupported selector: "+e)}):t+" "+e}})}const ei=Qn("."+$n,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Zn);class ti{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(R.EditorState.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=""}readRange(t,n){if(t){var i=t.parentNode;for(let e=t;;){this.findPointBefore(i,e);var o=this.text.length,r=(this.readNode(e),e.nextSibling);if(r==n)break;var s=d.get(e),a=d.get(r);(s&&a?s.breakAfter:(s?s.breakAfter:ii(e))||ii(r)&&("BR"!=e.nodeName||e.cmIgnore)&&this.text.length>o)&&this.lineBreak(),e=r}this.findPointBefore(i,n)}return this}readTextNode(r){var e,s=r.nodeValue;for(e of this.points)e.node==r&&(e.pos=this.text.length+Math.min(e.offset,s.length));for(let i=0,o=this.lineSeparator?null:/\r\n?|\n/g;;){let e=-1,t=1,n;if(this.lineSeparator?(e=s.indexOf(this.lineSeparator,i),t=this.lineSeparator.length):(n=o.exec(s))&&(e=n.index,t=n[0].length),this.append(s.slice(i,e<0?s.length:e)),e<0)break;if(this.lineBreak(),1<t)for(var a of this.points)a.node==r&&a.pos>this.text.length&&(a.pos-=t-1);i=e+t}}readNode(e){if(!e.cmIgnore){var t=d.get(e),t=t&&t.overrideDOMText;if(null!=t){this.findPointInside(e,t.length);for(var n=t.iter();!n.next().done;)n.lineBreak?this.lineBreak():this.append(n.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}}findPointBefore(e,t){for(var n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(var n of this.points)(3==e.nodeType?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(ni(e,n.node,n.offset)?t:0))}}function ni(e,t,n){for(;;){if(!t||n<s(t))return;if(t==e)return 1;n=U(t)+1,t=t.parentNode}}function ii(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}class oi{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class ri{constructor(n,i,o,r){this.typeOver=r,this.bounds=null,this.text="";var{impreciseHead:r,impreciseAnchor:s}=n.docView;if(n.state.readOnly&&-1<i)this.newSel=null;else if(-1<i&&(this.bounds=n.docView.domBoundsAround(i,o,0))){i=r||s?[]:ai(n),o=new ti(i,n.state);o.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=o.text,this.newSel=li(i,this.bounds.from)}else{o=n.observer.selectionRange;let e=r&&r.node==o.focusNode&&r.offset==o.focusOffset||!V(n.contentDOM,o.focusNode)?n.state.selection.main.head:n.docView.posFromDOM(o.focusNode,o.focusOffset),t=s&&s.node==o.anchorNode&&s.offset==o.anchorOffset||!V(n.contentDOM,o.anchorNode)?n.state.selection.main.anchor:n.docView.posFromDOM(o.anchorNode,o.anchorOffset);i=n.viewport;y.ios&&n.state.selection.main.empty&&e!=t&&(0<i.from||i.to<n.state.doc.length)&&(r=i.from-Math.min(e,t),s=i.to-Math.max(e,t),0!=r&&1!=r||0!=s&&-1!=s||(e=0,t=n.state.doc.length)),this.newSel=R.EditorSelection.single(t,e)}}}function si(i,n){let o,r=n["newSel"],s=i.state.selection.main;var a=i.inputState.lastKeyTime>Date.now()-100?i.inputState.lastKeyCode:-1;if(n.bounds){var{from:l,to:u}=n.bounds;let e=s.from,t=null;(8===a||y.android&&n.text.length<u-l)&&(e=s.to,t="end");u=function(e,t,n,i){let o=Math.min(e.length,t.length),r=0;for(;r<o&&e.charCodeAt(r)==t.charCodeAt(r);)r++;if(r==o&&e.length==t.length)return null;let s=e.length,a=t.length;for(;0<s&&0<a&&e.charCodeAt(s-1)==t.charCodeAt(a-1);)s--,a--;"end"==i&&(i=Math.max(0,r-Math.min(s,a)),n-=s+i-r);s<r&&e.length<t.length?(i=n<=r&&n>=s?r-n:0,r-=i,a=r+(a-s),s=r):a<r&&(i=n<=r&&n>=a?r-n:0,r-=i,s=r+(s-a),a=r);return{from:r,toA:s,toB:a}}(i.state.doc.sliceString(l,u,""),n.text,e-l,t);u&&(y.chrome&&13==a&&u.toB==u.from+2&&""==n.text.slice(u.from,u.toB)&&u.toB--,o={from:l+u.from,to:l+u.toA,insert:R.Text.of(n.text.slice(u.from,u.toB).split(""))})}else r&&(!i.hasFocus&&i.state.facet(lt)||r.main.eq(s))&&(r=null);if(!o&&!r)return!1;if(!o&&n.typeOver&&!s.empty&&r&&r.main.empty?o={from:s.from,to:s.to,insert:i.state.doc.slice(s.from,s.to)}:o&&o.from>=s.from&&o.to<=s.to&&(o.from!=s.from||o.to!=s.to)&&s.to-s.from-(o.to-o.from)<=4?o={from:s.from,to:s.to,insert:i.state.doc.slice(s.from,o.from).append(o.insert).append(i.state.doc.slice(o.to,s.to))}:(y.mac||y.android)&&o&&o.from==o.to&&o.from==s.head-1&&/^\. ?$/.test(o.insert.toString())&&"off"==i.contentDOM.getAttribute("autocorrect")?(r&&2==o.insert.length&&(r=R.EditorSelection.single(r.main.anchor-1,r.main.head-1)),o={from:s.from,to:s.to,insert:R.Text.of([" "])}):y.chrome&&o&&o.from==o.to&&o.from==s.head&&"\n "==o.insert.toString()&&i.lineWrapping&&(r=r&&R.EditorSelection.single(r.main.anchor-1,r.main.head-1),o={from:s.from,to:s.to,insert:R.Text.of([" "])}),o){if((!y.ios||!i.inputState.flushIOSKey())&&(!y.android||!(o.from==s.from&&o.to==s.to&&1==o.insert.length&&2==o.insert.lines&&ee(i.contentDOM,"Enter",13)||(o.from==s.from-1&&o.to==s.to&&0==o.insert.length||8==a&&o.insert.length<o.to-o.from&&o.to>s.head)&&ee(i.contentDOM,"Backspace",8)||o.from==s.from&&o.to==s.to+1&&0==o.insert.length&&ee(i.contentDOM,"Delete",46)))){let t=o.insert.toString();0<=i.inputState.composing&&i.inputState.composing++;let e,n=()=>e=e||function(u,d,t){let n,c=u.state,m=c.selection.main;if(d.from>=m.from&&d.to<=m.to&&d.to-d.from>=(m.to-m.from)/3&&(!t||t.main.empty&&t.main.from==d.from+d.insert.length)&&u.inputState.composing<0){var h=m.from<d.from?c.sliceDoc(m.from,d.from):"",e=m.to>d.to?c.sliceDoc(d.to,m.to):"";n=c.replaceSelection(u.state.toText(h+d.insert.sliceString(0,void 0,u.state.lineBreak)+e))}else{let a=c.changes(d),l=t&&t.main.to<=a.newLength?t.main:void 0;if(1<c.selection.ranges.length&&0<=u.inputState.composing&&d.to<=m.to&&d.to>=m.to-10){let i=u.state.sliceDoc(d.from,d.to),o,e=t&&Ot(u,t.main.head);o=e?(h=d.insert.length-(d.to-d.from),{from:e.from,to:e.to-h}):u.state.doc.lineAt(m.head);let r=m.to-d.to,s=m.to-m.from;n=c.changeByRange(e=>{var t,n;return e.from==m.from&&e.to==m.to?{changes:a,range:l||e.map(a)}:(t=(n=e.to-r)-i.length,e.to-e.from!=s||u.state.sliceDoc(t,n)!=i||e.to>=o.from&&e.from<=o.to?{range:e}:(t=c.changes({from:t,to:n,insert:d.insert}),n=e.to-m.to,{changes:t,range:l?R.EditorSelection.range(Math.max(0,l.anchor+n),Math.max(0,l.head+n)):e.map(t)}))})}else n={changes:a,selection:l&&c.selection.replaceRange(l)}}let i="input.type";(u.composing||u.inputState.compositionPendingChange&&u.inputState.compositionEndedAt>Date.now()-50)&&(u.inputState.compositionPendingChange=!1,i+=".compose",u.inputState.compositionFirstChange)&&(i+=".start",u.inputState.compositionFirstChange=!1);return c.update(n,{userEvent:i,scrollIntoView:!0})}(i,o,r);i.state.facet(nt).some(e=>e(i,o.from,o.to,t,n))||i.dispatch(n())}return!0}if(!r||r.main.eq(s))return!1;{let e=!1,t="select";return i.inputState.lastSelectionTime>Date.now()-50&&("select"==i.inputState.lastSelectionOrigin&&(e=!0),t=i.inputState.lastSelectionOrigin),i.dispatch({selection:r,scrollIntoView:e,userEvent:t}),!0}}function ai(e){var t,n,i,o=[];return e.root.activeElement==e.contentDOM&&({anchorNode:e,anchorOffset:t,focusNode:n,focusOffset:i}=e.observer.selectionRange,e)&&(o.push(new oi(e,t)),n==e&&i==t||o.push(new oi(n,i))),o}function li(e,t){var n;return 0!=e.length&&(n=e[0].pos,e=2==e.length?e[1].pos:n,-1<n)&&-1<e?R.EditorSelection.single(n+t,e+t):null}const ui={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},di=y.ie&&y.ie_version<=11;class ci{constructor(n){this.view=n,this.active=!1,this.selectionRange=new X,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=n.contentDOM,this.observer=new MutationObserver(e=>{for(var t of e)this.queue.push(t);(y.ie&&y.ie_version<=11||y.ios&&n.composing)&&e.some(e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():this.flush()}),di&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver(()=>{var e;(null==(e=this.view.docView)?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(n.scrollDOM)),this.addWindowListeners(this.win=n.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),0<e.length&&0<e[e.length-1].intersectionRatio!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView)&&this.onScrollChanged(document.createEvent("Event"))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(e=>{0<e.length&&0<e[e.length-1].intersectionRatio&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(n){if(this.gapIntersection&&(n.length!=this.gaps.length||this.gaps.some((e,t)=>e!=n[t]))){this.gapIntersection.disconnect();for(var e of n)this.gapIntersection.observe(e);this.gaps=n}}onSelectionChange(e){var t,n,i,o=this.selectionChanged;this.readSelectionRange()&&!this.delayedAndroidKey&&(t=this.view,n=this.selectionRange,t.state.facet(lt)?t.root.activeElement==this.dom:j(t.dom,n))&&((i=n.anchorNode&&t.docView.nearest(n.anchorNode))&&i.ignoreEvent(e)?o||(this.selectionChanged=!1):(y.ie&&y.ie_version<=11||y.android&&y.chrome)&&!t.state.selection.main.empty&&n.focusNode&&z(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){var e,t=this["view"],n=y.safari&&11==t.root.nodeType&&L(this.dom.ownerDocument)==this.dom&&hi(this.view)||D(t.root);return!(!n||this.selectionRange.eq(n)||((e=j(this.dom,n))&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&ie(this.dom,n)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),1):(this.selectionRange.setRange(n),e&&(this.selectionChanged=!0),0)))}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,n=null;for(let e=this.dom;e;)if(1==e.nodeType)!n&&t<this.scrollTargets.length&&this.scrollTargets[t]==e?t++:n=n||this.scrollTargets.slice(0,t),n&&n.push(e),e=e.assignedSlot||e.parentNode;else{if(11!=e.nodeType)break;e=e.host}if(n=t<this.scrollTargets.length&&!n?this.scrollTargets.slice(0,t):n){for(var e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(var i of this.scrollTargets=n)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,ui),di&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),di)&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData)}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){this.delayedAndroidKey||(this.flushingAndroidKey=this.view.win.requestAnimationFrame(()=>{var e=this.delayedAndroidKey;e&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=e.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush())&&e.force&&ee(this.dom,e.key,e.keyCode)})),this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!(null==(e=this.delayedAndroidKey)||!e.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){0<=this.delayedFlush&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(var e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){var e,t=this.pendingRecords();t.length&&(this.queue=[]);let n=-1,i=-1,o=!1;for(e of t){var r=this.readMutation(e);r&&(r.typeOver&&(o=!0),-1==n?{from:n,to:i}=r:(n=Math.min(r.from,n),i=Math.max(r.to,i)))}return{from:n,to:i,typeOver:o}}readChange(){var{from:e,to:t,typeOver:n}=this.processRecords(),i=this.selectionChanged&&j(this.dom,this.selectionRange);if(e<0&&!i)return null;-1<e&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;i=new ri(this.view,e,t,n);return this.view.docView.domChanged={newSel:i.newSel?i.newSel.main:null},i}flush(e=!0){if(0<=this.delayedFlush||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();var t,e=this.readChange();return e?(t=this.view.state,e=si(this.view,e),this.view.state==t&&this.view.update([]),e):(this.view.requestMeasure(),!1)}readMutation(e){var t,n,i=this.view.docView.nearest(e.target);return!i||i.ignoreMutation(e)?null:(i.markDirty("attributes"==e.type),"attributes"==e.type&&(i.flags|=4),"childList"==e.type?(t=mi(i,e.previousSibling||e.target.previousSibling,-1),n=mi(i,e.nextSibling||e.target.nextSibling,1),{from:t?i.posAfter(t):i.posAtStart,to:n?i.posBefore(n):i.posAtEnd,typeOver:!1}):"characterData"==e.type?{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null)}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t;this.stop(),null!=(e=this.intersection)&&e.disconnect(),null!=(e=this.gapIntersection)&&e.disconnect(),null!=(e=this.resizeScroll)&&e.disconnect();for(t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function mi(e,t,n){for(;t;){var i=d.get(t);if(i&&i.parent==e)return i;i=t.parentNode;t=i!=e.dom?i:0<n?t.nextSibling:t.previousSibling}return null}function hi(e){let t=null;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",n,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",n,!0),!t)return null;let i=t.startContainer,o=t.startOffset,r=t.endContainer,s=t.endOffset;e=e.docView.domAtPos(e.state.selection.main.anchor);return z(e.node,e.offset,r,s)&&([i,o,r,s]=[r,s,i,o]),{anchorNode:i,anchorOffset:o,focusNode:r,focusOffset:s}}class r{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return 0<this.inputState.composing}get compositionStarted(){return 0<=this.inputState.composing}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let t=e["dispatch"];this.dispatchTransactions=e.dispatchTransactions||(t?e=>e.forEach(e=>t(e,this)):e=>this.update(e)),this.dispatch=this.dispatch.bind(this),this._root=e.root||te(e.parent)||document,this.viewState=new In(e.state||R.EditorState.create(e)),e.scrollTo&&e.scrollTo.is(at)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(dt).map(e=>new ct(e));for(var n of this.plugins)n.update(this);this.observer=new ci(this),this.inputState=new Kt(this),this.inputState.ensureHandlers(this.plugins),this.docView=new wt(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...e){e=1==e.length&&e[0]instanceof R.Transaction?e:1==e.length&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(e,this)}update(s){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let a=!1,l=!1,u,d=this.state;for(var e of s){if(e.startState!=d)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");d=e.state}if(this.destroyed)this.viewState.state=d;else{let e=this.hasFocus,t=0,n=null,i=(s.some(e=>e.annotation(bn))?(this.inputState.notifiedFocused=e,t=1):e==this.inputState.notifiedFocused||(this.inputState.notifiedFocused=e,n=Sn(d,e))||(t=1),this.observer.delayedAndroidKey),o=null;if(i?(this.observer.clearDelayedAndroidKey(),(!(o=this.observer.readChange())||this.state.doc.eq(d.doc))&&this.state.selection.eq(d.selection)||(o=null)):this.observer.clear(),d.facet(R.EditorState.phrases)!=this.state.facet(R.EditorState.phrases))return this.setState(d);(u=Ct.create(this,d,s)).flags|=t;let r=this.viewState.scrollTarget;try{this.updateState=2;for(var c of s){var m,h;r=r&&r.map(c.changes),c.scrollIntoView&&(m=c.state.selection["main"],r=new st(m.empty?m:R.EditorSelection.cursor(m.head,m.head>m.anchor?-1:1)));for(h of c.effects)h.is(at)&&(r=h.value.clip(this.state))}this.viewState.update(u,r),this.bidiCache=gi.update(this.bidiCache,u.changes),u.empty||(this.updatePlugins(u),this.inputState.update(u)),a=this.docView.update(u),this.state.facet(St)!=this.styleModules&&this.mountStyles(),l=this.updateAttrs(),this.showAnnouncements(s),this.docView.updateSelection(a,s.some(e=>e.isUserEvent("select.pointer")))}finally{this.updateState=0}if(u.startState.facet(Gn)!=u.state.facet(Gn)&&(this.viewState.mustMeasureContent=!0),(a||l||r||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!u.empty)for(var f of this.state.facet(tt))try{f(u)}catch(e){b(this.state,e,"update listener")}(n||o)&&Promise.resolve().then(()=>{n&&this.state==n.startState&&this.dispatch(n),o&&!si(this,o)&&i.force&&ee(this.contentDOM,i.key,i.keyCode)})}}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)this.viewState.state=e;else{this.updateState=2;var t=this.hasFocus;try{for(var n of this.plugins)n.destroy(this);this.viewState=new In(e),this.plugins=e.facet(dt).map(e=>new ct(e)),this.pluginMap.clear();for(var i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new wt(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}}updatePlugins(e){var t=e.startState.facet(dt),n=e.state.facet(dt);if(t!=n){var i,o,r=[];for(i of n){var s=t.indexOf(i);s<0?r.push(new ct(i)):((s=this.plugins[s]).mustUpdate=e,r.push(s))}for(o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(var a of this.plugins)a.mustUpdate=e;for(let e=0;e<this.plugins.length;e++)this.plugins[e].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}measure(e=!0){if(!this.destroyed)if(-1<this.measureScheduled&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)this.measureScheduled=-1,this.requestMeasure();else{this.measureScheduled=0,e&&this.observer.forceFlush();let o=null,r=this.scrollDOM,s=r.scrollTop*this.scaleY,{scrollAnchorPos:a,scrollAnchorHeight:l}=this.viewState;1<Math.abs(s-this.viewState.scrollTop)&&(l=-1),this.viewState.scrollAnchorHeight=-1;try{for(let i=0;;i++){l<0&&(l=oe(r)?(a=-1,this.viewState.heightMap.height):(u=this.viewState.scrollAnchorAt(s),a=u.from,u.top)),this.updateState=1;var u,d=this.viewState.measure(this);if(!d&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(5<i){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let t=[];4&d||([this.measureRequests,t]=[t,this.measureRequests]);var c=t.map(e=>{try{return e.read(this)}catch(e){return b(this.state,e),pi}});let e=Ct.create(this,this.state,[]),n=!1;e.flags|=d,o?o.flags|=d:o=e,this.updateState=2,e.empty||(this.updatePlugins(e),this.inputState.update(e),this.updateAttrs(),n=this.docView.update(e));for(let e=0;e<t.length;e++)if(c[e]!=pi)try{var m=t[e];m.write&&m.write(c[e],this)}catch(e){b(this.state,e)}if(n&&this.docView.updateSelection(!0),!e.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=-1;continue}var h=(a<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(a).top)-l;if(1<h||h<-1){s+=h,r.scrollTop=s/this.scaleY,l=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(o&&!o.empty)for(var t of this.state.facet(tt))t(o)}}get themeClasses(){return $n+" "+(this.state.facet(Kn)?Jn:Xn)+" "+this.state.facet(Gn)}updateAttrs(){let n=Ri(this,mt,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),i={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(lt)?"true":"false",class:"cm-content",style:y.tabSize+": "+this.state.tabSize,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(i["aria-readonly"]="true"),Ri(this,ht,i);var e=this.observer.ignore(()=>{var e=xe(this.contentDOM,this.contentAttrs,i),t=xe(this.dom,this.editorAttrs,n);return e||t});return this.editorAttrs=n,this.contentAttrs=i,e}showAnnouncements(e){let t=!0;for(var n of e)for(var i of n.effects)i.is(r.announce)&&(t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=i.value)}mountStyles(){this.styleModules=this.state.facet(St);var e=this.state.facet(r.cspNonce);i.StyleModule.mount(this.root,this.styleModules.concat(ei).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&-1<this.measureScheduled&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),t&&!(-1<this.measureRequests.indexOf(t))){if(null!=t.key)for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key)return void(this.measureRequests[e]=t);this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(void 0===e||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find(e=>e.spec==t)||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return Gt(this,e,zt(this,e,t,n))}moveByGroup(t,e){return Gt(this,t,zt(this,t,e,e=>Ut(this,t.head,e)))}visualLineSide(e,t){var n=this.bidiSpans(e),i=this.textDirectionAt(e.from),n=n[t?n.length-1:0];return R.EditorSelection.cursor(n.side(t,i)+e.from,n.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,n=!0){return Ht(this,e,t,n)}moveVertically(e,t,n){return Gt(this,e,qt(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Vt(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();var n,i,o=this.docView.coordsAt(e,t);return o&&o.left!=o.right?(n=this.state.doc.lineAt(e),Y(o,(i=this.bidiSpans(n))[P.find(i,e-n.from,-1,t)].dir==C.Direction.LTR==0<t)):o}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(ot)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>fi)return Ke(e.length);let t=this.textDirectionAt(e.from),n;for(var i of this.bidiCache)if(i.from==e.from&&i.dir==t&&(i.fresh||qe(i.isolates,n=yt(this,e))))return i.order;n=n||yt(this,e);var o=Ge(e.text,t,n);return this.bidiCache.push(new gi(e.from,e.to,t,n,!0,o)),o}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||y.safari&&(null==(e=this.inputState)?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Z(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(var e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),-1<this.measureScheduled&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return at.of(new st("number"==typeof e?R.EditorSelection.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){var{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return at.of(new st(R.EditorSelection.cursor(n.from),"start","start",n.top-e,t,!0))}static domEventHandlers(e){return S.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return S.define(()=>({}),{eventObservers:e})}static theme(e,t){var n=i.StyleModule.newName(),n=[Gn.of(n),St.of(Qn("."+n,e))];return t&&t.dark&&n.push(Kn.of(!0)),n}static baseTheme(e){return R.Prec.lowest(St.of(Qn("."+$n,e,Zn)))}static findFromDOM(e){var t=e.querySelector(".cm-content"),t=t&&d.get(t)||d.get(e);return(null==(e=null==t?void 0:t.rootView)?void 0:e.view)||null}}r.styleModule=St,r.inputHandler=nt,r.focusChangeEffect=it,r.perLineTextDirection=ot,r.exceptionSink=et,r.updateListener=tt,r.editable=lt,r.mouseSelectionStyle=Qe,r.dragMovesSelection=Ze,r.clickAddsSelectionRange=Je,r.decorations=ft,r.outerDecorations=pt,r.atomicRanges=gt,r.bidiIsolatedRanges=Rt,r.scrollMargins=vt,r.darkTheme=Kn,r.cspNonce=R.Facet.define({combine:e=>e.length?e[0]:""}),r.contentAttributes=ht,r.editorAttributes=mt,r.lineWrapping=r.contentAttributes.of({class:"cm-lineWrapping"}),r.announce=R.StateEffect.define();const fi=4096,pi={};class gi{constructor(e,t,n,i,o,r){this.from=e,this.to=t,this.dir=n,this.isolates=i,this.fresh=o,this.order=r}static update(t,n){if(n.empty&&!t.some(e=>e.fresh))return t;var i=[],o=t.length?t[t.length-1].dir:C.Direction.LTR;for(let e=Math.max(0,t.length-10);e<t.length;e++){var r=t[e];r.dir!=o||n.touchesRange(r.from,r.to)||i.push(new gi(n.mapPos(r.from,1),n.mapPos(r.to,-1),r.dir,r.isolates,!1,r.order))}return i}}function Ri(n,i,o){for(let e=n.state.facet(i),t=e.length-1;0<=t;t--){var r=e[t],r="function"==typeof r?r(n):r;r&&_e(r,o)}return o}const yi=y.mac?"mac":y.windows?"win":y.linux?"linux":"key";function vi(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),e=!1!==n&&t.shiftKey?"Shift-"+e:e}me=R.Prec.default(r.domEventHandlers({keydown(e,t){return _i(Ci(t.state),e,t,"editor")}}));const bi=R.Facet.define({enables:me}),Si=new WeakMap;function Ci(e){e=e.facet(bi);let t=Si.get(e);return t||Si.set(e,t=function(e,u=yi){let a=Object.create(null),i=Object.create(null),l=(e,t)=>{var n=i[e];if(null==n)i[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},t=(i,e,t,n,o)=>{var r=a[i]||(a[i]=Object.create(null)),s=e.split(/ (?!$)/).map(r=>{{var s=u,a=r.split(/-(?!$)/);let e=a[a.length-1];"Space"==e&&(e=" ");let t,n,i,o;for(let e=0;e<a.length-1;++e){var l=a[e];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))i=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);"mac"==s?o=!0:n=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),o&&(e="Meta-"+e),e=i?"Shift-"+e:e}});for(let e=1;e<s.length;e++){let n=s.slice(0,e).join(" ");l(n,!0),r[n]||(r[n]={preventDefault:!0,stopPropagation:!1,run:[e=>{let t=F={view:e,prefix:n,scope:i};return setTimeout(()=>{F==t&&(F=null)},wi),!0}]})}var e=s.join(" "),e=(l(e,!1),r[e]||(r[e]={preventDefault:!1,stopPropagation:!1,run:(null==(e=null==(e=r._any)?void 0:e.run)?void 0:e.slice())||[]}));t&&e.run.push(t),n&&(e.preventDefault=!0),o&&(e.stopPropagation=!0)};for(var n of e){var o=n.scope?n.scope.split(" "):["editor"];if(n.any)for(var r of o){var s,d=a[r]||(a[r]=Object.create(null));for(s in d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]}),d)d[s].run.push(n.any)}var c=n[u]||n.key;if(c)for(var m of o)t(m,c,n.run,n.preventDefault,n.stopPropagation),n.shift&&t(m,"Shift-"+c,n.shift,n.preventDefault,n.stopPropagation)}return a}(e.reduce((e,t)=>e.concat(t),[]))),t}let F=null;const wi=4e3;function _i(e,n,i,t){var o=A.keyName(n),r=R.codePointAt(o,0),r=R.codePointSize(r)==o.length&&" "!=o;let s="",a=!1,l=!1,u=!1,d=(F&&F.view==i&&F.scope==t&&(s=F.prefix+" ",Qt.indexOf(n.keyCode)<0)&&(l=!0,F=null),new Set);var c=e=>{if(e){for(var t of e.run)if(!d.has(t)&&(d.add(t),t(i,n)))return e.stopPropagation&&(u=!0),!0;e.preventDefault&&(e.stopPropagation&&(u=!0),l=!0)}return!1};let m=e[t],h,f;return m&&(c(m[s+vi(o,n,!r)])?a=!0:r&&(n.altKey||n.metaKey||n.ctrlKey)&&!(y.windows&&n.ctrlKey&&n.altKey)&&(h=A.base[n.keyCode])&&h!=o?(c(m[s+vi(h,n,!0)])||n.shiftKey&&(f=A.shift[n.keyCode])!=o&&f!=h&&c(m[s+vi(f,n,!1)]))&&(a=!0):r&&n.shiftKey&&c(m[s+vi(o,n,!0)])&&(a=!0),!a)&&c(m._any)&&(a=!0),(a=l?!0:a)&&u&&n.stopPropagation(),a}class Mi{constructor(e,t,n,i,o){this.className=e,this.left=t,this.top=n,this.width=i,this.height=o}draw(){var e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className==this.className&&(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",null!=this.width&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){var i,o;return n.empty?(i=e.coordsAtPos(n.head,n.assoc||1))?(o=Oi(e),[new Mi(t,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]):[]:Bi(e,t,n)}}function Oi(e){var t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==C.Direction.LTR?t.left:t.right-e.scrollDOM.clientWidth*e.scaleX)-e.scrollDOM.scrollLeft*e.scaleX,top:t.top-e.scrollDOM.scrollTop*e.scaleY}}function xi(e,t,n){t=R.EditorSelection.cursor(t);return{from:Math.max(n.from,e.moveToLineBoundary(t,!1,!0).from),to:Math.min(n.to,e.moveToLineBoundary(t,!0,!0).from),type:C.BlockType.Text}}function Bi(g,o,e){if(e.to<=g.viewport.from||e.from>=g.viewport.to)return[];var t=Math.max(e.from,g.viewport.from),n=Math.min(e.to,g.viewport.to);let R=g.textDirection==C.Direction.LTR,i=g.contentDOM,r=i.getBoundingClientRect(),s=Oi(g);var a=i.querySelector(".cm-line"),a=a&&window.getComputedStyle(a);let y=r.left+(a?parseInt(a.paddingLeft)+Math.min(0,parseInt(a.textIndent)):0),v=r.right-(a?parseInt(a.paddingRight):0);var a=jt(g,t),l=jt(g,n);let u=a.type==C.BlockType.Text?a:null,d=l.type==C.BlockType.Text?l:null;return u&&(g.lineWrapping||a.widgetLineBreaks)&&(u=xi(g,t,u)),d&&(g.lineWrapping||l.widgetLineBreaks)&&(d=xi(g,n,d)),u&&d&&u.from==d.from?m(h(e.from,e.to,u)):(t=u?h(e.from,null,u):f(a,!1),n=d?h(null,e.to,d):f(l,!0),e=[],(u||a).to<(d||l).from-(u&&d?1:0)||1<a.widgetLineBreaks&&t.bottom+g.defaultLineHeight/2<n.top?e.push(c(y,t.bottom,v,n.top)):t.bottom<n.top&&g.elementAtHeight((t.bottom+n.top)/2).type==C.BlockType.Text&&(t.bottom=n.top=(t.bottom+n.top)/2),m(t).concat(e).concat(m(n)));function c(e,t,n,i){return new Mi(o,e-s.left,t-s.top-.01,n-e,i-t+.01)}function m({top:t,bottom:n,horizontal:i}){var o=[];for(let e=0;e<i.length;e+=2)o.push(c(i[e],t,i[e+1],n));return o}function h(n,i,r){let s=1e9,a=-1e9,l=[];function o(e,t,n,i,o){e=g.coordsAtPos(e,e==r.to?-2:2),n=g.coordsAtPos(n,n==r.from?2:-2);e&&n&&(s=Math.min(e.top,n.top,s),a=Math.max(e.bottom,n.bottom,a),o==C.Direction.LTR?l.push(R&&t?y:e.left,R&&i?v:n.right):l.push(!R&&i?y:n.left,!R&&t?v:e.right))}var u,d=null!=n?n:r.from,c=null!=i?i:r.to;for(u of g.visibleRanges)if(u.to>d&&u.from<c)for(let e=Math.max(u.from,d),t=Math.min(u.to,c);;){var m,h=g.state.doc.lineAt(e);for(m of g.bidiSpans(h)){var f=m.from+h.from,p=m.to+h.from;if(t<=f)break;p>e&&o(Math.max(f,e),null==n&&f<=d,Math.min(p,t),null==i&&c<=p,m.dir)}if((e=h.to+1)>=t)break}return 0==l.length&&o(d,null==n,c,null==i,g.textDirection),{top:s,bottom:a,horizontal:l}}function f(e,t){t=r.top+(t?e.top:e.bottom);return{top:t,bottom:t,horizontal:[]}}}function ki(e,t){return e.constructor==t.constructor&&e.eq(t)}class Fi{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Wi)!=e.state.facet(Wi)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}setOrder(e){let t=0,n=e.facet(Wi);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){var{scaleX:e,scaleY:t}=this.view;e==this.scaleX&&t==this.scaleY||(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(n){if(n.length!=this.drawn.length||n.some((e,t)=>!ki(e,this.drawn[t]))){let e=this.dom.firstChild,t=0;for(var i of n)i.update&&e&&i.constructor&&this.drawn[t].constructor&&i.update(e,this.drawn[t])?(e=e.nextSibling,t++):this.dom.insertBefore(i.draw(),e);for(;e;){var o=e.nextSibling;e.remove(),e=o}this.drawn=n}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Wi=R.Facet.define();function Ti(t){return[S.define(e=>new Fi(e,t)),Wi.of(t)]}const Ai=!y.ios,Di=R.Facet.define({combine(e){return R.combineConfig(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function Ni(e){return e.startState.facet(Di)!=e.state.facet(Di)}const Ei=Ti({above:!0,markers(e){var t,n=e["state"],i=n.facet(Di),o=[];for(t of n.selection.ranges){var r=t==n.selection.main;if(t.empty?!r||Ai:i.drawRangeCursor){var s,r=r?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=t.empty?t:R.EditorSelection.cursor(t.head,t.head>t.anchor?-1:1);for(s of Mi.forRange(e,r,a))o.push(s)}}return o},update(e,t){e.transactions.some(e=>e.selection)&&(t.style.animationName="cm-blink"==t.style.animationName?"cm-blink2":"cm-blink");var n=Ni(e);return n&&Pi(e.state,t),e.docChanged||e.selectionSet||n},mount(e,t){Pi(t.state,e)},class:"cm-cursorLayer"});function Pi(e,t){t.style.animationDuration=e.facet(Di).cursorBlinkRate+"ms"}const Ii=Ti({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:Mi.forRange(t,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(e,t){return e.docChanged||e.selectionSet||e.viewportChanged||Ni(e)},class:"cm-selectionLayer"});fe={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Ai&&(fe[".cm-line"].caretColor="transparent !important",fe[".cm-content"]={caretColor:"transparent !important"});const Vi=R.Prec.highest(r.theme(fe)),Li=R.StateEffect.define({map(e,t){return null==e?null:t.mapPos(e)}}),ji=R.StateField.define({create(){return null},update(e,t){return null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce((e,t)=>t.is(Li)?t.value:e,e)}}),Hi=S.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t,n=e.state.field(ji);null==n?null!=this.cursor&&(null!=(t=this.cursor)&&t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(ji)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){var e,t=this["view"],n=t.state.field(ji),n=null!=n&&t.coordsAtPos(n);return n?(e=t.scrollDOM.getBoundingClientRect(),{left:n.left-e.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-e.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}):null}drawCursor(e){var t,n;this.cursor&&({scaleX:t,scaleY:n}=this.view,e?(this.cursor.style.left=e.left/t+"px",this.cursor.style.top=e.top/n+"px",this.cursor.style.height=e.height/n+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(ji)!=e&&this.view.dispatch({effects:Li.of(e)})}},{eventObservers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function zi(i,o,r,s,a){o.lastIndex=0;for(let e=i.iterRange(r,s),t=r,n;!e.next().done;t+=e.value.length)if(!e.lineBreak)for(;n=o.exec(e.value);)a(t+n.index,n)}function Ui(e,t){var n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;var i,o,r=[];for({from:i,to:o}of n)i=Math.max(e.state.doc.lineAt(i).from,i-t),o=Math.min(e.state.doc.lineAt(o).to,o+t),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}class qi{constructor(e){const{regexp:t,decoration:o,decorate:r,boundary:n,maxLength:i=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,r)this.addMatch=(e,t,n,i)=>r(i,n,n+e[0].length,e,t);else if("function"==typeof o)this.addMatch=(e,t,n,i)=>{t=o(e,t,n);t&&i(n,n+e[0].length,t)};else{if(!o)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(e,t,n,i)=>i(n,n+e[0].length,o)}this.boundary=n,this.maxLength=i}createDeco(n){let e=new R.RangeSetBuilder,i=e.add.bind(e);for(var{from:t,to:o}of Ui(n,this.maxLength))zi(n.state.doc,this.regexp,t,o,(e,t)=>this.addMatch(t,n,e,i));return e.finish()}updateDeco(o,e){let r=1e9,s=-1;return o.docChanged&&o.changes.iterChanges((e,t,n,i)=>{i>o.view.viewport.from&&n<o.view.viewport.to&&(r=Math.min(n,r),s=Math.max(i,s))}),o.viewportChanged||1e3<s-r?this.createDeco(o.view):-1<s?this.updateRange(o.view,e.map(o.changes),r,s):e}updateRange(a,l,e,n){for(var u of a.visibleRanges){let t=Math.max(u.from,e),s=Math.min(u.to,n);if(s>t){var d=a.state.doc.lineAt(t),c=d.to<s?a.state.doc.lineAt(s):d;let n=Math.max(u.from,d.from),i=Math.min(u.to,c.to);if(this.boundary){for(;t>d.from;t--)if(this.boundary.test(d.text[t-1-d.from])){n=t;break}for(;s<c.to;s++)if(this.boundary.test(c.text[s-c.from])){i=s;break}}let o=[],e,r=(e,t,n)=>o.push(n.range(e,t));if(d==c)for(this.regexp.lastIndex=n-d.from;(e=this.regexp.exec(d.text))&&e.index<i-d.from;)this.addMatch(e,a,e.index+d.from,r);else zi(a.state.doc,this.regexp,n,i,(e,t)=>this.addMatch(t,a,e,r));l=l.update({filterFrom:n,filterTo:i,filter:(e,t)=>e<n||t>i,add:o})}}return l}}const Yi=null!=/x/.unicode?"gu":"g",Gi=new RegExp("[\0-\b\n--\u2028\u2029\ufeff-]",Yi),Ki={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let $i=null;const Xi=R.Facet.define({combine(e){var t,n,e=R.combineConfig(e,{render:null,specialChars:Gi,addSpecialChars:null});return(e.replaceTabs=(null==$i&&"undefined"!=typeof document&&document.body&&(n=document.body.style,$i=null!=(null!=(t=n.tabSize)?t:n.MozTabSize)),!$i))&&(e.specialChars=new RegExp("\t|"+e.specialChars.source,Yi)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Yi)),e}});let Ji=null;function Zi(e){return 32<=e?"":10==e?"":String.fromCharCode(9216+e)}class Qi extends o{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){var t=Zi(this.code),e=e.state.phrase("Control character")+" "+(Ki[this.code]||"0x"+this.code.toString(16)),n=this.options.render&&this.options.render(this.code,e,t);return n||((n=document.createElement("span")).textContent=t,n.title=e,n.setAttribute("aria-label",e),n.className="cm-specialChar",n)}ignoreEvent(){return!1}}class eo extends o{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){var e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const to=S.fromClass(class{constructor(){this.height=1e3,this.attrs={style:"padding-bottom: 1000px"}}update(e){e=e.view,e=e.viewState.editorHeight*e.scaleY-e.defaultLineHeight-e.documentPadding.top-.5;0<=e&&e!=this.height&&(this.height=e,this.attrs={style:`padding-bottom: ${e}px`})}});const no=l.line({class:"cm-activeLine"}),io=S.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];for(var i of e.state.selection.ranges){i=e.lineBlockAt(i.head);i.from>t&&(n.push(no.range(i.from)),t=i.from)}return l.set(n)}},{decorations:e=>e.decorations});class oo extends o{constructor(e){super(),this.content=e}toDOM(){var e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild("string"==typeof this.content?document.createTextNode(this.content):this.content),"string"==typeof this.content?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){var t=e.firstChild?H(e.firstChild):[];return t.length?(e=window.getComputedStyle(e.parentNode),t=Y(t[0],"rtl"!=e.direction),e=parseInt(e.lineHeight),t.bottom-t.top>1.5*e?{left:t.left,right:t.right,top:t.top,bottom:t.top+e}:t):null}ignoreEvent(){return!1}}const ro=2e3;function so(e,t){var n,i=e.posAtCoords({x:t.clientX,y:t.clientY},!1),o=e.state.doc.lineAt(i),r=i-o.from,s=r>ro?-1:r==o.length?(n=e,t=t.clientX,(s=n.coordsAtPos(n.viewport.from))?Math.round(Math.abs((s.left-t)/n.defaultCharacterWidth)):-1):R.countColumn(o.text,e.state.tabSize,i-o.from);return{line:o.number,col:s,off:r}}function ao(i,e){let o=so(i,e),r=i.state.selection;return o?{update(e){var t;e.docChanged&&(t=e.changes.mapPos(e.startState.doc.line(o.line).from),t=e.state.doc.lineAt(t),o={line:t.number,col:o.col,off:Math.min(o.off,t.length)},r=r.map(e.changes))},get(e,t,n){var e=so(i,e);return e&&(e=function(t,e,n){var i=Math.min(e.line,n.line),o=Math.max(e.line,n.line),r=[];if(e.off>ro||n.off>ro||e.col<0||n.col<0){var s=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let e=i;e<=o;e++){var l=t.doc.line(e);l.length<=a&&r.push(R.EditorSelection.range(l.from+s,l.to+a))}}else{var u=Math.min(e.col,n.col),d=Math.max(e.col,n.col);for(let e=i;e<=o;e++){var c,m=t.doc.line(e),h=R.findColumn(m.text,u,t.tabSize,!0);h<0?r.push(R.EditorSelection.cursor(m.to)):(c=R.findColumn(m.text,d,t.tabSize),r.push(R.EditorSelection.range(m.from+h,m.from+c)))}}return r}(i.state,o,e)).length?n?R.EditorSelection.create(e.concat(r.ranges)):R.EditorSelection.create(e):r}}:null}const lo={Alt:[18,e=>!!e.altKey],Control:[17,e=>!!e.ctrlKey],Shift:[16,e=>!!e.shiftKey],Meta:[91,e=>!!e.metaKey]},uo={style:"cursor: crosshair"};const co="-10000px";class mo{constructor(e,t,n){this.facet=t,this.createTooltipView=n,this.input=e.state.facet(t),this.tooltips=this.input.filter(e=>e),this.tooltipViews=this.tooltips.map(n)}update(i,o){var e,t=i.state.facet(this.facet),r=t.filter(e=>e);if(t===this.input){for(var n of this.tooltipViews)n.update&&n.update(i);return!1}var s,a,l=[],u=o?[]:null;for(let e=0;e<r.length;e++){let t=r[e],n=-1;if(t){for(let e=0;e<this.tooltips.length;e++){var d=this.tooltips[e];d&&d.create==t.create&&(n=e)}n<0?(l[e]=this.createTooltipView(t),u&&(u[e]=!!t.above)):(s=l[e]=this.tooltipViews[n],u&&(u[e]=o[n]),s.update&&s.update(i))}}for(a of this.tooltipViews)l.indexOf(a)<0&&(a.dom.remove(),null!=(e=a.destroy))&&e.call(a);return o&&(u.forEach((e,t)=>o[t]=e),o.length=u.length),this.input=t,this.tooltips=r,this.tooltipViews=l,!0}}function ho(e){e=e.win;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const fo=R.Facet.define({combine:e=>{var t;return{position:y.ios?"absolute":(null==(t=e.find(e=>e.position))?void 0:t.position)||"fixed",parent:(null==(t=e.find(e=>e.parent))?void 0:t.parent)||null,tooltipSpace:(null==(t=e.find(e=>e.tooltipSpace))?void 0:t.tooltipSpace)||ho}}}),po=new WeakMap,go=S.fromClass(class{constructor(e){this.view=e,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;var t=e.state.facet(fo);this.position=t.position,this.parent=t.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new mo(e,yo,e=>this.createTooltip(e)),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver(e=>{Date.now()>this.lastTransaction-50&&0<e.length&&e[e.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),e.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(var e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());var t=this.manager.update(e,this.above);t&&this.observeIntersection();let n=t||e.geometryChanged;t=e.state.facet(fo);if(t.position!=this.position&&!this.madeAbsolute){this.position=t.position;for(var i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(t.parent!=this.parent){this.parent&&this.container.remove(),this.parent=t.parent,this.createContainer();for(var o of this.manager.tooltipViews)this.container.appendChild(o.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(e){var t=e.create(this.view);return t.dom.classList.add("cm-tooltip"),e.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")&&((e=document.createElement("div")).className="cm-tooltip-arrow",t.dom.appendChild(e)),t.dom.style.position=this.position,t.dom.style.top=co,t.dom.style.left="0px",this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}destroy(){var e,t,n;this.view.win.removeEventListener("resize",this.measureSoon);for(n of this.manager.tooltipViews)n.dom.remove(),null!=(e=n.destroy)&&e.call(n);this.parent&&this.container.remove(),null!=(t=this.intersectionObserver)&&t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){var e,t=this.view.dom.getBoundingClientRect();let n=1,i=1,o=!1;return"fixed"==this.position&&this.manager.tooltipViews.length&&(e=this.manager.tooltipViews[0]["dom"],y.gecko?o=e.offsetParent!=this.container.ownerDocument.body:e.style.top==co&&"0px"==e.style.left&&(e=e.getBoundingClientRect(),o=1<Math.abs(e.top+1e4)||1<Math.abs(e.left))),!o&&"absolute"!=this.position||(this.parent?(e=this.parent.getBoundingClientRect()).width&&e.height&&(n=e.width/this.parent.offsetWidth,i=e.height/this.parent.offsetHeight):{scaleX:n,scaleY:i}=this.view.viewState),{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((e,t)=>{t=this.manager.tooltipViews[t];return t.getCoords?t.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(fo).tooltipSpace(this.view),scaleX:n,scaleY:i,makeAbsolute:o}}writeMeasure(r){if(r.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(var e of this.manager.tooltipViews)e.dom.style.position="absolute"}var{editor:t,space:s,scaleX:a,scaleY:l}=r,u=[];for(let o=0;o<this.manager.tooltips.length;o++){var d=this.manager.tooltips[o],c=this.manager.tooltipViews[o],m=c["dom"],h=r.pos[o],f=r.size[o];if(!h||h.bottom<=Math.max(t.top,s.top)||h.top>=Math.min(t.bottom,s.bottom)||h.right<Math.max(t.left,s.left)-.1||h.left>Math.min(t.right,s.right)+.1)m.style.top=co;else{var p=d.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,g=p?7:0;let e=f.right-f.left,t=null!=(R=po.get(c))?R:f.bottom-f.top;var R=c.offset||Ro,y=this.view.textDirection==C.Direction.LTR,v=f.width>s.right-s.left?y?s.left:s.right-f.width:y?Math.min(h.left-(p?14:0)+R.x,s.right-e):Math.max(s.left,h.left-e+(p?14:0)-R.x);let n=this.above[o];d=((n=!d.strictSide&&(n?h.top-(f.bottom-f.top)-R.y<s.top:h.bottom+(f.bottom-f.top)+R.y>s.bottom)&&n==s.bottom-h.bottom>h.top-s.top?this.above[o]=!n:n)?h.top-s.top:s.bottom-h.bottom)-g;if(d<t&&!1!==c.resize){if(d<this.view.defaultLineHeight){m.style.top=co;continue}po.set(c,t),m.style.height=(t=d)/l+"px"}else m.style.height&&(m.style.height="");let i=n?h.top-t-g-R.y:h.bottom+g+R.y;var b=v+e;if(!0!==c.overlap)for(var S of u)S.left<b&&S.right>v&&S.top<i+t&&S.bottom>i&&(i=n?S.top-t-2-g:S.bottom+g+2);"absolute"==this.position?(m.style.top=(i-r.parent.top)/l+"px",m.style.left=(v-r.parent.left)/a+"px"):(m.style.top=i/l+"px",m.style.left=v/a+"px"),p&&(f=h.left+(y?R.x:-R.x)-(v+14-7),p.style.left=f/a+"px"),!0!==c.overlap&&u.push({left:v,top:i,right:b,bottom:i+t}),m.classList.toggle("cm-tooltip-above",n),m.classList.toggle("cm-tooltip-below",!n),c.positioned&&c.positioned(r.space)}}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView)&&(this.inView=this.view.inView,!this.inView))for(var e of this.manager.tooltipViews)e.dom.style.top=co}},{eventObservers:{scroll(){this.maybeMeasure()}}});pe=r.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}});const Ro={x:0,y:0},yo=R.Facet.define({enables:[go,pe]}),vo=R.Facet.define();class bo{static create(e){return new bo(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new mo(e,vo,e=>this.createHostedView(e))}createHostedView(e){e=e.create(this.view);return e.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(e.dom),this.mounted&&e.mount&&e.mount(this.view),e}mount(e){for(var t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(var t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e,t;for(t of this.manager.tooltipViews)null!=(e=t.destroy)&&e.call(t)}passProp(e){let t=void 0;for(var n of this.manager.tooltipViews){n=n[e];if(void 0!==n)if(void 0===t)t=n;else if(t!==n)return}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const So=yo.compute([vo],e=>{e=e.facet(vo).filter(e=>e);return 0===e.length?null:{pos:Math.min(...e.map(e=>e.pos)),end:Math.max(...e.map(e=>{var t;return null!=(t=e.end)?t:e.pos})),create:bo.create,above:e[0].above,arrow:e.some(e=>e.arrow)}});class Co{constructor(e,t,n,i,o){this.view=e,this.source=t,this.field=n,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){var e;this.hoverTimeout=-1,this.active||((e=Date.now()-this.lastMove.time)<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover())}startHover(){clearTimeout(this.restartTimeout);let{view:i,lastMove:t}=this;var o=i.docView.nearest(t.target);if(o){let n,e=1;if(o instanceof m)n=o.posAtStart;else{if(null==(n=i.posAtCoords(t)))return;o=i.coordsAtPos(n);if(!o||t.y<o.top||t.y>o.bottom||t.x<o.left-i.defaultCharacterWidth||t.x>o.right+i.defaultCharacterWidth)return;var r=i.bidiSpans(i.state.doc.lineAt(n)).find(e=>e.from<=n&&e.to>=n),r=r&&r.dir==C.Direction.RTL?-1:1;e=t.x<o.left?-r:r}o=this.source(i,n,e);if(null!=o&&o.then){let t=this.pending={pos:n};o.then(e=>{this.pending==t&&(this.pending=null,e)&&i.dispatch({effects:this.setHover.of(e)})},e=>b(i.state,e,"hover tooltip"))}else o&&i.dispatch({effects:this.setHover.of(o)})}}get tooltip(){var e=this.view.plugin(go),t=e?e.manager.tooltips.findIndex(e=>e.create==bo.create):-1;return-1<t?e.manager.tooltipViews[t]:null}mousemove(e){this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));var{active:t,tooltip:n}=this;(t&&n&&!_o(n.dom,e)||this.pending)&&(n=(t||this.pending)["pos"],n==(t=null!=(t=null==t?void 0:t.end)?t:n)?this.view.posAtCoords(this.lastMove)!=n:!Mo(this.view,n,t,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;var t=this["active"];t&&(t=this["tooltip"],t&&t.dom.contains(e.relatedTarget)?this.watchTooltipLeave(t.dom):this.view.dispatch({effects:this.setHover.of(null)}))}watchTooltipLeave(t){let n=e=>{t.removeEventListener("mouseleave",n),this.active&&!this.view.dom.contains(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})};t.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const wo=4;function _o(e,t){e=e.getBoundingClientRect();return t.clientX>=e.left-wo&&t.clientX<=e.right+wo&&t.clientY>=e.top-wo&&t.clientY<=e.bottom+wo}function Mo(e,t,n,i,o){var r=e.scrollDOM.getBoundingClientRect(),s=e.documentTop+e.documentPadding.top+e.contentHeight;if(!(r.left>i||r.right<i||r.top>o||Math.min(r.bottom,s)<o))return t<=(r=e.posAtCoords({x:i,y:o},!1))&&r<=n}const Oo=R.StateEffect.define();ye=Oo.of(null);const xo=R.Facet.define({combine(e){let t,n;for(var i of e)t=t||i.topContainer,n=n||i.bottomContainer;return{topContainer:t,bottomContainer:n}}});const Bo=S.fromClass(class{constructor(t){this.input=t.state.facet(Wo),this.specs=this.input.filter(e=>e),this.panels=this.specs.map(e=>e(t));var e,n=t.state.facet(xo);this.top=new ko(t,!0,n.topContainer),this.bottom=new ko(t,!1,n.bottomContainer),this.top.sync(this.panels.filter(e=>e.top)),this.bottom.sync(this.panels.filter(e=>!e.top));for(e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(n){var e=n.state.facet(xo),e=(this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new ko(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new ko(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses(),n.state.facet(Wo));if(e!=this.input){var i,t,e=e.filter(e=>e),o=[],r=[],s=[],a=[];for(i of e){let e=this.specs.indexOf(i),t;e<0?(t=i(n.view),a.push(t)):(t=this.panels[e]).update&&t.update(n),o.push(t),(t.top?r:s).push(t)}this.specs=e,this.panels=o,this.top.sync(r),this.bottom.sync(s);for(t of a)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}else for(var l of this.panels)l.update&&l.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>r.scrollMargins.of(e=>{e=e.plugin(t);return e&&{top:e.top.scrollMargin(),bottom:e.bottom.scrollMargin()}})});class ko{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(var t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)this.dom&&(this.dom.remove(),this.dom=void 0);else{var t,n;this.dom||(this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0",(t=this.container||this.view.dom).insertBefore(this.dom,this.top?t.firstChild:null));let e=this.dom.firstChild;for(n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=Fo(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=Fo(e)}}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(var e of this.classes.split(" "))e&&this.container.classList.remove(e);for(var t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function Fo(e){var t=e.nextSibling;return e.remove(),t}const Wo=R.Facet.define({enables:Bo});class W extends R.RangeValue{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}W.prototype.elementClass="",W.prototype.toDOM=void 0,W.prototype.mapMode=R.MapMode.TrackBefore,W.prototype.startSide=W.prototype.endSide=-1,W.prototype.point=!0;const To=R.Facet.define(),Ao={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>R.RangeSet.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Do=R.Facet.define();const No=R.Facet.define({combine:e=>e.some(e=>e)});function Eo(e){var t=[Po];return e&&!1===e.fixed&&t.push(No.of(!0)),t}const Po=S.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Do).map(e=>new jo(t,e));for(var e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(No),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(e){var t,n;this.updateGutters(e)&&(n=this.prevViewport,t=e.view.viewport,n=Math.min(n.to,t.to)-Math.max(n.from,t.from),this.syncGutters(n<.8*(t.to-t.from))),e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(No)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}syncGutters(e){var t=this.dom.nextSibling,n=(e&&this.dom.remove(),R.RangeSet.iter(this.view.state.facet(To),this.view.viewport.from));let i=[];var o,r,s=this.gutters.map(e=>new Lo(e,this.view.viewport,-this.view.documentPadding.top));for(o of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(o.type)){let e=!0;for(var a of o.type)if(a.type==C.BlockType.Text&&e){Vo(n,i,a.from);for(var l of s)l.line(this.view,a,i);e=!1}else if(a.widget)for(var u of s)u.widget(this.view,a)}else if(o.type==C.BlockType.Text){Vo(n,i,o.from);for(var d of s)d.line(this.view,o,i)}else if(o.widget)for(var c of s)c.widget(this.view,o);for(r of s)r.finish();e&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(e){var t=e.startState.facet(Do),n=e.state.facet(Do);let i=e.docChanged||e.heightChanged||e.viewportChanged||!R.RangeSet.eq(e.startState.facet(To),e.state.facet(To),e.view.viewport.from,e.view.viewport.to);if(t==n)for(var o of this.gutters)o.update(e)&&(i=!0);else{i=!0;var r,s,a,l=[];for(r of n){var u=t.indexOf(r);u<0?l.push(new jo(this.view,r)):(this.gutters[u].update(e),l.push(this.gutters[u]))}for(s of this.gutters)s.dom.remove(),l.indexOf(s)<0&&s.destroy();for(a of l)this.dom.appendChild(a.dom);this.gutters=l}return i}destroy(){for(var e of this.gutters)e.destroy();this.dom.remove()}},{provide:n=>r.scrollMargins.of(e=>{var t=e.plugin(n);return t&&0!=t.gutters.length&&t.fixed?e.textDirection==C.Direction.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}:null})});function Io(e){return Array.isArray(e)?e:[e]}function Vo(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}class Lo{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=R.RangeSet.iter(e.markers,t.from)}addElement(e,t,n){var i,o=this["gutter"],r=(t.top-this.height)/e.scaleY,s=t.height/e.scaleY;this.i==o.elements.length?(i=new Ho(e,s,r,n),o.elements.push(i),o.dom.appendChild(i.dom)):o.elements[this.i].update(e,s,r,n),this.height=t.bottom,this.i++}line(e,t,n){let i=[];Vo(this.cursor,i,t.from),n.length&&(i=i.concat(n));n=this.gutter.config.lineMarker(e,t,i),n&&i.unshift(n),n=this.gutter;0==i.length&&!n.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){var n=this.gutter.config.widgetMarker(e,t.widget,t);n&&this.addElement(e,t,[n])}finish(){for(var e=this.gutter;e.elements.length>this.i;){var t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class jo{constructor(r,s){this.view=r,this.config=s,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let o in s.domEventHandlers)this.dom.addEventListener(o,e=>{let t=e.target,n;if(t!=this.dom&&this.dom.contains(t)){for(;t.parentNode!=this.dom;)t=t.parentNode;var i=t.getBoundingClientRect();n=(i.top+i.bottom)/2}else n=e.clientY;i=r.lineBlockAtHeight(n-r.documentTop);s.domEventHandlers[o](r,i,e)&&e.preventDefault()});this.markers=Io(s.markers(r)),s.initialSpacer&&(this.spacer=new Ho(r,0,0,[s.initialSpacer(r)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){var t=this.markers,n=(this.markers=Io(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer&&(n=this.config.updateSpacer(this.spacer.markers[0],e))!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[n]),e.view.viewport);return!R.RangeSet.eq(this.markers,t,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(var e of this.elements)e.destroy()}}class Ho{constructor(e,t,n,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,i)}update(e,t,n,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),zo(this.markers,i)||this.setMarkers(e,i)}setMarkers(r,s){let a="cm-gutterElement",l=this.dom.firstChild;for(let e=0,o=0;;){let t=o,n=e<s.length?s[e++]:null,i=!1;if(n){var u=n.elementClass;u&&(a+=" "+u);for(let e=o;e<this.markers.length;e++)if(this.markers[e].compare(n)){t=e,i=!0;break}}else t=this.markers.length;for(;o<t;){var d=this.markers[o++];d.toDOM&&(d.destroy(l),d=l.nextSibling,l.remove(),l=d)}if(!n)break;n.toDOM&&(i?l=l.nextSibling:this.dom.insertBefore(n.toDOM(r),l)),i&&o++}this.dom.className=a,this.markers=s}destroy(){this.setMarkers(null,[])}}function zo(t,n){if(t.length==n.length){for(let e=0;e<t.length;e++)if(!t[e].compare(n[e]))return;return 1}}const Uo=R.Facet.define(),qo=R.Facet.define({combine(e){return R.combineConfig(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){var n,r=Object.assign({},e);for(n in t){let i=r[n],o=t[n];r[n]=i?(e,t,n)=>i(e,t,n)||o(e,t,n):o}return r}})}});class Yo extends W{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Go(e,t){return e.state.facet(qo).formatNumber(t,e.state)}const Ko=Do.compute([qo],e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Uo)},lineMarker(e,t,n){return n.some(e=>e.toDOM)?null:new Yo(Go(e,e.state.doc.lineAt(t.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(qo)!=e.state.facet(qo),initialSpacer(e){return new Yo(Go(e,$o(e.state.doc.lines)))},updateSpacer(e,t){t=Go(t.view,$o(t.view.state.doc.lines));return t==e.number?e:new Yo(t)},domEventHandlers:e.facet(qo).domEventHandlers}));function $o(e){let t=9;for(;t<e;)t=10*t+9;return t}const Xo=new class extends W{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Jo=To.compute(["selection"],e=>{let t=[],n=-1;for(var i of e.selection.ranges){i=e.doc.lineAt(i.head).from;i>n&&(n=i,t.push(Xo.range(i)))}return R.RangeSet.of(t)});const Zo=new Map;function Qo(t){return S.define(e=>({decorations:t.createDeco(e),update(e){this.decorations=t.updateDeco(e,this.decorations)}}),{decorations:e=>e.decorations})}const er=Qo(new qi({regexp:/\t| +/g,decoration:t=>{{t=t[0];let e=Zo.get(t);return e||Zo.set(t,e=l.mark({attributes:"\t"===t?{class:"cm-highlightTab"}:{class:"cm-highlightSpace","data-display":t.replace(/ /g,"")}})),e}},boundary:/\S/}));const tr=Qo(new qi({regexp:/\s+$/g,decoration:l.mark({class:"cm-trailingSpace"}),boundary:/\S/}));e={HeightMap:x,HeightOracle:On,MeasuredHeights:xn,QueryType:h,ChangedRange:w,computeOrder:Ge,moveVisually:Xe};return C.BidiSpan=P,C.BlockInfo=O,C.Decoration=l,C.EditorView=r,C.GutterMarker=W,C.MatchDecorator=qi,C.RectangleMarker=Mi,C.ViewPlugin=S,C.ViewUpdate=Ct,C.WidgetType=o,C.__test=e,C.closeHoverTooltips=ye,C.crosshairCursor=function(e={}){let[t,n]=lo[e.key||"Alt"],i=S.fromClass(class{constructor(e){this.view=e,this.isDown=!1}set(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}},{eventObservers:{keydown(e){this.set(e.keyCode==t||n(e))},keyup(e){e.keyCode!=t&&n(e)||this.set(!1)},mousemove(e){this.set(n(e))}}});return[i,r.contentAttributes.of(e=>{return null!=(e=e.plugin(i))&&e.isDown?uo:null})]},C.drawSelection=function(e={}){return[Di.of(e),Ei,Ii,Vi,rt.of(!0)]},C.dropCursor=function(){return[ji,Hi]},C.getDrawSelectionConfig=function(e){return e.facet(Di)},C.getPanel=function(e,t){return e=e.plugin(Bo),-1<(t=e?e.specs.indexOf(t):-1)?e.panels[t]:null},C.getTooltip=function(e,t){return!(e=e.plugin(go))||(t=e.manager.tooltips.indexOf(t))<0?null:e.manager.tooltipViews[t]},C.gutter=function(e){return[Eo(),Do.of(Object.assign(Object.assign({},Ao),e))]},C.gutterLineClass=To,C.gutters=Eo,C.hasHoverTooltips=function(e){return e.facet(vo).some(e=>e)},C.highlightActiveLine=function(){return io},C.highlightActiveLineGutter=function(){return Jo},C.highlightSpecialChars=function(e={}){return[Xi.of(e),Ji=Ji||S.fromClass(class{constructor(e){this.view=e,this.decorations=l.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(Xi)),this.decorations=this.decorator.createDeco(e)}makeDecorator(o){return new qi({regexp:o.specialChars,decoration:(e,t,n)=>{var i=t.state["doc"],e=R.codePointAt(e[0],0);return 9==e?(i=i.lineAt(n),t=t.state.tabSize,n=R.countColumn(i.text,t,n-i.from),l.replace({widget:new eo((t-n%t)*this.view.defaultCharacterWidth/this.view.scaleX)})):this.decorationCache[e]||(this.decorationCache[e]=l.replace({widget:new Qi(o,e)}))},boundary:o.replaceTabs?void 0:/[^]/})}update(e){var t=e.state.facet(Xi);e.startState.facet(Xi)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations})]},C.highlightTrailingWhitespace=function(){return tr},C.highlightWhitespace=function(){return er},C.hoverTooltip=function(t,r={}){let s=R.StateEffect.define(),n=R.StateField.define({create(){return null},update(e,t){if(e&&(r.hideOnChange&&(t.docChanged||t.selection)||r.hideOn&&r.hideOn(t,e)))return null;if(e&&t.docChanged){var n=t.changes.mapPos(e.pos,-1,R.MapMode.TrackDel);if(null==n)return null;var i=Object.assign(Object.create(null),e);i.pos=n,null!=e.end&&(i.end=t.changes.mapPos(e.end)),e=i}for(var o of t.effects)o.is(s)&&(e=o.value),o.is(Oo)&&(e=null);return e},provide:e=>vo.from(e)});return[n,S.define(e=>new Co(e,t,n,s,r.hoverTime||300)),So]},C.keymap=bi,C.layer=Ti,C.lineNumberMarkers=Uo,C.lineNumbers=function(e={}){return[qo.of(e),Eo(),Ko]},C.logException=b,C.panels=function(e){return e?[xo.of(e)]:[]},C.placeholder=function(t){return S.fromClass(class{constructor(e){this.view=e,this.placeholder=t?l.set([l.widget({widget:new oo(t),side:1}).range(0)]):l.none}get decorations(){return this.view.state.doc.length?l.none:this.placeholder}},{decorations:e=>e.decorations})},C.rectangularSelection=function(e){let n=(null==e?void 0:e.eventFilter)||(e=>e.altKey&&0==e.button);return r.mouseSelectionStyle.of((e,t)=>n(t)?ao(e,t):null)},C.repositionTooltips=function(e){(e=e.plugin(go))&&e.maybeMeasure()},C.runScopeHandlers=function(e,t,n){return _i(Ci(e.state),t,e,n)},C.scrollPastEnd=function(){return[to,ht.of(e=>{return(null==(e=e.plugin(to))?void 0:e.attrs)||null})]},C.showPanel=Wo,C.showTooltip=yo,C.tooltips=function(e={}){return fo.of(e)},{module_name:"@codemirror/view",exports:C=null!=T?T:C}}),Runtime.rtl.defModule(function(e){var i=null,t={},d=e("@lezer/common"),l=e("@codemirror/state"),s=e("@codemirror/view"),u=e("@lezer/highlight"),P=e("style-mod");const c=new d.NodeProp;function o(t){return l.Facet.define({combine:t?e=>e.concat(t):void 0})}const I=new d.NodeProp;class a{constructor(e,t,n=[],i=""){this.data=e,this.name=i,l.EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(l.EditorState.prototype,"tree",{get(){return x(this)}}),this.parser=t,this.extension=[g.of(this),l.EditorState.languageData.of((e,t,n)=>{var i=V(e,t,n),o=i.type.prop(c);if(!o)return[];var r=e.facet(o),o=i.type.prop(I);if(o){var s,a,l=i.resolve(t-i.from,n);for(s of o)if(s.test(l,e))return a=e.facet(s.facet),"replace"==s.type?a:a.concat(r)}return r})].concat(n)}isActiveAt(e,t,n=-1){return V(e,t,n).type.prop(c)==this.data}findRegions(e){var t=e.facet(g);if((null==t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let s=[],a=(t,n)=>{if(t.prop(c)==this.data)s.push({from:n,to:n+t.length});else{var e=t.prop(d.NodeProp.mounted);if(e){if(e.tree.prop(c)==this.data){if(e.overlay)for(var i of e.overlay)s.push({from:i.from+n,to:i.to+n});else s.push({from:n,to:n+t.length});return}if(e.overlay){var o=s.length;if(a(e.tree,e.overlay[0].from+n),s.length>o)return}}for(let e=0;e<t.children.length;e++){var r=t.children[e];r instanceof d.Tree&&a(r,t.positions[e]+n)}}};return a(x(e),0),s}get allowsNesting(){return!0}}function V(e,t,n){let i=e.facet(g),o=x(e).topNode;if(!i||i.allowsNesting)for(let e=o;e;e=e.enter(t,n,d.IterMode.ExcludeBuffers))e.type.isTop&&(o=e);return o}a.setState=l.StateEffect.define();class n extends a{constructor(e,t,n){super(e,t,[],n),this.parser=t}static define(e){let t=o(e.languageData);return new n(t,e.parser.configure({props:[c.add(e=>e.isTop?t:void 0)]}),e.name)}configure(e,t){return new n(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function x(e){e=e.field(a.state,!1);return e?e.tree:d.Tree.empty}function L(e,t,n=50){var i,e=null==(e=e.field(a.state,!1))?void 0:e.context;return e?(i=e.viewport,e.updateViewport({from:0,to:t}),n=e.isDone(t)||e.work(n,t)?e.tree:null,e.updateViewport(i),n):null}class j{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){var n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let m=null;class h{constructor(e,t,n=[],i,o,r,s,a){this.parser=e,this.state=t,this.fragments=n,this.tree=i,this.treeLen=o,this.viewport=r,this.skipped=s,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new h(e,t,[],d.Tree.empty,0,n,[],null)}startParse(){return this.parser.startParse(new j(this.state.doc),this.fragments)}work(n,i){return null!=i&&i>=this.state.doc.length&&(i=void 0),this.tree!=d.Tree.empty&&this.isDone(null!=i?i:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var e;if("number"==typeof n){let e=Date.now()+n;n=()=>Date.now()>e}for(this.parse||(this.parse=this.startParse()),null!=i&&(null==this.parse.stoppedAt||this.parse.stoppedAt>i)&&i<this.state.doc.length&&this.parse.stopAt(i);;){var t=this.parse.advance();if(t){if(this.fragments=this.withoutTempSkipped(d.TreeFragment.addTree(t,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!=(e=this.parse.stoppedAt)?e:this.state.doc.length,this.tree=t,this.parse=null,!(this.treeLen<(null!=i?i:this.state.doc.length)))return!0;this.parse=this.startParse()}if(n())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(d.TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){var t=m;m=this;try{return e()}finally{m=t}}withoutTempSkipped(e){for(var t;t=this.tempSkipped.pop();)e=H(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:i,treeLen:r,viewport:s,skipped:a}=this;if(this.takeTree(),!e.empty){let o=[];if(e.iterChangedRanges((e,t,n,i)=>o.push({fromA:e,toA:t,fromB:n,toB:i})),n=d.TreeFragment.applyChanges(n,o),i=d.Tree.empty,r=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){a=[];for(var l of this.skipped){var u=e.mapPos(l.from,1),l=e.mapPos(l.to,-1);u<l&&a.push({from:u,to:l})}}}return new h(this.parser,t,n,i,r,s,a,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;var e=this.skipped.length;for(let e=0;e<this.skipped.length;e++){var{from:n,to:i}=this.skipped[e];n<t.to&&i>t.from&&(this.fragments=H(this.fragments,n,i),this.skipped.splice(e--,1))}return!(this.skipped.length>=e||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(r){return new class extends d.Parser{createParse(e,t,n){let i=n[0].from,o=n[n.length-1].to;return{parsedPos:i,advance(){var e=m;if(e){for(var t of n)e.tempSkipped.push(t);r&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,r]):r)}return this.parsedPos=o,new d.Tree(d.NodeType.none,[],[],o-i)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);var t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return m}}function H(e,t,n){return d.TreeFragment.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}class f{constructor(e){this.context=e,this.tree=e.tree}apply(e){var t;return e.docChanged||this.tree!=this.context.tree?(t=this.context.changes(e.changes,e.state),e=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to),t.work(20,e)||t.takeTree(),new f(t)):this}static init(e){var t=Math.min(3e3,e.doc.length),e=h.create(e.facet(g).parser,e,{from:0,to:t});return e.work(20,t)||e.takeTree(),new f(e)}}a.state=l.StateField.define({create:f.init,update(e,t){for(var n of t.effects)if(n.is(a.setState))return n.value;return t.startState.facet(g)!=t.state.facet(g)?f.init(t.state):e.apply(t)}});let z=e=>{let t=setTimeout(()=>e(),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(z=e=>{let t=-1,n=setTimeout(()=>{t=requestIdleCallback(e,{timeout:400})},100);return()=>t<0?clearTimeout(n):cancelIdleCallback(t)});const p="undefined"!=typeof navigator&&null!=(e=navigator.scheduling)&&e.isInputPending?()=>navigator.scheduling.isInputPending():null,U=s.ViewPlugin.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){var t=this.view.state.field(a.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){var e,t;this.working||(e=this.view["state"],(t=e.field(a.state)).tree==t.context.tree&&t.context.isDone(e.doc.length))||(this.working=z(this.work))}work(t){this.working=null;var n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),!(this.chunkBudget<=0)){var{state:i,viewport:{to:o}}=this.view,r=i.field(a.state);if(r.tree!=r.context.tree||!r.context.isDone(o+1e5)){let e=Date.now()+Math.min(this.chunkBudget,100,t&&!p?Math.max(25,t.timeRemaining()-5):1e9);t=r.context.treeLen<o&&i.doc.length>o+1e3,i=r.context.work(()=>p&&p()||Date.now()>e,o+(t?0:1e5));this.chunkBudget-=Date.now()-n,(i||this.chunkBudget<=0)&&(r.context.takeTree(),this.view.dispatch({effects:a.setState.of(new f(r.context))})),0<this.chunkBudget&&(!i||t)&&this.scheduleWork(),this.checkAsyncSchedule(r.context)}}}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(e=>s.logException(this.view.state,e)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||0<this.workScheduled)}},{eventHandlers:{focus(){this.scheduleWork()}}}),g=l.Facet.define({combine(e){return e.length?e[0]:null},enables:t=>[a.state,U,s.EditorView.contentAttributes.compute([t],e=>{e=e.facet(t);return e&&e.name?{"data-language":e.name}:{}})]});const R=l.Facet.define(),r=l.Facet.define({combine:e=>{if(!e.length)return"  ";let t=e[0];if(!t||/\S/.test(t)||Array.from(t).some(e=>e!=t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return t}});function y(e){var t=e.facet(r);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function v(e,t){let n="",i=e.tabSize,o=e.facet(r)[0];if("\t"==o){for(;i<=t;)n+="\t",t-=i;o=" "}for(let e=0;e<t;e++)n+=o;return n}function b(e,i){for(var t of(e=e instanceof l.EditorState?new S(e):e).state.facet(R)){t=t(e,i);if(void 0!==t)return t}var o=x(e.state);if(o.length>=i){var r=e,s=i;let t=o.resolveStack(s),n=t.node.enterUnfinishedNodesBefore(s);if(n!=t.node){var a=[];for(let e=n;e!=t.node;e=e.parent)a.push(e);for(let e=a.length-1;0<=e;e--)t={node:a[e],next:t}}return Y(t,r,s)}return null}class S{constructor(e,t={}){this.state=e,this.options=t,this.unit=y(e)}lineAt(e,t=1){var n=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return null!=i&&i>=n.from&&i<=n.to?o&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}textAfterPos(e,t=1){var n;return this.options.simulateDoubleBreak&&e==this.options.simulateBreak?"":({text:t,from:n}=this.lineAt(e,t),t.slice(e-n,Math.min(t.length,e+100-n)))}column(e,t=1){var{text:t,from:n}=this.lineAt(e,t);let i=this.countColumn(t,e-n);e=this.options.overrideIndentation?this.options.overrideIndentation(n):-1;return-1<e&&(i+=e-this.countColumn(t,t.search(/\S|$/))),i}countColumn(e,t=e.length){return l.countColumn(e,this.state.tabSize,t)}lineIndent(e,t=1){var{text:e,from:t}=this.lineAt(e,t),n=this.options.overrideIndentation;if(n){n=n(t);if(-1<n)return n}return this.countColumn(e,e.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const q=new d.NodeProp;function Y(t,n,i){for(let e=t;e;e=e.next){var o=function(e){var t=e.type.prop(q);if(t)return t;let n=e.firstChild,i;if(n&&(i=n.type.prop(d.NodeProp.closedBy))){let t=e.lastChild,n=t&&-1<i.indexOf(t.name);return e=>{return $(e,!0,1,void 0,n&&((e=e).pos!=e.options.simulateBreak||!e.options.simulateDoubleBreak)?t.from:void 0)}}return null==e.parent?G:null}(e.node);if(o)return o(C.create(n,i,e))}return 0}function G(){return 0}class C extends S{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(e,t,n){return new C(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let n=this.state.doc.lineAt(t.from);for(;;){let e=t.resolve(n.from);for(;e.parent&&e.parent.from==e.from;)e=e.parent;if(K(e,t))break;n=this.state.doc.lineAt(e.from)}return this.lineIndent(n.from)}continue(){return Y(this.context.next,this.base,this.pos)}}function K(t,n){for(let e=n;e;e=e.parent)if(t==e)return 1}function $(e,t,n,i,o){var r=e.textAfter,s=r.match(/^\s*/)[0].length,r=i&&r.slice(s,s+i.length)==i||o==e.pos+s,i=t?function(e){var t=e.node,n=t.childAfter(t.from),i=t.lastChild;if(!n)return null;var o=e.options.simulateBreak,e=e.state.doc.lineAt(n.from),r=null==o||o<=e.from?e.to:Math.min(e.to,o);for(let e=n.to;;){var s=t.childAfter(e);if(!s||s==i)return null;if(!s.type.isSkipped)return s.from<r?n:null;e=s.to}}(e):null;return i?r?e.column(i.from):e.column(i.to):e.baseIndent+(r?0:e.unit*n)}const X=l.Facet.define(),J=new d.NodeProp;function w(e,n,i){for(var t of e.facet(X)){t=t(e,n,i);if(t)return t}{var o=e,r=n,s=i,a,l=x(o);if(l.length<s)return null;let t=null;for(let e=l.resolveStack(s,1);e;e=e.next){var u=e.node;if(!(u.to<=s||u.from>s)){if(t&&u.from<r)break;var d,c=u.type.prop(J);c&&(u.to<l.length-50||l.length==o.doc.length||(a=void 0,!(a=(d=u).lastChild))||a.to!=d.to||!a.type.isError)&&(d=c(u,o))&&d.from<=s&&d.from>=r&&d.to>s&&(t=d)}}return t}}function Z(e,t){var n=t.mapPos(e.from,1),t=t.mapPos(e.to,-1);return t<=n?void 0:{from:n,to:t}}const _=l.StateEffect.define({map:Z}),M=l.StateEffect.define({map:Z});function O(e){var n=[];for(let{head:t}of e.state.selection.ranges)n.some(e=>e.from<=t&&e.to>=t)||n.push(e.lineBlockAt(t));return n}const B=l.StateField.define({create(){return s.Decoration.none},update(e,t){e=e.map(t.changes);for(let n of t.effects){var i;n.is(_)&&!function(e,n,i){let o=!1;return e.between(n,n,(e,t)=>{e==n&&t==i&&(o=!0)}),o}(e,n.value.from,n.value.to)?(i=t.state.facet(T)["preparePlaceholder"],i=i?s.Decoration.replace({widget:new ae(i(t.state,n.value))}):se,e=e.update({add:[i.range(n.value.from,n.value.to)]})):n.is(M)&&(e=e.update({filter:(e,t)=>n.value.from!=e||n.value.to!=t,filterFrom:n.value.from,filterTo:n.value.to}))}if(t.selection){let n=!1,i=t.selection.main["head"];e.between(i,i,(e,t)=>{e<i&&t>i&&(n=!0)}),n&&(e=e.update({filterFrom:i,filterTo:i,filter:(e,t)=>t<=i||e>=i}))}return e},provide:e=>s.EditorView.decorations.from(e),toJSON(e,t){let n=[];return e.between(0,t.doc.length,(e,t)=>{n.push(e,t)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");var n=[];for(let e=0;e<t.length;){var i=t[e++],o=t[e++];if("number"!=typeof i||"number"!=typeof o)throw new RangeError("Invalid JSON for fold state");n.push(se.range(i,o))}return s.Decoration.set(n,!0)}});function k(e,t,n){let i=null;return null!=(e=e.field(B,!1))&&e.between(t,n,(e,t)=>{(!i||i.from>e)&&(i={from:e,to:t})}),i}function F(e,t){return e.field(B,!1)?t:t.concat(l.StateEffect.appendConfig.of(oe()))}var e=e=>{for(var t of O(e)){t=w(e.state,t.from,t.to);if(t)return e.dispatch({effects:F(e.state,[_.of(t),W(e,t)])}),!0}return!1},Q=e=>{if(!e.state.field(B,!1))return!1;var t,n=[];for(t of O(e)){var i=k(e.state,t.from,t.to);i&&n.push(M.of(i),W(e,i,!1))}return n.length&&e.dispatch({effects:n}),0<n.length};function W(e,t,n=!0){var i=e.state.doc.lineAt(t.from).number,t=e.state.doc.lineAt(t.to).number;return s.EditorView.announce.of(`${e.state.phrase(n?"Folded lines":"Unfolded lines")} ${i} ${e.state.phrase("to")} ${t}.`)}var ee=t=>{var n=t["state"],i=[];for(let e=0;e<n.doc.length;){var o=t.lineBlockAt(e),r=w(n,o.from,o.to);r&&i.push(_.of(r)),e=(r?t.lineBlockAt(r.to):o).to+1}return i.length&&t.dispatch({effects:F(t.state,i)}),!!i.length},te=e=>{var t=e.state.field(B,!1);if(!t||!t.size)return!1;let n=[];return t.between(0,e.state.doc.length,(e,t)=>{n.push(M.of({from:e,to:t}))}),e.dispatch({effects:n}),!0};var ne=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:e},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Q},{key:"Ctrl-Alt-[",run:ee},{key:"Ctrl-Alt-]",run:te}];const ie={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},T=l.Facet.define({combine(e){return l.combineConfig(e,ie)}});function oe(e){var t=[B,de];return e&&t.push(T.of(e)),t}function re(n,e){var t=n["state"],i=t.facet(T),o=e=>{var t=n.lineBlockAt(n.posAtDOM(e.target)),t=k(n.state,t.from,t.to);t&&n.dispatch({effects:M.of(t)}),e.preventDefault()};return i.placeholderDOM?i.placeholderDOM(n,o,e):((e=document.createElement("span")).textContent=i.placeholderText,e.setAttribute("aria-label",t.phrase("folded code")),e.title=t.phrase("unfold"),e.className="cm-foldPlaceholder",e.onclick=o,e)}const se=s.Decoration.replace({widget:new class extends s.WidgetType{toDOM(e){return re(e,null)}}});class ae extends s.WidgetType{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return re(e,this.value)}}const le={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class ue extends s.GutterMarker{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){var t;return this.config.markerDOM?this.config.markerDOM(this.open):((t=document.createElement("span")).textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t)}}const de=s.EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class A{constructor(e,t){this.specs=e;let n;function i(e){var t=P.StyleModule.newName();return(n=n||Object.create(null))["."+t]=e,t}var o="string"==typeof t.all?t.all:t.all?i(t.all):void 0;const r=t.scope;this.scope=r instanceof a?e=>e.prop(c)==r.data:r?e=>e==r:void 0,this.style=u.tagHighlighter(e.map(e=>({tag:e.tag,class:e.class||i(Object.assign({},e,{tag:null}))})),{all:o}).style,this.module=n?new P.StyleModule(n):null,this.themeType=t.themeType}static define(e,t){return new A(e,t||{})}}const ce=l.Facet.define(),me=l.Facet.define({combine(e){return e.length?[e[0]]:null}});function D(e){var t=e.facet(ce);return t.length?t:e.facet(me)}const he=l.Prec.high(s.ViewPlugin.fromClass(class{constructor(e){this.markCache=Object.create(null),this.tree=x(e.state),this.decorations=this.buildDeco(e,D(e.state))}update(e){var t=x(e.state),n=D(e.state),i=n!=D(e.startState);t.length<e.view.viewport.to&&!i&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}buildDeco(e,t){if(!t||!this.tree.length)return s.Decoration.none;let i=new l.RangeSetBuilder;for(var{from:n,to:o}of e.visibleRanges)u.highlightTree(this.tree,t,(e,t,n)=>{i.add(e,t,this.markCache[n]||(this.markCache[n]=s.Decoration.mark({class:n})))},n,o);return i.finish()}},{decorations:e=>e.decorations}));var fe,pe,ge=A.define([{tag:u.tags.meta,color:"#404740"},{tag:u.tags.link,textDecoration:"underline"},{tag:u.tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:u.tags.emphasis,fontStyle:"italic"},{tag:u.tags.strong,fontWeight:"bold"},{tag:u.tags.strikethrough,textDecoration:"line-through"},{tag:u.tags.keyword,color:"#708"},{tag:[u.tags.atom,u.tags.bool,u.tags.url,u.tags.contentSeparator,u.tags.labelName],color:"#219"},{tag:[u.tags.literal,u.tags.inserted],color:"#164"},{tag:[u.tags.string,u.tags.deleted],color:"#a11"},{tag:[u.tags.regexp,u.tags.escape,u.tags.special(u.tags.string)],color:"#e40"},{tag:u.tags.definition(u.tags.variableName),color:"#00f"},{tag:u.tags.local(u.tags.variableName),color:"#30a"},{tag:[u.tags.typeName,u.tags.namespace],color:"#085"},{tag:u.tags.className,color:"#167"},{tag:[u.tags.special(u.tags.variableName),u.tags.macroName],color:"#256"},{tag:u.tags.definition(u.tags.propertyName),color:"#00c"},{tag:u.tags.comment,color:"#940"},{tag:u.tags.invalid,color:"#f00"}]),Re=s.EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}});const ye=l.Facet.define({combine(e){return l.combineConfig(e,{afterCursor:!0,brackets:"()[]{}",maxScanDistance:1e4,renderMatch:Se})}}),ve=s.Decoration.mark({class:"cm-matchingBracket"}),be=s.Decoration.mark({class:"cm-nonmatchingBracket"});function Se(e){var t=[],n=e.matched?ve:be;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}const Ce=[l.StateField.define({create(){return s.Decoration.none},update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[];var i,o,r=t.state.facet(ye);for(i of t.state.selection.ranges)i.empty&&(o=N(t.state,i.head,-1,r)||0<i.head&&N(t.state,i.head-1,1,r)||r.afterCursor&&(N(t.state,i.head,1,r)||i.head<t.state.doc.length&&N(t.state,i.head+1,-1,r)))&&(n=n.concat(r.renderMatch(o,t.state)));return s.Decoration.set(n,!0)},provide:e=>s.EditorView.decorations.from(e)}),Re];const we=new d.NodeProp;function _e(e,t,n){var i=e.prop(t<0?d.NodeProp.openedBy:d.NodeProp.closedBy);if(i)return i;if(1==e.name.length){i=n.indexOf(e.name);if(-1<i&&i%2==(t<0?1:0))return[n[i+t]]}return null}function Me(e){var t=e.type.prop(we);return t?t(e.node):e}function N(e,r,s,o={}){var a=o.maxScanDistance||1e4,l=o.brackets||"()[]{}",o=x(e),u=o.resolveInner(r,s);for(let o=u;o;o=o.parent){var d=_e(o.type,s,l);if(d&&o.from<o.to){var c,m=Me(o);if(m&&(0<s?r>=m.from&&r<m.to:r>m.from&&r<=m.to)){var h=s;var f=o;var p=d;var g=l;let e=f.parent,t={from:m.from,to:m.to},n=0,i=null==e?void 0:e.cursor();if(i&&(h<0?i.childBefore(f.from):i.childAfter(f.to)))do{if(h<0?i.to<=f.from:i.from>=f.to){if(0==n&&-1<p.indexOf(i.type.name)&&i.from<i.to)return c=Me(i),{start:t,end:c?{from:c.from,to:c.to}:void 0,matched:!0};if(_e(i.type,h,g))n++;else if(_e(i.type,-h,g)){if(0==n)return c=Me(i),{start:t,end:c&&c.from<c.to?{from:c.from,to:c.to}:void 0,matched:!1};n--}}}while(h<0?i.prevSibling():i.nextSibling());return{start:t,matched:!1};return}}}{var R=r,y=s,v=o,b=u.type,S=a,C=l,o=y<0?e.sliceDoc(R-1,R):e.sliceDoc(R,R+1),w=C.indexOf(o);if(w<0||w%2==0!=0<y)return null;let n={from:y<0?R-1:R,to:0<y?R+1:R},t=e.doc.iterRange(R,0<y?e.doc.length:0),i=0;for(let e=0;!t.next().done&&e<=S;){var _=t.value,M=(y<0&&(e+=_.length),R+e*y);for(let e=0<y?0:_.length-1,t=0<y?_.length:-1;e!=t;e+=y){var O=C.indexOf(_[e]);if(!(O<0||v.resolveInner(M+e,1).type!=b))if(O%2==0==0<y)i++;else{if(1==i)return{start:n,end:{from:M+e,to:M+e+1},matched:O>>1==w>>1};i--}}0<y&&(e+=_.length)}return t.done?{start:n,matched:!1}:null}}function Oe(t,n,i,o=0,e=0){null==n&&-1==(n=t.search(/[^\s\u00a0]/))&&(n=t.length);let r=e;for(let e=o;e<n;e++)9==t.charCodeAt(e)?r+=i-r%i:r++;return r}class xe{constructor(e,t,n,i){this.string=e,this.tabSize=t,this.indentUnit=n,this.overrideIndent=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return 0==this.pos}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){var t=this.string.charAt(this.pos);let n;if(n="string"==typeof e?t==e:t&&(e instanceof RegExp?e.test(t):e(t)))return++this.pos,t}eatWhile(e){for(var t=this.pos;this.eat(e););return this.pos>t}eatSpace(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){e=this.string.indexOf(e,this.pos);if(-1<e)return this.pos=e,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Oe(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return null!=(e=this.overrideIndent)?e:Oe(this.string,null,this.tabSize)}match(e,t,n){var i;return"string"==typeof e?(i=e=>n?e.toLowerCase():e)(this.string.substr(this.pos,e.length))==i(e)?(!1!==t&&(this.pos+=e.length),!0):null:(i=this.string.slice(this.pos).match(e))&&0<i.index?null:(i&&!1!==t&&(this.pos+=i[0].length),i)}current(){return this.string.slice(this.start,this.pos)}}function Be(e){return{name:e.name||"",token:e.token,blankLine:e.blankLine||(()=>{}),startState:e.startState||(()=>!0),copyState:e.copyState||ke,indent:e.indent||(()=>null),languageData:e.languageData||{},tokenTable:e.tokenTable||Ee}}function ke(e){if("object"!=typeof e)return e;var t,n={};for(t in e){var i=e[t];n[t]=i instanceof Array?i.slice():i}return n}const Fe=new WeakMap;class We extends a{constructor(e){var t=o(e.languageData);let n=Be(e),i;super(t,new class extends d.Parser{createParse(e,t,n){return new De(i,e,t,n)}},[R.of((e,t)=>this.getIndent(e,t))],e.name),this.topNode=qe(t),(i=this).streamParser=n,this.stateAfter=new d.NodeProp({perNode:!0}),this.tokenTable=e.tokenTable?new je(n.tokenTable):He}static define(e){return new We(e)}getIndent(e,t){let n=x(e.state),i=n.resolve(t);for(;i&&i.type!=this.topNode;)i=i.parent;if(!i)return null;let o=void 0;var r=e.options["overrideIndentation"];r&&null!=(o=Fe.get(e.state))&&o<t-1e4&&(o=void 0);let s=Te(this,n,0,i.from,null!==o&&void 0!==o?o:t),a,l;if(1e4<t-(a=s?(l=s.state,s.pos+1):(l=this.streamParser.startState(e.unit),0)))return null;for(;a<t;){var u=e.state.doc.lineAt(a),d=Math.min(t,u.to);if(u.length)for(var c=r?r(u.from):-1,m=new xe(u.text,e.state.tabSize,e.unit,c<0?void 0:c);m.pos<d-u.from;)Ne(this.streamParser.token,m,l);else this.streamParser.blankLine(l,e.unit);if(d==t)break;a=u.to+1}var h=e.lineAt(t);return r&&null==o&&Fe.set(e.state,h.from),this.streamParser.indent(l,/^\s*(.*)/.exec(h.text)[1],e)}get allowsNesting(){return!1}}function Te(t,n,i,o,r){var e=o<=i&&i+n.length<=r&&n.prop(t.stateAfter);if(e)return{state:t.streamParser.copyState(e),pos:i+n.length};for(let e=n.children.length-1;0<=e;e--){var s=n.children[e],a=i+n.positions[e],s=s instanceof d.Tree&&a<r&&Te(t,s,a,o,r);if(s)return s}return null}function Ae(n,e,i,t){for(var o of e){var r=o.from+(o.openStart?25:0),s=o.to-(o.openEnd?25:0);let e=r<=i&&i<s&&Te(n,o.tree,0-o.offset,i,s),t;if(e&&(t=function t(n,i,o,r,s){if(s&&o<=0&&r>=i.length)return i;s||i.type!=n.topNode||(s=!0);for(let e=i.children.length-1;0<=e;e--){var a=i.positions[e],l=i.children[e];if(a<r&&l instanceof d.Tree){if(l=t(n,l,o-a,r-a,s))return s?new d.Tree(i.type,i.children.slice(0,e).concat(l),i.positions.slice(0,e+1),a+l.length):l;break}}return null}(n,o.tree,i+o.offset,e.pos+o.offset,!1)))return{state:e.state,tree:t}}return{state:n.streamParser.startState(t?y(t):4),tree:d.Tree.empty}}class De{constructor(e,t,n,i){this.lang=e,this.input=t,this.fragments=n,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;var t=h.get(),i=i[0].from,{state:e,tree:o}=Ae(e,n,i,null==t?void 0:t.state);this.state=e,this.parsedPos=this.chunkStart=i+o.length;for(let e=0;e<o.children.length;e++)this.chunks.push(o.children[e]),this.chunkPos.push(o.positions[e]);t&&this.parsedPos<t.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(y(t.state)),t.skipUntilInView(this.parsedPos,t.viewport.from),this.parsedPos=t.viewport.from),this.moveRangeIndex()}advance(){var e=h.get(),t=null==this.stoppedAt?this.to:Math.min(this.to,this.stoppedAt);let n=Math.min(t,this.chunkStart+2048);for(e&&(n=Math.min(n,e.viewport.to));this.parsedPos<n;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=t?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,t),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let t=this.input.chunk(e);var n;return this.input.lineChunks?"\n"==t&&(t=""):-1<(n=t.indexOf("\n"))&&(t=t.slice(0,n)),e+t.length<=this.to?t:t.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,t=this.lineAfter(e),n=e+t.length;for(let e=this.rangeIndex;;){var i=this.ranges[e].to;if(i>=n)break;if(t=t.slice(0,i-(n-t.length)),++e==this.ranges.length)break;var i=this.ranges[e].from,o=this.lineAfter(i);t+=o,n=i+o.length}return{line:t,end:n}}skipGapsTo(e,t,n){for(;;){var i=this.ranges[this.rangeIndex].to,o=e+t;if(0<n?o<i:o<=i)break;t+=this.ranges[++this.rangeIndex].from-i}return t}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,t,n,i,o){var r;return 1<this.ranges.length&&(t+=o=this.skipGapsTo(t,o,1),r=this.chunk.length,n+=o=this.skipGapsTo(n,o,-1),i+=this.chunk.length-r),this.chunk.push(e,t,n,i),o}parseLine(e){let{line:t,end:n}=this.nextLine(),i=0,o=this.lang["streamParser"];var r=new xe(t,e?e.state.tabSize:4,e?y(e.state):2);if(r.eol())o.blankLine(this.state,r.indentUnit);else for(;!r.eol();){var s=Ne(o.token,r,this.state);if(s&&(i=this.emitToken(this.lang.tokenTable.resolve(s),this.parsedPos+r.start,this.parsedPos+r.pos,4,i)),1e4<r.start)break}this.parsedPos=n,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){var e=d.Tree.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:Pe,topID:0,maxBufferLength:2048,reused:this.chunkReused}),e=new d.Tree(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]);this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new d.Tree(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function Ne(t,n,i){n.start=n.pos;for(let e=0;e<10;e++){var o=t(n,i);if(n.pos>n.start)return o}throw new Error("Stream parser failed to advance stream.")}const Ee=Object.create(null),E=[d.NodeType.none],Pe=new d.NodeSet(E),Ie=[],Ve=Object.create(null),Le=Object.create(null);for([fe,pe]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Le[fe]=Ue(Ee,pe);class je{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),Le)}resolve(e){return e?this.table[e]||(this.table[e]=Ue(this.extra,e)):0}}const He=new je(Ee);function ze(e,t){-1<Ie.indexOf(e)||(Ie.push(e),console.warn(t))}function Ue(t,e){var n,i,o=[];for(n of e.split(" ")){let e=[];for(var r of n.split(".")){var s=t[r]||u.tags[r];s?"function"==typeof s?e.length?e=e.map(s):ze(r,`Modifier ${r} used at start of tag`):e.length?ze(r,`Tag ${r} used as modifier`):e=Array.isArray(s)?s:[s]:ze(r,"Unknown highlighting tag "+r)}for(var a of e)o.push(a)}return o.length?(i=(e=e.replace(/ /g,"_"))+" "+o.map(e=>e.id),(Ve[i]||(i=Ve[i]=d.NodeType.define({id:E.length,name:e,props:[u.styleTags({[e]:o})]}),E.push(i),i)).id):0}function qe(e){var t=d.NodeType.define({id:E.length,name:"Document",props:[c.add(()=>e)],top:!0});return E.push(t),t}function Ye(e){return e.length<=4096&&/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/.test(e)}function Ge(e){for(var t=e.iter();!t.next().done;)if(Ye(t.value))return!0;return!1}function Ke(e){let r=!1;return e.iterChanges((e,t,n,i,o)=>{!r&&Ge(o)&&(r=!0)}),r}const $e=l.Facet.define({combine:e=>e.some(e=>e)});const Xe=s.ViewPlugin.fromClass(class{constructor(e){this.always=e.state.facet($e)||e.textDirection!=s.Direction.LTR||e.state.facet(s.EditorView.perLineTextDirection),this.hasRTL=!this.always&&Ge(e.state.doc),this.tree=x(e.state),this.decorations=Je(e,this.tree,this.always)}update(e){var t,n=e.state.facet($e)||e.view.textDirection!=s.Direction.LTR||e.state.facet(s.EditorView.perLineTextDirection);n||this.hasRTL||!Ke(e.changes)||(this.hasRTL=!0),(n||this.hasRTL)&&(t=x(e.state),n!=this.always||t!=this.tree||e.docChanged||e.viewportChanged)&&(this.tree=t,this.always=n,this.decorations=Je(e.view,t,n))}},{provide:t=>{function e(e){return null!=(e=null==(e=e.plugin(t))?void 0:e.decorations)?e:s.Decoration.none}return[s.EditorView.outerDecorations.of(e),l.Prec.lowest(s.EditorView.bidiIsolatedRanges.of(e))]}});function Je(e,t,n){let i=new l.RangeSetBuilder,o=e.visibleRanges;for(var{from:r,to:s}of o=n?o:function(e,t){let n=t.iter(),i=0,o=[],r=null;for(var{from:s,to:a}of e)for(s!=i&&(i<s&&n.next(s-i),i=s);;){var l=i,u=i+n.value.length;if(!n.lineBreak&&Ye(n.value)&&(r&&r.to>l-10?r.to=Math.min(a,u):o.push(r={from:l,to:Math.min(a,u)})),i>=a)break;i=u,n.next()}return o}(o,e.state.doc))t.iterate({enter:e=>{var t=e.type.prop(d.NodeProp.isolate);t&&i.add(e.from,e.to,Ze[t])},from:r,to:s});return i.finish()}const Ze={rtl:s.Decoration.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"rtl"},bidiIsolate:s.Direction.RTL}),ltr:s.Decoration.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"ltr"},bidiIsolate:s.Direction.LTR}),auto:s.Decoration.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"auto"},bidiIsolate:null})};return t.DocInput=j,t.HighlightStyle=A,t.IndentContext=S,t.LRLanguage=n,t.Language=a,t.LanguageDescription=class Qe{constructor(e,t,n,i,o,r=void 0){this.name=e,this.alias=t,this.extensions=n,this.filename=i,this.loadFunc=o,this.support=r,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:t,support:n}=e;if(!t){if(!n)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");t=()=>Promise.resolve(n)}return new Qe(e.name,(e.alias||[]).concat(e.name).map(e=>e.toLowerCase()),e.extensions||[],e.filename,t,n)}static matchFilename(e,t){for(var n of e)if(n.filename&&n.filename.test(t))return n;var i=/\.([^.]+)$/.exec(t);if(i)for(var o of e)if(-1<o.extensions.indexOf(i[1]))return o;return null}static matchLanguageName(e,t,n=!0){t=t.toLowerCase();for(var i of e)if(i.alias.some(e=>e==t))return i;if(n)for(var o of e)for(var r of o.alias){var s=t.indexOf(r);if(-1<s&&(2<r.length||!/\w/.test(t[s-1])&&!/\w/.test(t[s+r.length])))return o}return null}},t.LanguageSupport=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}},t.ParseContext=h,t.StreamLanguage=We,t.StringStream=xe,t.TreeIndentContext=C,t.bidiIsolates=function(e={}){var t=[Xe];return e.alwaysIsolate&&t.push($e.of(!0)),t},t.bracketMatching=function(e={}){return[ye.of(e),Ce]},t.bracketMatchingHandle=we,t.codeFolding=oe,t.continuedIndent=function({except:n,units:i=1}={}){return e=>{var t=n&&n.test(e.textAfter);return e.baseIndent+(t?0:i*e.unit)}},t.defaultHighlightStyle=ge,t.defineLanguageFacet=o,t.delimitedIndent=function({closing:t,align:n=!0,units:i=1}){return e=>$(e,n,i,t)},t.ensureSyntaxTree=L,t.flatIndent=e=>e.baseIndent,t.foldAll=ee,t.foldCode=e,t.foldEffect=_,t.foldGutter=function(e={}){let t=Object.assign(Object.assign({},le),e),o=new ue(t,!0),r=new ue(t,!1),n=s.ViewPlugin.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(e){(e.docChanged||e.viewportChanged||e.startState.facet(g)!=e.state.facet(g)||e.startState.field(B,!1)!=e.state.field(B,!1)||x(e.startState)!=x(e.state)||t.foldingChanged(e))&&(this.markers=this.buildMarkers(e.view))}buildMarkers(e){var t,n=new l.RangeSetBuilder;for(t of e.viewportLineBlocks){var i=k(e.state,t.from,t.to)?r:w(e.state,t.from,t.to)?o:null;i&&n.add(t.from,t.from,i)}return n.finish()}}),i=t["domEventHandlers"];return[n,s.gutter({class:"cm-foldGutter",markers(e){return(null==(e=e.plugin(n))?void 0:e.markers)||l.RangeSet.empty},initialSpacer(){return new ue(t,!1)},domEventHandlers:Object.assign(Object.assign({},i),{click:(e,t,n)=>{return!((!i.click||!i.click(e,t,n))&&((n=k(e.state,t.from,t.to))?(e.dispatch({effects:M.of(n)}),0):!(n=w(e.state,t.from,t.to))||(e.dispatch({effects:_.of(n)}),0)))}})}),oe()]},t.foldInside=function(e){var t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null},t.foldKeymap=ne,t.foldNodeProp=J,t.foldService=X,t.foldState=B,t.foldable=w,t.foldedRanges=function(e){return e.field(B,!1)||l.RangeSet.empty},t.forceParsing=function(e,t=e.viewport.to,n=100){return(t=L(e.state,t,n))!=x(e.state)&&e.dispatch({}),!!t},t.getIndentUnit=y,t.getIndentation=b,t.highlightingFor=function(e,t,n){e=D(e);let i=null;if(e)for(var o of e)(!o.scope||n&&o.scope(n))&&(o=o.style(t))&&(i=i?i+" "+o:o);return i},t.indentNodeProp=q,t.indentOnInput=function(){return l.EditorState.transactionFilter.of(e=>{if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;var t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;var n,i=e.newDoc,o=e.newSelection.main["head"],r=i.lineAt(o);if(o>r.from+200)return e;let s=i.sliceString(r.from,o);if(!t.some(e=>e.test(s)))return e;let a=e["state"],l=-1,u=[];for({head:n}of a.selection.ranges){var d,c,m,h=a.doc.lineAt(n);h.from!=l&&(l=h.from,null!=(d=b(a,h.from))&&(c=/^\s*/.exec(h.text)[0])!=(m=v(a,d)))&&u.push({from:h.from,to:h.from+c.length,insert:m})}return u.length?[e,{changes:u,sequential:!0}]:e})},t.indentRange=function(n,e,i){let o=Object.create(null);var r=new S(n,{overrideIndentation:e=>{return null!=(e=o[e])?e:-1}}),s=[];for(let t=e;t<=i;){var a,l,u=n.doc.lineAt(t);t=u.to+1;let e=b(r,u.from);null!=e&&(/\S/.test(u.text)||(e=0),(a=/^\s*/.exec(u.text)[0])!=(l=v(n,e)))&&(o[u.from]=e,s.push({from:u.from,to:u.from+a.length,insert:l}))}return n.changes(s)},t.indentService=R,t.indentString=v,t.indentUnit=r,t.language=g,t.languageDataProp=c,t.matchBrackets=N,t.sublanguageProp=I,t.syntaxHighlighting=function(t,e){let n=[he],i;return t instanceof A&&(t.module&&n.push(s.EditorView.styleModule.of(t.module)),i=t.themeType),null!=e&&e.fallback?n.push(me.of(t)):i?n.push(ce.computeN([s.EditorView.darkTheme],e=>e.facet(s.EditorView.darkTheme)==("dark"==i)?[t]:[])):n.push(ce.of(t)),n},t.syntaxParserRunning=function(e){return(null==(e=e.plugin(U))?void 0:e.isWorking())||!1},t.syntaxTree=x,t.syntaxTreeAvailable=function(e,t=e.doc.length){var n;return(null==(n=e.field(a.state,!1))?void 0:n.context.isDone(t))||!1},t.toggleFold=e=>{var t,n=[];for(t of O(e)){var i=k(e.state,t.from,t.to);i?n.push(M.of(i),W(e,i,!1)):(i=function(t,n){for(let e=n;;){var i=w(t.state,e.from,e.to);if(i&&i.to>n.from)return i;if(!e.from)return null;e=t.lineBlockAt(e.from-1)}}(e,t))&&n.push(_.of(i),W(e,i))}return 0<n.length&&e.dispatch({effects:F(e.state,n)}),!!n.length},t.unfoldAll=te,t.unfoldCode=Q,t.unfoldEffect=M,{module_name:"@codemirror/language",exports:t=null!=i?i:t}}),Runtime.rtl.defModule(function(e){var E=null,t={},f=e("@codemirror/state"),u=e("@codemirror/view"),m=e("@codemirror/language"),h=e("@lezer/common"),e=e=>{var t=e["state"],t=t.doc.lineAt(t.selection.main.from),t=C(e.state,t.from);return t.line?P(e):!!t.block&&z(e)};function n(i,o){return({state:e,dispatch:t})=>{var n;return!e.readOnly&&!!(n=i(o,e))&&(t(e.update(n)),!0)}}const P=n(o,0);var I=n(o,1),V=n(o,2),L=n(i,0),j=n(i,1),H=n(i,2);const z=n((e,t)=>i(e,t,function(e){var t=[];for(var n of e.selection.ranges){var i=e.doc.lineAt(n.from),n=n.to<=i.to?i:e.doc.lineAt(n.to),o=t.length-1;0<=o&&t[o].to>i.from?t[o].to=n.to:t.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:n.to})}return t}(t)),0);function C(e,t){e=e.languageDataAt("commentTokens",t);return e.length?e[0]:{}}const p=50;function i(e,m,t=m.selection.ranges){let h=t.map(e=>C(m,e.from).block);if(h.every(e=>e)){let n=t.map((n,i)=>{{var[i,{open:n,close:o},r,s]=[m,h[i],n.from,n.to],a=i.sliceDoc(r-p,r),l=i.sliceDoc(s,s+p),u=/\s*$/.exec(a)[0].length,d=/^\s*/.exec(l)[0].length,c=a.length-u;if(a.slice(c-n.length,c)==n&&l.slice(d,d+o.length)==o)return{open:{pos:r-u,margin:u&&1},close:{pos:s+d,margin:d&&1}};let e,t;return s-r<=2*p?e=t=i.sliceDoc(r,s):(e=i.sliceDoc(r,r+p),t=i.sliceDoc(s-p,s)),a=/^\s*/.exec(e)[0].length,c=/\s*$/.exec(t)[0].length,l=t.length-c-o.length,e.slice(a,a+n.length)==n&&t.slice(l,l+o.length)==o?{open:{pos:r+a+n.length,margin:/\s/.test(e.charAt(a+n.length))?1:0},close:{pos:s-c-o.length,margin:/\s/.test(t.charAt(l-1))?1:0}}:null}});if(2!=e&&!n.every(e=>e))return{changes:m.changes(t.map((e,t)=>n[t]?[]:[{from:e.from,insert:h[t].open+" "},{from:e.to,insert:" "+h[t].close}]))};if(1!=e&&n.some(e=>e)){var i,o,r,s=[];for(let e=0,t;e<n.length;e++)(t=n[e])&&(i=h[e],{open:o,close:r}=t,s.push({from:o.pos-i.open.length,to:o.pos+o.margin},{from:r.pos-r.margin,to:r.pos+i.close.length}));return{changes:s}}}return null}function o(e,i,t=i.selection.ranges){var o,r,s=[];let a=-1;for({from:o,to:r}of t){let t=s.length,n=1e9;var l=C(i,o).line;if(l){for(let e=o;e<=r;){var u,d,c,m=i.doc.lineAt(e);m.from>a&&(o==r||r>m.from)&&(a=m.from,d=(u=/^\s*/.exec(m.text)[0].length)==m.length,c=m.text.slice(u,u+l.length)==l?u:-1,u<m.text.length&&u<n&&(n=u),s.push({line:m,comment:c,token:l,indent:u,empty:d,single:!1})),e=m.to+1}if(n<1e9)for(let e=t;e<s.length;e++)s[e].indent<s[e].line.text.length&&(s[e].indent=n);s.length==t+1&&(s[t].single=!0)}}if(2!=e&&s.some(e=>e.comment<0&&(!e.empty||e.single))){var n,h,f,p,g,R=[];for({line:n,token:h,indent:f,empty:p,single:g}of s)!g&&p||R.push({from:n.from+f,insert:h+" "});t=i.changes(R);return{changes:t,selection:i.selection.map(t,1)}}if(1!=e&&s.some(e=>0<=e.comment)){var y,v,b,S=[];for({line:y,comment:v,token:b}of s)if(0<=v){let e=y.from+v,t=e+b.length;" "==y.text[t-y.from]&&t++,S.push({from:e,to:t})}return{changes:S}}return null}const U=f.Annotation.define(),q=f.Annotation.define(),Y=f.Facet.define(),G=f.Facet.define({combine(e){return f.combineConfig(e,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(n,i)=>(e,t)=>n(e,t)||i(e,t)})}}),r=f.StateField.define({create(){return g.empty},update(t,n){var i=n.state.facet(G),o=n.annotation(U);if(o){var r=l.fromTransaction(n,o.selection),s=o.side;let e=0==s?t.undone:t.done;return e=r?d(e,e.length,i.minDepth,r):re(e,n.startState.selection),new g(0==s?o.rest:e,0==s?e:o.rest)}var e,r=n.annotation(q);return"full"!=r&&"before"!=r||(t=t.isolate()),!1===n.annotation(f.Transaction.addToHistory)?n.changes.empty?t:t.addMapping(n.changes.desc):(s=l.fromTransaction(n),o=n.annotation(f.Transaction.time),e=n.annotation(f.Transaction.userEvent),s?t=t.addChanges(s,o,e,i,n):n.selection&&(t=t.addSelection(n.startState.selection,o,e,i.newGroupDelay)),"full"!=r&&"after"!=r?t:t.isolate())},toJSON(e){return{done:e.done.map(e=>e.toJSON()),undone:e.undone.map(e=>e.toJSON())}},fromJSON(e){return new g(e.done.map(l.fromJSON),e.undone.map(l.fromJSON))}});var K=r;function s(i,o){return function({state:e,dispatch:t}){var n;return!(!o&&e.readOnly||!(n=e.field(r,!1))||!(n=n.pop(i,e,o))||(t(n),0))}}const $=s(0,!1),a=s(1,!1);var X=s(0,!0),J=s(1,!0);function Z(t){return function(e){var e=e.field(r,!1);return e?(e=0==t?e.done:e.undone).length-(e.length&&!e[0].changes?1:0):0}}var Q=Z(0),ee=Z(1);class l{constructor(e,t,n,i,o){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new l(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e;return{changes:null==(e=this.changes)?void 0:e.toJSON(),mapped:null==(e=this.mapped)?void 0:e.toJSON(),startSelection:null==(e=this.startSelection)?void 0:e.toJSON(),selectionsAfter:this.selectionsAfter.map(e=>e.toJSON())}}static fromJSON(e){return new l(e.changes&&f.ChangeSet.fromJSON(e.changes),[],e.mapped&&f.ChangeDesc.fromJSON(e.mapped),e.startSelection&&f.EditorSelection.fromJSON(e.startSelection),e.selectionsAfter.map(f.EditorSelection.fromJSON))}static fromTransaction(e,t){let n=c;for(var i of e.startState.facet(Y)){i=i(e);i.length&&(n=n.concat(i))}return!n.length&&e.changes.empty?null:new l(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,c)}static selection(e){return new l(void 0,c,void 0,void 0,e)}}function d(e,t,n,i){e=e.slice(n+20<t+1?t-n-1:0,t);return e.push(i),e}function te(e,t){let s=[],a=!1;return e.iterChangedRanges((e,t)=>s.push(e,t)),t.iterChangedRanges((e,t,n,i)=>{for(let e=0;e<s.length;){var o=s[e++],r=s[e++];o<=i&&n<=r&&(a=!0)}}),a}function ne(e,n){return e.ranges.length==n.ranges.length&&0===e.ranges.filter((e,t)=>e.empty!=n.ranges[t].empty).length}function ie(e,t){return e.length?t.length?e.concat(t):e:t}const c=[],oe=200;function re(e,t){var n,i;return e.length?(i=(n=e[e.length-1]).selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-oe))).length&&i[i.length-1].eq(t)?e:(i.push(t),d(e,e.length-1,1e9,n.setSelAfter(i))):[l.selection([t])]}function se(e){var t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function ae(e,t){if(!e.length)return e;let n=e.length,i=c;for(;n;){var o,r=function(e,t,n){n=ie(e.selectionsAfter.length?e.selectionsAfter.map(e=>e.map(t)):c,n);if(!e.changes)return l.selection(n);var i=e.changes.map(t),o=t.mapDesc(e.changes,!0),r=e.mapped?e.mapped.composeDesc(o):o;return new l(i,f.StateEffect.mapEffects(e.effects,t),r,e.startSelection.map(o),n)}(e[n-1],t,i);if(r.changes&&!r.changes.empty||r.effects.length)return(o=e.slice(0,n))[n-1]=r,o;t=r.mapped,n--,i=r.selectionsAfter}return i.length?[l.selection(i)]:c}const le=/^(input\.type|delete)($|\.)/;class g{constructor(e,t,n=0,i=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new g(this.done,this.undone):this}addChanges(e,t,n,i,o){let r=this.done,s=r[r.length-1];return r=s&&s.changes&&!s.changes.empty&&e.changes&&(!n||le.test(n))&&(!s.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,te(s.changes,e.changes))||"input.type.compose"==n)?d(r,r.length-1,i.minDepth,new l(e.changes.compose(s.changes),ie(e.effects,s.effects),s.mapped,s.startSelection,c)):d(r,r.length,i.minDepth,e),new g(r,c,t,n)}addSelection(e,t,n,i){var o=this.done.length?this.done[this.done.length-1].selectionsAfter:c;return 0<o.length&&t-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&ne(o[o.length-1],e)?this:new g(re(this.done,e),this.undone,t,n)}addMapping(e){return new g(ae(this.done,e),ae(this.undone,e),this.prevTime,this.prevUserEvent)}pop(t,n,e){var i=0==t?this.done:this.undone;if(0!=i.length){var o=i[i.length-1],r=o.selectionsAfter[0]||n.selection;if(e&&o.selectionsAfter.length)return n.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:U.of({side:t,rest:se(i),selection:r}),userEvent:0==t?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let e=1==i.length?c:i.slice(0,i.length-1);return o.mapped&&(e=ae(e,o.mapped)),n.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:U.of({side:t,rest:e,selection:r}),filter:!1,userEvent:0==t?"undo":"redo",scrollIntoView:!0})}}return null}}g.empty=new g(c,c);var ue=[{key:"Mod-z",run:$,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:a,preventDefault:!0},{linux:"Ctrl-Shift-z",run:a,preventDefault:!0},{key:"Mod-u",run:X,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:J,preventDefault:!0}];function R(e,t){return f.EditorSelection.create(e.ranges.map(t),e.mainIndex)}function y(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function v({state:e,dispatch:t},n){n=R(e.selection,n);return!n.eq(e.selection,!0)&&(t(y(e,n)),!0)}function b(e,t){return f.EditorSelection.cursor(t?e.to:e.from)}function S(t,n){return v(t,e=>e.empty?t.moveByChar(e,n):b(e,n))}function w(e){return e.textDirectionAt(e.state.selection.main.head)==u.Direction.LTR}var de=e=>S(e,!w(e)),ce=e=>S(e,w(e));function _(t,n){return v(t,e=>e.empty?t.moveByGroup(e,n):b(e,n))}var me=e=>_(e,!w(e)),he=e=>_(e,w(e));const fe="undefined"!=typeof Intl&&Intl.Segmenter?new Intl.Segmenter(void 0,{granularity:"word"}):null;function pe(i,e,o){let r=i.state.charCategorizer(e.from),s=f.CharCategory.Space,a=e.from,l=0,u=!1,d=!1,c=!1,t=e=>{if(u)return!1;a+=o?e.length:-e.length;let t=r(e),n;if(t==f.CharCategory.Word&&e.charCodeAt(0)<128&&/[\W_]/.test(e)&&(t=-1),(s=s==f.CharCategory.Space?t:s)!=t)return!1;if(s==f.CharCategory.Word)if(e.toLowerCase()==e){if(!o&&d)return!1;c=!0}else if(c){if(o)return!1;u=!0}else{if(d&&o&&r(n=i.state.sliceDoc(a,a+1))==f.CharCategory.Word&&n.toLowerCase()==n)return!1;d=!0}return l++,!0};var n=i.moveByChar(e,o,e=>(t(e),t));if(fe&&s==f.CharCategory.Word&&n.from==e.from+l*(o?1:-1)){var m=Math.min(e.head,n.head),h=Math.max(e.head,n.head),m=i.state.sliceDoc(m,h);if(1<m.length&&/[\u4E00-\uffff]/.test(m)){h=Array.from(fe.segment(m));if(1<h.length)return o?f.EditorSelection.cursor(e.head+h[1].index,-1):f.EditorSelection.cursor(n.head+h[h.length-1].index,1)}}return n}function ge(t,n){return v(t,e=>e.empty?pe(t,e,n):b(e,n))}function M(t,n,i){let o=m.syntaxTree(t).resolveInner(n.head);var r,s,a,l=i?h.NodeProp.closedBy:h.NodeProp.openedBy;for(let e=n.head;;){var u=i?o.childAfter(e):o.childBefore(e);if(!u)break;r=t,a=l,(s=u).type.prop(a)||(a=s.to-s.from)&&(2<a||/[^\s,.;:]/.test(r.sliceDoc(s.from,s.to)))||s.firstChild?o=u:e=i?u.to:u.from}let e=o.type.prop(l),d,c;return c=e&&(d=i?m.matchBrackets(t,o.from,1):m.matchBrackets(t,o.to,-1))&&d.matched?i?d.end.to:d.end.from:i?o.to:o.from,f.EditorSelection.cursor(c,i?-1:1)}var Re=t=>v(t,e=>M(t.state,e,!w(t))),ye=t=>v(t,e=>M(t.state,e,w(t)));function ve(n,i){return v(n,e=>{var t;return e.empty?(t=n.moveVertically(e,i)).head!=e.head?t:n.moveToLineBoundary(e,i):b(e,i)})}var be=e=>ve(e,!1),Se=e=>ve(e,!0);function Ce(e){var t=e.scrollDOM.clientHeight<e.scrollDOM.scrollHeight-2;let n=0,i=0,o;if(t){for(var r of e.state.facet(u.EditorView.scrollMargins)){r=r(e);null!=r&&r.top&&(n=Math.max(null==r?void 0:r.top,n)),null!=r&&r.bottom&&(i=Math.max(null==r?void 0:r.bottom,i))}o=e.scrollDOM.clientHeight-n-i}else o=(e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:i,selfScroll:t,height:Math.max(e.defaultLineHeight,o-5)}}function we(t,n){let i=Ce(t);var e,o,r,s=t["state"],a=R(s.selection,e=>e.empty?t.moveVertically(e,n,i.height):b(e,n));if(a.eq(s.selection))return!1;let l;return i.selfScroll&&(e=t.coordsAtPos(s.selection.main.head),o=(r=t.scrollDOM.getBoundingClientRect()).top+i.marginTop,r=r.bottom-i.marginBottom,e)&&e.top>o&&e.bottom<r&&(l=u.EditorView.scrollIntoView(a.main.head,{y:"start",yMargin:e.top-o})),t.dispatch(y(s,a),{effects:l}),!0}var _e=e=>we(e,!1),O=e=>we(e,!0);function x(e,t,n){let i=e.lineBlockAt(t.head),o=e.moveToLineBoundary(t,n);return o.head==t.head&&o.head!=(n?i.to:i.from)&&(o=e.moveToLineBoundary(t,n,!1)),o=!n&&o.head==i.from&&i.length&&(n=/^\s*/.exec(e.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length)&&t.head!=i.from+n?f.EditorSelection.cursor(i.from+n):o}var Me=t=>v(t,e=>x(t,e,!0)),Oe=t=>v(t,e=>x(t,e,!1)),xe=t=>v(t,e=>x(t,e,!w(t))),Be=t=>v(t,e=>x(t,e,w(t))),ke=t=>v(t,e=>f.EditorSelection.cursor(t.lineBlockAt(e.head).from,1)),Fe=t=>v(t,e=>f.EditorSelection.cursor(t.lineBlockAt(e.head).to,-1));function We(n,e,i){let o=!1,t=R(n.selection,e=>{var t=m.matchBrackets(n,e.head,-1)||m.matchBrackets(n,e.head,1)||0<e.head&&m.matchBrackets(n,e.head-1,1)||e.head<n.doc.length&&m.matchBrackets(n,e.head+1,-1);if(!t||!t.end)return e;o=!0;t=t.start.from==e.head?t.end.to:t.end.from;return i?f.EditorSelection.range(e.anchor,t):f.EditorSelection.cursor(t)});return!!o&&(e(y(n,t)),!0)}var Te=({state:e,dispatch:t})=>We(e,t,!1);function B(e,n){var t=R(e.state.selection,e=>{var t=n(e);return f.EditorSelection.range(e.anchor,t.head,t.goalColumn,t.bidiLevel||void 0)});return!t.eq(e.state.selection)&&(e.dispatch(y(e.state,t)),!0)}function k(t,n){return B(t,e=>t.moveByChar(e,n))}var Ae=e=>k(e,!w(e)),De=e=>k(e,w(e));function F(t,n){return B(t,e=>t.moveByGroup(e,n))}var Ne=e=>F(e,!w(e)),Ee=e=>F(e,w(e));function Pe(t,n){return B(t,e=>pe(t,e,n))}var Ie=t=>B(t,e=>M(t.state,e,!w(t))),Ve=t=>B(t,e=>M(t.state,e,w(t)));function Le(t,n){return B(t,e=>t.moveVertically(e,n))}var je=e=>Le(e,!1),He=e=>Le(e,!0);function ze(t,n){return B(t,e=>t.moveVertically(e,n,Ce(t).height))}var Ue=e=>ze(e,!1),qe=e=>ze(e,!0),Ye=t=>B(t,e=>x(t,e,!0)),Ge=t=>B(t,e=>x(t,e,!1)),Ke=t=>B(t,e=>x(t,e,!w(t))),$e=t=>B(t,e=>x(t,e,w(t))),Xe=t=>B(t,e=>f.EditorSelection.cursor(t.lineBlockAt(e.head).from)),Je=t=>B(t,e=>f.EditorSelection.cursor(t.lineBlockAt(e.head).to)),Ze=({state:e,dispatch:t})=>(t(y(e,{anchor:0})),!0),Qe=({state:e,dispatch:t})=>(t(y(e,{anchor:e.doc.length})),!0),et=({state:e,dispatch:t})=>(t(y(e,{anchor:e.selection.main.anchor,head:0})),!0),tt=({state:e,dispatch:t})=>(t(y(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0),nt=({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0),it=({state:n,dispatch:e})=>{var t=D(n).map(({from:e,to:t})=>f.EditorSelection.range(e,Math.min(t+1,n.doc.length)));return e(n.update({selection:f.EditorSelection.create(t),userEvent:"select"})),!0},ot=({state:o,dispatch:e})=>{var t=R(o.selection,t=>{var n;for(let e=m.syntaxTree(o).resolveStack(t.from,1);e;e=e.next){var i=e["node"];if((i.from<t.from&&i.to>=t.to||i.to>t.to&&i.from<=t.from)&&null!=(n=i.parent)&&n.parent)return f.EditorSelection.range(i.to,i.from)}return t});return e(y(o,t)),!0},rt=({state:e,dispatch:t})=>{let n=e.selection,i=null;return 1<n.ranges.length?i=f.EditorSelection.create([n.main]):n.main.empty||(i=f.EditorSelection.create([f.EditorSelection.cursor(n.main.head)])),!!i&&(t(y(e,i)),!0)};function W(o,r){if(o.state.readOnly)return!1;let s="delete.selection",e=o["state"];var t=e.changeByRange(t=>{let{from:n,to:i}=t;if(n==i){let e=r(t);e<n?(s="delete.backward",e=T(o,e,!1)):e>n&&(s="delete.forward",e=T(o,e,!0)),n=Math.min(n,e),i=Math.max(i,e)}else n=T(o,n,!1),i=T(o,i,!0);return n==i?{range:t}:{changes:{from:n,to:i},range:f.EditorSelection.cursor(n,n<t.head?-1:1)}});return!t.changes.empty&&(o.dispatch(e.update(t,{scrollIntoView:!0,userEvent:s,effects:"delete.selection"==s?u.EditorView.announce.of(e.phrase("Selection deleted")):void 0})),!0)}function T(t,n,i){if(t instanceof u.EditorView)for(var e of t.state.facet(u.EditorView.atomicRanges).map(e=>e(t)))e.between(n,n,(e,t)=>{e<n&&n<t&&(n=i?t:e)});return n}const st=(a,l)=>W(a,e=>{let t=e.from,n=a["state"],i=n.doc.lineAt(t),o,r;if(!l&&t>i.from&&t<i.from+200&&!/[^ \t]/.test(o=i.text.slice(0,t-i.from))){if("\t"==o[o.length-1])return t-1;var s=f.countColumn(o,n.tabSize)%m.getIndentUnit(n)||m.getIndentUnit(n);for(let e=0;e<s&&" "==o[o.length-1-e];e++)t--;r=t}else(r=f.findClusterBreak(i.text,t-i.from,l,l)+i.from)==t&&i.number!=(l?n.doc.lines:1)?r+=l?1:-1:!l&&/[\ufe00-\ufe0f]/.test(i.text.slice(r-i.from,t-i.from))&&(r=f.findClusterBreak(i.text,r-i.from,!1,!1)+i.from);return r});var A=e=>st(e,!1),at=e=>st(e,!0);const lt=(e,u)=>W(e,t=>{let n=t.head,i=e["state"],o=i.doc.lineAt(n);var r=i.charCategorizer(n);for(let e=null;;){if(n==(u?o.to:o.from)){n==t.head&&o.number!=(u?i.doc.lines:1)&&(n+=u?1:-1);break}var s=f.findClusterBreak(o.text,n-o.from,u)+o.from,a=o.text.slice(Math.min(n,s)-o.from,Math.max(n,s)-o.from),l=r(a);if(null!=e&&l!=e)break;" "==a&&n==t.head||(e=l),n=s}return n});var ut=e=>lt(e,!1),dt=e=>lt(e,!0),ct=n=>W(n,e=>{var t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),mt=n=>W(n,e=>{var t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),ht=n=>W(n,e=>{var t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),ft=({state:e,dispatch:t})=>{var n;return!e.readOnly&&(n=e.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:f.Text.of(["",""])},range:f.EditorSelection.cursor(e.from)})),t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0)},pt=({state:o,dispatch:e})=>{var t;return!o.readOnly&&!(t=o.changeByRange(e=>{var t,n,i;return e.empty&&0!=e.from&&e.from!=o.doc.length?{changes:{from:n=(t=e.from)==(i=o.doc.lineAt(t)).from?t-1:f.findClusterBreak(i.text,t-i.from,!1)+i.from,to:i=t==i.to?t+1:f.findClusterBreak(i.text,t-i.from,!0)+i.from,insert:o.doc.slice(t,i).append(o.doc.slice(n,t))},range:f.EditorSelection.cursor(i)}:{range:e}})).changes.empty&&(e(o.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function D(n){let i=[],o=-1;for(var r of n.selection.ranges){let e=n.doc.lineAt(r.from),t=n.doc.lineAt(r.to);var s;r.empty||r.to!=t.from||(t=n.doc.lineAt(r.to-1)),o>=e.number?((s=i[i.length-1]).to=t.to,s.ranges.push(r)):i.push({from:e.from,to:t.to,ranges:[r]}),o=t.number+1}return i}function gt(e,t,n){if(e.readOnly)return!1;var i,o=[],r=[];for(i of D(e))if(n?i.to!=e.doc.length:0!=i.from){var s=e.doc.lineAt(n?i.to+1:i.from-1),a=s.length+1;if(n){o.push({from:i.to,to:s.to},{from:i.from,insert:s.text+e.lineBreak});for(var l of i.ranges)r.push(f.EditorSelection.range(Math.min(e.doc.length,l.anchor+a),Math.min(e.doc.length,l.head+a)))}else{o.push({from:s.from,to:i.from},{from:i.to,insert:e.lineBreak+s.text});for(var u of i.ranges)r.push(f.EditorSelection.range(u.anchor-a,u.head-a))}}return!!o.length&&(t(e.update({changes:o,scrollIntoView:!0,selection:f.EditorSelection.create(r,e.selection.mainIndex),userEvent:"move.line"})),!0)}var Rt=({state:e,dispatch:t})=>gt(e,t,!1),yt=({state:e,dispatch:t})=>gt(e,t,!0);function vt(e,t,n){if(e.readOnly)return!1;var i,o=[];for(i of D(e))o.push(n?{from:i.from,insert:e.doc.slice(i.from,i.to)+e.lineBreak}:{from:i.to,insert:e.lineBreak+e.doc.slice(i.from,i.to)});return t(e.update({changes:o,scrollIntoView:!0,userEvent:"input.copyline"})),!0}var bt=({state:e,dispatch:t})=>vt(e,t,!1),St=({state:e,dispatch:t})=>vt(e,t,!0),Ct=t=>{if(t.state.readOnly)return!1;let n=t["state"],e=n.changes(D(n).map(({from:e,to:t})=>(0<e?e--:t<n.doc.length&&t++,{from:e,to:t})));var i=R(n.selection,e=>t.moveVertically(e,!0)).map(e);return t.dispatch({changes:e,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};var wt=Mt(!1),_t=Mt(!0);function Mt(l){return({state:a,dispatch:e})=>{var t;return!a.readOnly&&(t=a.changeByRange(e=>{let{from:t,to:n}=e,i=a.doc.lineAt(t);var e=!l&&t==n&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};var n=m.syntaxTree(e).resolveInner(t);let i=n.childBefore(t),o=n.childAfter(t),r;return i&&o&&i.to<=t&&o.from>=t&&(r=i.type.prop(h.NodeProp.closedBy))&&-1<r.indexOf(o.name)&&e.doc.lineAt(i.to).from==e.doc.lineAt(o.from).from&&!/\S/.test(e.sliceDoc(i.to,o.from))?{from:i.to,to:o.from}:null}(a,t),o=(l&&(t=n=(n<=i.to?i:a.doc.lineAt(n)).to),new m.IndentContext(a,{simulateBreak:t,simulateDoubleBreak:!!e}));let r=m.getIndentation(o,t);for(null==r&&(r=f.countColumn(/^\s*/.exec(a.doc.lineAt(t).text)[0],a.tabSize));n<i.to&&/\s/.test(i.text[n-i.from]);)n++;e?{from:t,to:n}=e:t>i.from&&t<i.from+100&&!/\S/.test(i.text.slice(0,t))&&(t=i.from);var s=["",m.indentString(a,r)];return e&&s.push(m.indentString(a,o.lineIndent(i.from,-1))),{changes:{from:t,to:n,insert:f.Text.of(s)},range:f.EditorSelection.cursor(t+1+s[1].length)}}),e(a.update(t,{scrollIntoView:!0,userEvent:"input"})),!0)}}function Ot(o,r){let s=-1;return o.changeByRange(t=>{var n=[];for(let e=t.from;e<=t.to;){var i=o.doc.lineAt(e);i.number>s&&(t.empty||t.to>i.from)&&(r(i,n,t),s=i.number),e=i.to+1}var e=o.changes(n);return{changes:n,range:f.EditorSelection.range(e.mapPos(t.anchor,1),e.mapPos(t.head,1))}})}var xt=({state:s,dispatch:e})=>{if(s.readOnly)return!1;let a=Object.create(null),l=new m.IndentContext(s,{overrideIndentation:e=>{e=a[e];return null==e?-1:e}});var t=Ot(s,(e,t,n)=>{let i=m.getIndentation(l,e.from);var o,r;null!=i&&(/\S/.test(e.text)||(i=0),(o=/^\s*/.exec(e.text)[0])!=(r=m.indentString(s,i))||n.from<e.from+o.length)&&(a[e.from]=i,t.push({from:e.from,to:e.from+o.length,insert:r}))});return t.changes.empty||e(s.update(t,{userEvent:"indent"})),!0};const N=({state:n,dispatch:e})=>!n.readOnly&&(e(n.update(Ot(n,(e,t)=>{t.push({from:e.from,insert:n.facet(m.indentUnit)})}),{userEvent:"input.indent"})),!0);var Bt=({state:s,dispatch:e})=>!s.readOnly&&(e(s.update(Ot(s,(n,i)=>{var o=/^\s*/.exec(n.text)[0];if(o){let e=f.countColumn(o,s.tabSize),t=0;for(var r=m.indentString(s,Math.max(0,e-m.getIndentUnit(s)));t<o.length&&t<r.length&&o.charCodeAt(t)==r.charCodeAt(t);)t++;i.push({from:n.from+t,to:n.from+o.length,insert:r.slice(t)})}}),{userEvent:"delete.dedent"})),!0),kt=[{key:"Ctrl-b",run:de,shift:Ae,preventDefault:!0},{key:"Ctrl-f",run:ce,shift:De},{key:"Ctrl-p",run:be,shift:je},{key:"Ctrl-n",run:Se,shift:He},{key:"Ctrl-a",run:ke,shift:Xe},{key:"Ctrl-e",run:Fe,shift:Je},{key:"Ctrl-d",run:at},{key:"Ctrl-h",run:A},{key:"Ctrl-k",run:ct},{key:"Ctrl-Alt-h",run:ut},{key:"Ctrl-o",run:ft},{key:"Ctrl-t",run:pt},{key:"Ctrl-v",run:O}],Ft=[{key:"ArrowLeft",run:de,shift:Ae,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:me,shift:Ne,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:xe,shift:Ke,preventDefault:!0},{key:"ArrowRight",run:ce,shift:De,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:he,shift:Ee,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Be,shift:$e,preventDefault:!0},{key:"ArrowUp",run:be,shift:je,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Ze,shift:et},{mac:"Ctrl-ArrowUp",run:_e,shift:Ue},{key:"ArrowDown",run:Se,shift:He,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Qe,shift:tt},{mac:"Ctrl-ArrowDown",run:O,shift:qe},{key:"PageUp",run:_e,shift:Ue},{key:"PageDown",run:O,shift:qe},{key:"Home",run:Oe,shift:Ge,preventDefault:!0},{key:"Mod-Home",run:Ze,shift:et},{key:"End",run:Me,shift:Ye,preventDefault:!0},{key:"Mod-End",run:Qe,shift:tt},{key:"Enter",run:wt},{key:"Mod-a",run:nt},{key:"Backspace",run:A,shift:A},{key:"Delete",run:at},{key:"Mod-Backspace",mac:"Alt-Backspace",run:ut},{key:"Mod-Delete",mac:"Alt-Delete",run:dt},{mac:"Mod-Backspace",run:mt},{mac:"Mod-Delete",run:ht}].concat(kt.map(e=>({mac:e.key,run:e.run,shift:e.shift}))),Wt=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Re,shift:Ie},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:ye,shift:Ve},{key:"Alt-ArrowUp",run:Rt},{key:"Shift-Alt-ArrowUp",run:bt},{key:"Alt-ArrowDown",run:yt},{key:"Shift-Alt-ArrowDown",run:St},{key:"Escape",run:rt},{key:"Mod-Enter",run:_t},{key:"Alt-l",mac:"Ctrl-l",run:it},{key:"Mod-i",run:ot,preventDefault:!0},{key:"Mod-[",run:Bt},{key:"Mod-]",run:N},{key:"Mod-Alt-\\",run:xt},{key:"Shift-Mod-k",run:Ct},{key:"Shift-Mod-\\",run:Te},{key:"Mod-/",run:e},{key:"Alt-A",run:L}].concat(Ft),Tt={key:"Tab",run:N,shift:Bt};return t.blockComment=j,t.blockUncomment=H,t.copyLineDown=St,t.copyLineUp=bt,t.cursorCharBackward=e=>S(e,!1),t.cursorCharForward=e=>S(e,!0),t.cursorCharLeft=de,t.cursorCharRight=ce,t.cursorDocEnd=Qe,t.cursorDocStart=Ze,t.cursorGroupBackward=e=>_(e,!1),t.cursorGroupForward=e=>_(e,!0),t.cursorGroupLeft=me,t.cursorGroupRight=he,t.cursorLineBoundaryBackward=Oe,t.cursorLineBoundaryForward=Me,t.cursorLineBoundaryLeft=xe,t.cursorLineBoundaryRight=Be,t.cursorLineDown=Se,t.cursorLineEnd=Fe,t.cursorLineStart=ke,t.cursorLineUp=be,t.cursorMatchingBracket=Te,t.cursorPageDown=O,t.cursorPageUp=_e,t.cursorSubwordBackward=e=>ge(e,!1),t.cursorSubwordForward=e=>ge(e,!0),t.cursorSyntaxLeft=Re,t.cursorSyntaxRight=ye,t.defaultKeymap=Wt,t.deleteCharBackward=A,t.deleteCharForward=at,t.deleteGroupBackward=ut,t.deleteGroupForward=dt,t.deleteLine=Ct,t.deleteLineBoundaryBackward=mt,t.deleteLineBoundaryForward=ht,t.deleteToLineEnd=ct,t.deleteToLineStart=n=>W(n,e=>{var t=n.lineBlockAt(e.head).from;return e.head>t?t:Math.max(0,e.head-1)}),t.deleteTrailingWhitespace=({state:i,dispatch:e})=>{if(i.readOnly)return!1;var o=[];for(let e=0,t="",n=i.doc.iter();;){if(n.next(),n.lineBreak||n.done){var r=t.search(/\s+$/);if(-1<r&&o.push({from:e-(t.length-r),to:e}),n.done)break;t=""}else t=n.value;e+=n.value.length}return!!o.length&&(e(i.update({changes:o,userEvent:"delete"})),!0)},t.emacsStyleKeymap=kt,t.history=function(e={}){return[r,G.of(e),u.EditorView.domEventHandlers({beforeinput(e,t){var n="historyUndo"==e.inputType?$:"historyRedo"==e.inputType?a:null;return!!n&&(e.preventDefault(),n(t))}})]},t.historyField=K,t.historyKeymap=ue,t.indentLess=Bt,t.indentMore=N,t.indentSelection=xt,t.indentWithTab=Tt,t.insertBlankLine=_t,t.insertNewline=({state:e,dispatch:t})=>(t(e.update(e.replaceSelection(e.lineBreak),{scrollIntoView:!0,userEvent:"input"})),!0),t.insertNewlineAndIndent=wt,t.insertTab=({state:e,dispatch:t})=>e.selection.ranges.some(e=>!e.empty)?N({state:e,dispatch:t}):(t(e.update(e.replaceSelection("\t"),{scrollIntoView:!0,userEvent:"input"})),!0),t.invertedEffects=Y,t.isolateHistory=q,t.lineComment=I,t.lineUncomment=V,t.moveLineDown=yt,t.moveLineUp=Rt,t.redo=a,t.redoDepth=ee,t.redoSelection=J,t.selectAll=nt,t.selectCharBackward=e=>k(e,!1),t.selectCharForward=e=>k(e,!0),t.selectCharLeft=Ae,t.selectCharRight=De,t.selectDocEnd=tt,t.selectDocStart=et,t.selectGroupBackward=e=>F(e,!1),t.selectGroupForward=e=>F(e,!0),t.selectGroupLeft=Ne,t.selectGroupRight=Ee,t.selectLine=it,t.selectLineBoundaryBackward=Ge,t.selectLineBoundaryForward=Ye,t.selectLineBoundaryLeft=Ke,t.selectLineBoundaryRight=$e,t.selectLineDown=He,t.selectLineEnd=Je,t.selectLineStart=Xe,t.selectLineUp=je,t.selectMatchingBracket=({state:e,dispatch:t})=>We(e,t,!0),t.selectPageDown=qe,t.selectPageUp=Ue,t.selectParentSyntax=ot,t.selectSubwordBackward=e=>Pe(e,!1),t.selectSubwordForward=e=>Pe(e,!0),t.selectSyntaxLeft=Ie,t.selectSyntaxRight=Ve,t.simplifySelection=rt,t.splitLine=ft,t.standardKeymap=Ft,t.toggleBlockComment=L,t.toggleBlockCommentByLine=z,t.toggleComment=e,t.toggleLineComment=P,t.transposeChars=pt,t.undo=$,t.undoDepth=Q,t.undoSelection=X,{module_name:"@codemirror/commands",exports:t=null!=E?E:t}}),Runtime.rtl.defModule(function(e){var t=null,n={},o=e("@codemirror/view"),a=e("@codemirror/state"),d=e("crelt");class r{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class s{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let i=e;e=n.facet(C).markerFilter,e&&(i=e(i)),e=o.Decoration.set(i.map(e=>e.from==e.to||e.from==e.to-1&&n.doc.lineAt(e.from).to==e.from?o.Decoration.widget({widget:new M(e),diagnostic:e}).range(e.from):o.Decoration.mark({attributes:{class:"cm-lintRange cm-lintRange-"+e.severity+(e.markClass?" "+e.markClass:"")},diagnostic:e}).range(e.from,e.to)),!0);return new s(e,t,c(e))}}function c(e,i=null,t=0){let o=null;return e.between(t,1e9,(e,t,{spec:n})=>{if(!i||n.diagnostic==i)return o=new r(e,t,n.diagnostic),!1}),o}function i(e,t){t=e.startState.doc.lineAt(t.pos);return!(!e.effects.some(e=>e.is(m))&&!e.changes.touchesRange(t.from,t.to))}function l(e,t){return e.field(p,!1)?t:t.concat(a.StateEffect.appendConfig.of(D))}function u(e,t){return{effects:l(e,[m.of(t)])}}const m=a.StateEffect.define(),h=a.StateEffect.define(),f=a.StateEffect.define(),p=a.StateField.define({create(){return new s(o.Decoration.none,null,null)},update(n,i){if(i.docChanged){let e=n.diagnostics.map(i.changes),t=null;var o;n.selected&&(o=i.changes.mapPos(n.selected.from,1),t=c(e,n.selected.diagnostic,o)||c(e,null,o)),n=new s(e,n.panel,t)}for(var e of i.effects)e.is(m)?n=s.init(e.value,n.panel,i.state):e.is(h)?n=new s(n.diagnostics,e.value?x.open:null,n.selected):e.is(f)&&(n=new s(n.diagnostics,n.panel,e.value));return n},provide:e=>[o.showPanel.from(e,e=>e.panel),o.EditorView.decorations.from(e,e=>e.diagnostics)]});const g=o.Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function R(t,e){return d("ul",{class:"cm-tooltip-lint"},e.map(e=>_(t,e,!1)))}e=e=>{var t=e.state.field(p,!1),t=(t&&t.panel||e.dispatch({effects:l(e.state,[h.of(!0)])}),o.getPanel(e,x.open));return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0};const y=e=>{var t=e.state.field(p,!1);return!(!t||!t.panel||(e.dispatch({effects:h.of(!1)}),0))};var v=e=>{var t=e.state.field(p,!1);if(!t)return!1;let n=e.state.selection.main,i=t.diagnostics.iter(n.to+1);return!(!i.value&&(!(i=t.diagnostics.iter(0)).value||i.from==n.from&&i.to==n.to)||(e.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),0))},b=[{key:"Mod-Shift-m",run:e,preventDefault:!0},{key:"F8",run:v}];const S=o.ViewPlugin.fromClass(class{constructor(e){this.view=e,this.timeout=-1,this.set=!0;e=e.state.facet(C).delay;this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){var e=Date.now();if(e<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-e);else{this.set=!1;let t=this.view["state"],e=t.facet(C)["sources"];Promise.all(e.map(e=>Promise.resolve(e(this.view)))).then(e=>{e=e.reduce((e,t)=>e.concat(t));this.view.state.doc==t.doc&&this.view.dispatch(u(this.view.state,e))},e=>{o.logException(this.view.state,e)})}}update(e){var t=e.state.facet(C);(e.docChanged||t!=e.startState.facet(C)||t.needsRefresh&&t.needsRefresh(e))&&(this.lintTime=Date.now()+t.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,t.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),C=a.Facet.define({combine(e){return Object.assign({sources:e.map(e=>e.source)},a.combineConfig(e.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(t,n)=>t?n?e=>t(e)||n(e):t:n}))}});function w(e){var n=[];if(e)e:for(var{name:i}of e){for(let e=0;e<i.length;e++){let t=i[e];if(/[a-zA-Z]/.test(t)&&!n.some(e=>e.toLowerCase()==t.toLowerCase())){n.push(t);continue e}}n.push("")}return n}function _(a,l,e){let u=e?w(l.actions):[];return d("li",{class:"cm-diagnostic cm-diagnostic-"+l.severity},d("span",{class:"cm-diagnosticText"},l.renderMessage?l.renderMessage():l.message),null==(e=l.actions)?void 0:e.map((t,e)=>{let n=!1,i=e=>{e.preventDefault(),!n&&(n=!0,e=c(a.state.field(p).diagnostics,l))&&t.apply(a,e.from,e.to)};var o=t["name"],r=u[e]?o.indexOf(u[e]):-1,s=r<0?o:[o.slice(0,r),d("u",o.slice(r,r+1)),o.slice(r+1)];return d("button",{type:"button",class:"cm-diagnosticAction",onclick:i,onmousedown:i,"aria-label":` Action: ${o}${r<0?"":` (access key "${u[e]})"`}.`},s)}),l.source&&d("div",{class:"cm-diagnosticSource"},l.source))}class M extends o.WidgetType{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return d("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class O{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=_(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class x{constructor(r){this.view=r,this.items=[];this.list=d("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t=>{if(27==t.keyCode)y(this.view),this.view.focus();else if(38==t.keyCode||33==t.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==t.keyCode||34==t.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==t.keyCode)this.moveSelection(0);else if(35==t.keyCode)this.moveSelection(this.items.length-1);else if(13==t.keyCode)this.view.focus();else{if(!(65<=t.keyCode&&t.keyCode<=90&&0<=this.selectedIndex))return;var n,i=this.items[this.selectedIndex]["diagnostic"],o=w(i.actions);for(let e=0;e<o.length;e++)o[e].toUpperCase().charCodeAt(0)==t.keyCode&&(n=c(this.view.state.field(p).diagnostics,i))&&i.actions[e].apply(r,n.from,n.to)}t.preventDefault()},onclick:t=>{for(let e=0;e<this.items.length;e++)this.items[e].dom.contains(t.target)&&this.moveSelection(e)}}),this.dom=d("div",{class:"cm-panel-lint"},this.list,d("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>y(this.view)},"")),this.update()}get selectedIndex(){var t=this.view.state.field(p).selected;if(t)for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return-1}update(){let{diagnostics:e,selected:r}=this.view.state.field(p),s=0,a=!1,l=null;for(e.between(0,this.view.state.doc.length,(e,t,{spec:n})=>{let i=-1,o;for(let e=s;e<this.items.length;e++)if(this.items[e].diagnostic==n.diagnostic){i=e;break}i<0?(o=new O(this.view,n.diagnostic),this.items.splice(s,0,o),a=!0):(o=this.items[i],i>s&&(this.items.splice(s,i-s),a=!0)),r&&o.diagnostic==r.diagnostic?o.dom.hasAttribute("aria-selected")||(o.dom.setAttribute("aria-selected","true"),l=o):o.dom.hasAttribute("aria-selected")&&o.dom.removeAttribute("aria-selected"),s++});s<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)a=!0,this.items.pop();0==this.items.length&&(this.items.push(new O(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),a=!0),l?(this.list.setAttribute("aria-activedescendant",l.id),this.view.requestMeasure({key:this,read:()=>({sel:l.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:e,panel:t})=>{var n=t.height/this.list.offsetHeight;e.top<t.top?this.list.scrollTop-=(t.top-e.top)/n:e.bottom>t.bottom&&(this.list.scrollTop+=(e.bottom-t.bottom)/n)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),a&&this.sync()}sync(){let t=this.list.firstChild;function e(){var e=t;t=e.nextSibling,e.remove()}for(var n of this.items)if(n.dom.parentNode==this.list){for(;t!=n.dom;)e();t=n.dom.nextSibling}else this.list.insertBefore(n.dom,t);for(;t;)e()}moveSelection(e){this.selectedIndex<0||(e=c(this.view.state.field(p).diagnostics,this.items[e].diagnostic))&&this.view.dispatch({selection:{anchor:e.from,head:e.to},scrollIntoView:!0,effects:f.of(e)})}static open(e){return new x(e)}}function B(e,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(e)}</svg>')`}function k(e){return B(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}var E=o.EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:k("#d11")},".cm-lintRange-warning":{backgroundImage:k("orange")},".cm-lintRange-info":{backgroundImage:k("#999")},".cm-lintRange-hint":{backgroundImage:k("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function F(e){return"error"==e?4:"warning"==e?3:"info"==e?2:1}class P extends o.GutterMarker{constructor(e){super(),this.diagnostics=e,this.severity=e.reduce((e,t)=>F(e)<F(t.severity)?t.severity:e,"hint")}toDOM(e){let t=document.createElement("div"),n=(t.className="cm-lint-marker cm-lint-marker-"+this.severity,this.diagnostics);var i=e.state.facet(N).tooltipFilter;return(n=i?i(n):n).length&&(t.onmouseover=()=>I(e,t,n)),t}}function I(t,r,n){function e(){var e=t.elementAtHeight(r.getBoundingClientRect().top+5-t.documentTop);t.coordsAtPos(e.from)&&t.dispatch({effects:T.of({pos:e.from,above:!1,create(){return{dom:R(t,n),getCoords:()=>r.getBoundingClientRect()}}})}),r.onmouseout=r.onmousemove=null;{var i=t,o=r;let n=t=>{var e=o.getBoundingClientRect();if(!(t.clientX>e.left-10&&t.clientX<e.right+10&&t.clientY>e.top-10&&t.clientY<e.bottom+10)){for(let e=t.target;e;e=e.parentNode)if(1==e.nodeType&&e.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",n),i.state.field(A)&&i.dispatch({effects:T.of(null)})}};window.addEventListener("mousemove",n)}}let i=t.state.facet(N)["hoverTime"],o=setTimeout(e,i);r.onmouseout=()=>{clearTimeout(o),r.onmouseout=r.onmousemove=null},r.onmousemove=()=>{clearTimeout(o),o=setTimeout(e,i)}}const V=o.gutter({class:"cm-gutter-lint",markers:e=>e.state.field(W)}),W=a.StateField.define({create(){return a.RangeSet.empty},update(t,n){t=t.map(n.changes);var i,o=n.state.facet(N).markerFilter;for(i of n.effects)if(i.is(m)){let e=i.value;o&&(e=o(e||[])),t=function(e,t){var n,i=Object.create(null);for(n of t){var o=e.lineAt(n.from);(i[o.from]||(i[o.from]=[])).push(n)}var r,s=[];for(r in i)s.push(new P(i[r]).range(+r));return a.RangeSet.of(s,!0)}(n.state.doc,e.slice(0))}return t}}),T=a.StateEffect.define(),A=a.StateField.define({create(){return null},update(e,t){return e&&t.docChanged&&(e=i(t,e)?null:Object.assign(Object.assign({},e),{pos:t.changes.mapPos(e.pos)})),t.effects.reduce((e,t)=>t.is(T)?t.value:e,e)},provide:e=>o.showTooltip.from(e)}),L=o.EditorView.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:B('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:B('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:B('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),D=[p,o.EditorView.decorations.compute([p],e=>{var{selected:e,panel:t}=e.field(p);return e&&t&&e.from!=e.to?o.Decoration.set([g.range(e.from,e.to)]):o.Decoration.none}),o.hoverTooltip(function(e,i,o){var t=e.state.field(p)["diagnostics"];let r=[],s=2e8,a=0;return t.between(i-(o<0?1:0),i+(0<o?1:0),(e,t,{spec:n})=>{e<=i&&i<=t&&(e==t||(e<i||0<o)&&(i<t||o<0))&&(r.push(n.diagnostic),s=Math.min(e,s),a=Math.max(t,a))}),t=e.state.facet(C).tooltipFilter,(r=t?t(r):r).length?{pos:s,end:a,above:e.state.doc.lineAt(s).to<a,create(){return{dom:R(e,r)}}}:null},{hideOn:i}),E],N=a.Facet.define({combine(e){return a.combineConfig(e,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});return n.closeLintPanel=y,n.diagnosticCount=function(e){return(e=e.field(p,!1))?e.diagnostics.size:0},n.forEachDiagnostic=function(e,t){if((e=e.field(p,!1))&&e.diagnostics.size)for(var n=a.RangeSet.iter([e.diagnostics]);n.value;n.next())t(n.value.spec.diagnostic,n.from,n.to)},n.forceLinting=function(e){(e=e.plugin(S))&&e.force()},n.lintGutter=function(e={}){return[N.of(e),W,V,L,A]},n.lintKeymap=b,n.linter=function(e,t={}){return[C.of({source:e,config:t}),S,D]},n.nextDiagnostic=v,n.openLintPanel=e,n.previousDiagnostic=e=>{var t=e["state"],n=t.field(p,!1);if(!n)return!1;let i=t.selection.main,o,r,s,a;return n.diagnostics.between(0,t.doc.length,(e,t)=>{t<i.to&&(null==o||o<e)&&(o=e,r=t),(null==s||e>s)&&(s=e,a=t)}),null!=s&&(null!=o||s!=i.from)&&(e.dispatch({selection:{anchor:null!==o&&void 0!==o?o:s,head:null!==r&&void 0!==r?r:a},scrollIntoView:!0}),!0)},n.setDiagnostics=u,n.setDiagnosticsEffect=m,{module_name:"@codemirror/lint",exports:n=null!=t?t:n}}),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Hooks&&(Bayrell.CloudOS.Frontend.Hooks={}),Bayrell.CloudOS.Frontend.Hooks.AppHook=function(){Runtime.Web.Hooks.AppHook.apply(this,arguments)},Bayrell.CloudOS.Frontend.Hooks.AppHook.prototype=Object.create(Runtime.Web.Hooks.AppHook.prototype),Bayrell.CloudOS.Frontend.Hooks.AppHook.prototype.constructor=Bayrell.CloudOS.Frontend.Hooks.AppHook,Object.assign(Bayrell.CloudOS.Frontend.Hooks.AppHook.prototype,{register_hooks:function(){this.register(this.constructor.COMPONENTS,1e3),this.register(this.constructor.CSS_VARS),this.register(this.constructor.EXPORT_DATA),this.register(this.constructor.LAYOUT_CLASS_NAME),this.register(this.constructor.RENDER_PROVIDER_SETTINGS)},render_provider_settings:function(e){e.set("ssr",!0),e.set("break",0)},layout_class_name:function(e){"default"==e.get("layout_name")&&e.set("class_name","Bayrell.CloudOS.Frontend.DefaultLayout")},export_data:function(e){for(var e=e.get("data"),t=(e.set("entry_point","Bayrell.CloudOS.Frontend.WebApp"),e.set("modules",Runtime.Vector.from(["Bayrell.CloudOS.Frontend"])),e.get("environments")),n=Runtime.Vector.from(["CLOUD_ENV","DEBUG"]),i=0;i<n.count();i++){var o=n.get(i);t.set(o,Runtime.rtl.getContext().env(o))}},components:function(e){Runtime.rtl.attr(e,"components").appendItems(Runtime.Vector.from(["Bayrell.CloudOS.Frontend.CSS"]))},render_head:function(e){Runtime.rtl.attr(e,"components").appendItems(Runtime.Vector.from(["Bayrell.CloudOS.Frontend.CSS"]))},render_footer:function(e){Runtime.rtl.attr(e,"components").appendItems(Runtime.Vector.from(["Bayrell.CloudOS.Frontend.Scripts"]))}}),Object.assign(Bayrell.CloudOS.Frontend.Hooks.AppHook,Runtime.Web.Hooks.AppHook),Object.assign(Bayrell.CloudOS.Frontend.Hooks.AppHook,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Hooks"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Hooks.AppHook"},getParentClassName:function(){return"Runtime.Web.Hooks.AppHook"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Hooks.AppHook),window["Bayrell.CloudOS.Frontend.Hooks.AppHook"]=Bayrell.CloudOS.Frontend.Hooks.AppHook,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Hooks.AppHook),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Applications&&(Bayrell.CloudOS.Frontend.Applications={}),Bayrell.CloudOS.Frontend.Applications.AppEnvironmentsTableModel=function(){Runtime.Widget.Table.TableDialogModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.Applications.AppEnvironmentsTableModel.prototype=Object.create(Runtime.Widget.Table.TableDialogModel.prototype),Bayrell.CloudOS.Frontend.Applications.AppEnvironmentsTableModel.prototype.constructor=Bayrell.CloudOS.Frontend.Applications.AppEnvironmentsTableModel,Object.assign(Bayrell.CloudOS.Frontend.Applications.AppEnvironmentsTableModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudProxyStorage(Runtime.Map.from({layout:this.layout,primary_keys:Runtime.Vector.from(["key"]),container:this.parent_widget.storage,path:Runtime.Vector.from(["item","environments"])}))},initStyles:function(){this.styles.add("border")},initWidgets:function(){var e=new Runtime.Widget.Form.FormModel(Runtime.Map.from({parent_widget:this,storage:this.createDataStorage()}));this.addWidgetFields(e),Runtime.Widget.Table.TableDialogModel.prototype.initWidgets.call(this)},initFields:function(){this.addField(Runtime.Map.from({name:"row_number"})),this.addWidgetFields(this),this.addFieldRowButtons()},addWidgetFields:function(e){e.addField(Runtime.Map.from({label:"Key",name:"key"})),e.addField(Runtime.Map.from({label:"Value",name:"value"})),e.addField(Runtime.Map.from({label:"Enable",name:"enable",props:Runtime.Map.from({options:Runtime.Vector.from([Runtime.Map.from({label:"Yes",value:"1"}),Runtime.Map.from({label:"No",value:"0"})])}),component:e==this?"Runtime.Widget.SelectLabel":"Runtime.Widget.Select"}))},initTopButtons:function(){Runtime.Widget.Table.TableDialogModel.prototype.initTopButtons.call(this)},getItemValue:function(e,t){return Runtime.Widget.Table.TableDialogModel.prototype.getItemValue.call(this,e,t)},_init:function(){Runtime.Widget.Table.TableDialogModel.prototype._init.call(this),this.widget_name="environments"}}),Object.assign(Bayrell.CloudOS.Frontend.Applications.AppEnvironmentsTableModel,Runtime.Widget.Table.TableDialogModel),Object.assign(Bayrell.CloudOS.Frontend.Applications.AppEnvironmentsTableModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Applications"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Applications.AppEnvironmentsTableModel"},getParentClassName:function(){return"Runtime.Widget.Table.TableDialogModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Applications.AppEnvironmentsTableModel),window["Bayrell.CloudOS.Frontend.Applications.AppEnvironmentsTableModel"]=Bayrell.CloudOS.Frontend.Applications.AppEnvironmentsTableModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Applications.AppEnvironmentsTableModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Applications&&(Bayrell.CloudOS.Frontend.Applications={}),Bayrell.CloudOS.Frontend.Applications.AppForm={name:"Bayrell.CloudOS.Frontend.Applications.AppForm",extends:Runtime.Widget.Form.Form,data:function(){return{patch_selected:-1,tabs:new Runtime.Widget.Tab.TabsModel(Runtime.Map.from({active:"info",tabs:Runtime.Vector.from([Runtime.Map.from({name:"info",label:"Info"}),Runtime.Map.from({name:"custom_patch",label:"Custom patch"}),Runtime.Map.from({name:"total_patches",label:"Total patches"}),Runtime.Map.from({name:"result",label:"Result"}),Runtime.Map.from({name:"yaml",label:"Yaml"})])}))}},methods:{renderVariables:function(){var e=[],i=this.model.storage.item.get("variables"),o=this._e(e,"div",{class:this._class_name(["app_variables"]),key:"app_variables"});if(null!=i)for(let n=0;n<i.count();n++){var r=i.get(n);let t=r.get("name");var s,a,l=r.get("label"),r=r.get("value");"_var_app_name_"!=t&&"_var_service_name_"!=t&&(s=this._e(o,"div",{"data-name":t,class:this._class_name(["widget_form__row"]),key:(t,"widget_form__row")}),a=this._e(s,"label",{class:this._class_name(["widget_form__row_label"]),key:"widget_form__row_label"}),this._t(a,l),a=this._e(s,"div",{class:this._class_name(["widget_form__field"]),key:"widget_form__field"}),this._c(a,"Runtime.Widget.Input",{name:t,value:r,onChange:e=>this.onChangeVariable(n,t,e.target.value)}))}return this._flatten(e)},renderPatches:function(){var e=[],t=this.model.storage.item.get("patches"),n=this._e(e,"div",{class:this._class_name(["app_total_patches"]),key:"app_total_patches"}),i=this._e(n,"div",{class:this._class_name(["app_total_patches__items"]),key:"app_total_patches__items"});if(null!=t)for(let e=0;e<t.count();e++){var o=t.get(e),r=this._e(i,"div",{"data-index":e,onClick:this.onPatchSelect(e),class:this._class_name(["app_total_patches__item",this.patch_selected==e?"app_total_patches__item--active":""]),key:(e,"app_total_patches__item")});this._t(r,o.get("name"))}var s,n=this._e(n,"div",{class:this._class_name(["app_total_patches__content"]),key:"app_total_patches__content"});return 0<=this.patch_selected&&this.patch_selected<t.count()&&(s=t.get(this.patch_selected),this._c(n,"Runtime.Widget.CodeMirror.CodeMirror",{ref:"code_mirror_total_patches",value:s.get("content"),readonly:"true",height:"500px"})),this._flatten(e)},renderWidgetsInfo:function(){var e=[],t=this._e(e,"h2",{}),t=(this._t(t,"Modificators"),this._e(e,"div",{class:this._class_name(["d-flex"]),key:"d-flex"})),n=this._e(t,"div",{class:this._class_name(["w-50"]),key:"w-50"}),n=(this._t(n,this.renderVariables()),this._e(t,"div",{class:this._class_name(["w-50"]),key:"w-50"})),i=(t=this.model.getWidget("modificators")).component,n=(this._c(n,i,{model:this._model(t)}),this._e(e,"div",{class:this._class_name(["d-flex"]),key:"d-flex"})),o=this._e(n,"div",{class:this._class_name(["w-50"]),key:"w-50"}),r=this._e(o,"h2",{}),r=(this._t(r,"Environments"),i=(t=this.model.getWidget("environments")).component,this._c(o,i,{model:this._model(t)}),this._e(n,"div",{class:this._class_name(["w-50"]),key:"w-50"})),o=this._e(r,"h2",{});this._t(o,"Volumes"),i=(t=this.model.getWidget("volumes")).component,this._c(r,i,{model:this._model(t)});return this._flatten(e)},renderForm:function(){var e,t=[];return"edit"==this.model.action?(e=this._e(t,"div",{class:this._class_name(["app"]),key:"app"}),this._c(e,"Runtime.Widget.Tab.Tabs",{model:this._model(this.tabs),onSelect:this.onTabSelect},()=>{var e=[];this._c(e,"Runtime.Widget.Tab.Tab",{name:"info",model:this._model(this.tabs)},()=>{var e=[],t=this._e(e,"form",{method:"POST",enctype:"multipart/form-data",onsubmit:"return false;"});return this._t(t,this.renderContent()),this._t(e,this.renderWidgetsInfo()),this._flatten(e)}),this._c(e,"Runtime.Widget.Tab.Tab",{name:"custom_patch",model:this._model(this.tabs)},()=>{var e=[];this._c(e,"Runtime.Widget.CodeMirror.CodeMirror",{onValueChanged:this.onCodeMirrorValueChanged("custom_patch"),value:this.model.storage.item.get("custom_patch"),height:"500px"});return this._flatten(e)}),this._c(e,"Runtime.Widget.Tab.Tab",{name:"total_patches",model:this._model(this.tabs)},()=>{var e=[];return this._t(e,this.renderPatches()),this._flatten(e)}),this._c(e,"Runtime.Widget.Tab.Tab",{name:"result",model:this._model(this.tabs)},()=>{var e=[];this._c(e,"Runtime.Widget.CodeMirror.CodeMirror",{ref:"code_mirror_result",onValueChanged:this.onCodeMirrorValueChanged("content"),value:this.model.storage.item.get("content"),readonly:"true",height:"500px"});return this._flatten(e)}),this._c(e,"Runtime.Widget.Tab.Tab",{name:"yaml",model:this._model(this.tabs)},()=>{var e=[];this._c(e,"Runtime.Widget.CodeMirror.CodeMirror",{ref:"code_mirror_yaml",onValueChanged:this.onCodeMirrorValueChanged("yaml"),value:this.model.storage.item.get("yaml"),readonly:"true",height:"500px"});return this._flatten(e)});return this._flatten(e)})):this._t(t,Runtime.Widget.Form.Form.methods.renderForm.call(this)),this._flatten(t)},onTabSelect:function(e){this.getRef("code_mirror_"+e)},onChangeVariable:function(e,t,n){this.model.storage.item.get("variables").get(e).set("value",n)},onCodeMirrorValueChanged:function(t){return e=>{"custom_patch"==t&&this.model.storage.item.set("custom_patch",e)}},onPatchSelect:function(t){return e=>{this.patch_selected=t}}}},Object.assign(Bayrell.CloudOS.Frontend.Applications.AppForm,{css:function(e){return".app.h-aabf .widget_textarea.h-ee82{"+Runtime.rtl.toStr("min-height: 500px;")+Runtime.rtl.toStr("}.app.h-aabf .CodeMirror.h-f977{")+Runtime.rtl.toStr("min-height: 500px;")+Runtime.rtl.toStr("}.app_variables.h-aabf{")+Runtime.rtl.toStr("margin-right: 20px;")+Runtime.rtl.toStr("}.app_total_patches.h-aabf{")+Runtime.rtl.toStr("display: flex;")+Runtime.rtl.toStr("}.app_total_patches__items.h-aabf{")+Runtime.rtl.toStr("width: 200px;padding-right: 20px;")+Runtime.rtl.toStr("}.app_total_patches__item.h-aabf{")+Runtime.rtl.toStr("padding: 5px 10px;cursor: pointer;")+Runtime.rtl.toStr("}.app_total_patches__item--active.h-aabf{")+Runtime.rtl.toStr("    background-color: var(--widget-color-selected);    color: var(--widget-color-selected-text);")+Runtime.rtl.toStr("}.app_total_patches__content.h-aabf{")+Runtime.rtl.toStr("width: calc(100% - 200px);")+Runtime.rtl.toStr("}")},components:function(){return Runtime.Vector.from(["Runtime.Widget.Form.Form","Runtime.Widget.Input","Runtime.Widget.TextArea","Runtime.Widget.CodeMirror.CodeMirror","Runtime.Widget.Tab.Tab","Runtime.Widget.Tab.Tabs"])},getNamespace:function(){return"Bayrell.CloudOS.Frontend.Applications"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Applications.AppForm"},getParentClassName:function(){return"Runtime.Widget.Form.Form"}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Applications.AppForm),window["Bayrell.CloudOS.Frontend.Applications.AppForm"]=Bayrell.CloudOS.Frontend.Applications.AppForm,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Applications.AppForm),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Applications&&(Bayrell.CloudOS.Frontend.Applications={}),Bayrell.CloudOS.Frontend.Applications.AppFormModel=function(e){null==e&&(e=null),Runtime.Widget.Form.FormModel.call(this,e),this.layout.addComponent("Bayrell.CloudOS.Frontend.Applications.AppForm")},Bayrell.CloudOS.Frontend.Applications.AppFormModel.prototype=Object.create(Runtime.Widget.Form.FormModel.prototype),Bayrell.CloudOS.Frontend.Applications.AppFormModel.prototype.constructor=Bayrell.CloudOS.Frontend.Applications.AppFormModel,Object.assign(Bayrell.CloudOS.Frontend.Applications.AppFormModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.application",primary_keys:Runtime.Vector.from(["id"]),search_fields:Runtime.Vector.from(["id","name","stack_name","status","template_id","template_version_id","count_work","count_total","gmtime_created","gmtime_updated"]),item_fields:Runtime.Vector.from(["id","content","custom_patch","environments","name","stack_name","status","template_id","template_version_id","volumes","yaml","gmtime_created","gmtime_updated"]),save_fields:Runtime.Vector.from(["custom_patch","environments","name","stack_name","status","template_version_id","variables","volumes"])}))},initWidgets:function(){var e,t;Runtime.Widget.Form.FormModel.prototype.initWidgets.call(this),"edit"==this.action&&(e=new Bayrell.CloudOS.Frontend.Applications.AppModTableModel(Runtime.Map.from({parent_widget:this,widget_name:"modificators"})),t=this.layout.route.matches.get("id"),e.storage.setForeignKey("app_id",t),e.getWidget("form").storage.setForeignKey("app_id",t),new Bayrell.CloudOS.Frontend.Applications.AppEnvironmentsTableModel(Runtime.Map.from({parent_widget:this})),new Bayrell.CloudOS.Frontend.Applications.AppVolumesTableModel(Runtime.Map.from({parent_widget:this})),e=this.getWidget("render_list"),t=new Bayrell.CloudOS.Frontend.Applications.ComposeDialogModel(Runtime.Map.from({parent_widget:this,form:this})),e.addRender(t))},initButtons:function(){var e;"edit"==this.action&&(e=this.getWidget("compose_dialog"),this.top_buttons.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Back",styles:Runtime.Vector.from(["default"]),href:this.layout.url("app:applications:index")}))),this.top_buttons.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Compose",styles:Runtime.Vector.from(["default"])}))).events.add("onClick",new Runtime.Callback(e,"onCompose")),this.top_buttons.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Stop",styles:Runtime.Vector.from(["default"])}))).events.add("onClick",new Runtime.Callback(e,"onStop")),this.top_buttons.add(new Runtime.Widget.Form.SaveButtonModel(Runtime.Map.from({parent_widget:this,styles:Runtime.Vector.from(["last"])}))),this.top_buttons.styles.add("no-gap"))},initFields:function(){var e=new Runtime.Widget.Crud.Dictionary(Runtime.Map.from({storage:new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.docker.stack"})),widget_name:"stack_id",parent_widget:this,transform:e=>Runtime.Map.from({label:e.get("stack_name"),value:e.get("stack_name")})})),e=(this.addField(Runtime.Map.from({label:"Stack name",name:"stack_name",component:"Runtime.Widget.Select",model:e})),this.addField(Runtime.Map.from({label:"App name",name:"name",component:"Runtime.Widget.Input"})),new Runtime.Widget.Crud.Dictionary(Runtime.Map.from({storage:new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.template"})),widget_name:"template_id",parent_widget:this,transform:e=>Runtime.Map.from({label:e.get("name")+Runtime.rtl.toStr(" <")+Runtime.rtl.toStr(e.get("uid"))+Runtime.rtl.toStr(">"),value:e.get("id")})}))),t=(this.addField(Runtime.Map.from({label:"Template",name:"template_id",component:"Runtime.Widget.Select",model:e})),new Runtime.Widget.Crud.Dictionary(Runtime.Map.from({storage:new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.template.version"})),widget_name:"version_id",parent_widget:this,filter:e=>{var t=this.storage.item.get("template_id");return e.get("template_id")==t},transform:e=>Runtime.Map.from({label:e.get("version"),value:e.get("id")})})));e.events.add("onChanged",new Runtime.Callback(t,"reloadOptions")),this.addField(Runtime.Map.from({label:"Version",name:"template_version_id",component:"Runtime.Widget.Select",model:t}))},getPageTitle:function(e){return"add"==(e=null==e?"":e)?"Add app":"compose"==e?"Compose "+Runtime.rtl.toStr(this.storage.item.get("stack_name"))+Runtime.rtl.toStr("_")+Runtime.rtl.toStr(this.storage.item.get("name")):"stop"==e?"Stop "+Runtime.rtl.toStr(this.storage.item.get("stack_name"))+Runtime.rtl.toStr("_")+Runtime.rtl.toStr(this.storage.item.get("name")):"recompose"==e?"Recompose "+Runtime.rtl.toStr(this.storage.item.get("stack_name"))+Runtime.rtl.toStr("_")+Runtime.rtl.toStr(this.storage.item.get("name")):"edit"==e?"Edit "+Runtime.rtl.toStr(this.storage.item.get("stack_name"))+Runtime.rtl.toStr("_")+Runtime.rtl.toStr(this.storage.item.get("name")):"delete"==e?"Delete "+Runtime.rtl.toStr(this.storage.item.get("stack_name"))+Runtime.rtl.toStr("_")+Runtime.rtl.toStr(this.storage.item.get("name")):""},_init:function(){Runtime.Widget.Form.FormModel.prototype._init.call(this),this.component="Bayrell.CloudOS.Frontend.Applications.AppForm",this.show_result=!1}}),Object.assign(Bayrell.CloudOS.Frontend.Applications.AppFormModel,Runtime.Widget.Form.FormModel),Object.assign(Bayrell.CloudOS.Frontend.Applications.AppFormModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Applications"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Applications.AppFormModel"},getParentClassName:function(){return"Runtime.Widget.Form.FormModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Applications.AppFormModel),window["Bayrell.CloudOS.Frontend.Applications.AppFormModel"]=Bayrell.CloudOS.Frontend.Applications.AppFormModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Applications.AppFormModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Applications&&(Bayrell.CloudOS.Frontend.Applications={}),Bayrell.CloudOS.Frontend.Applications.AppModFormModel=function(){Runtime.Widget.Form.FormModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.Applications.AppModFormModel.prototype=Object.create(Runtime.Widget.Form.FormModel.prototype),Bayrell.CloudOS.Frontend.Applications.AppModFormModel.prototype.constructor=Bayrell.CloudOS.Frontend.Applications.AppModFormModel,Object.assign(Bayrell.CloudOS.Frontend.Applications.AppModFormModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.application.modificator",primary_keys:Runtime.Vector.from(["app_id","modificator_id"])}))},initWidgets:function(){Runtime.Widget.Form.FormModel.prototype.initWidgets.call(this)},initFields:function(){var e=new Runtime.Widget.Crud.Dictionary(Runtime.Map.from({storage:new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.modificators"})),widget_name:"modificators",parent_widget:this,transform:e=>Runtime.Map.from({label:e.get("name"),value:e.get("id")})}));this.addField(Runtime.Map.from({label:"Name",name:"modificator_id",component:"Runtime.Widget.Select",model:e}))},getPageTitle:function(e){return"add"==(e=null==e?"":e)?"Add modificator":"edit"==e?"Edit "+Runtime.rtl.toStr(this.storage.item.get("modificator_name")):"delete"==e?"Delete "+Runtime.rtl.toStr(this.storage.item.get("modificator_name")):""}}),Object.assign(Bayrell.CloudOS.Frontend.Applications.AppModFormModel,Runtime.Widget.Form.FormModel),Object.assign(Bayrell.CloudOS.Frontend.Applications.AppModFormModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Applications"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Applications.AppModFormModel"},getParentClassName:function(){return"Runtime.Widget.Form.FormModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Applications.AppModFormModel),window["Bayrell.CloudOS.Frontend.Applications.AppModFormModel"]=Bayrell.CloudOS.Frontend.Applications.AppModFormModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Applications.AppModFormModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Applications&&(Bayrell.CloudOS.Frontend.Applications={}),Bayrell.CloudOS.Frontend.Applications.AppModTableModel=function(){Runtime.Widget.Table.TableDialogModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.Applications.AppModTableModel.prototype=Object.create(Runtime.Widget.Table.TableDialogModel.prototype),Bayrell.CloudOS.Frontend.Applications.AppModTableModel.prototype.constructor=Bayrell.CloudOS.Frontend.Applications.AppModTableModel,Object.assign(Bayrell.CloudOS.Frontend.Applications.AppModTableModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.application.modificator",primary_keys:Runtime.Vector.from(["app_id","modificator_id"])}))},initStyles:function(){this.styles.add("border")},initWidgets:function(){new Bayrell.CloudOS.Frontend.Applications.AppModFormModel(Runtime.Map.from({parent_widget:this}));Runtime.Widget.Table.TableDialogModel.prototype.initWidgets.call(this)},initFields:function(){this.addField(Runtime.Map.from({name:"row_number"})),this.addField(Runtime.Map.from({label:"Name",name:"modificator_name"})),this.addField(Runtime.Map.from({label:"Priority",name:"modificator_priority"})),this.addFieldRowButtons()},initTopButtons:function(){Runtime.Widget.Table.TableDialogModel.prototype.initTopButtons.call(this)},addEditFieldRowButtons:function(e){},getItemValue:function(e,t){return Runtime.Widget.Table.TableDialogModel.prototype.getItemValue.call(this,e,t)}}),Object.assign(Bayrell.CloudOS.Frontend.Applications.AppModTableModel,Runtime.Widget.Table.TableDialogModel),Object.assign(Bayrell.CloudOS.Frontend.Applications.AppModTableModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Applications"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Applications.AppModTableModel"},getParentClassName:function(){return"Runtime.Widget.Table.TableDialogModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Applications.AppModTableModel),window["Bayrell.CloudOS.Frontend.Applications.AppModTableModel"]=Bayrell.CloudOS.Frontend.Applications.AppModTableModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Applications.AppModTableModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Applications&&(Bayrell.CloudOS.Frontend.Applications={}),Bayrell.CloudOS.Frontend.Applications.AppPageModel=function(e){var t;null==e&&(e=null),Runtime.Widget.Crud.CrudPageModel.call(this,e),"app:applications:index"==this.layout.route.name?(this.setAction("index"),new Bayrell.CloudOS.Frontend.Applications.AppTableModel(Runtime.Map.from({parent_widget:this}))):"app:applications:edit"==this.layout.route.name&&(this.setAction("edit"),e=new Bayrell.CloudOS.Frontend.Applications.AppFormModel(Runtime.Map.from({action:"edit",parent_widget:this})),t=this.layout.route.matches.get("id"),e.storage.setPrimaryKey(Runtime.Map.from({id:t})))},Bayrell.CloudOS.Frontend.Applications.AppPageModel.prototype=Object.create(Runtime.Widget.Crud.CrudPageModel.prototype),Bayrell.CloudOS.Frontend.Applications.AppPageModel.prototype.constructor=Bayrell.CloudOS.Frontend.Applications.AppPageModel,Object.assign(Bayrell.CloudOS.Frontend.Applications.AppPageModel.prototype,{onRouteAfter:async function(){var e;"index"==this.action?this.layout.setPageTitle("List of services"):"edit"==this.action&&(e=this.getWidget("form"),this.layout.setPageTitle(e.getPageTitle("edit")))}}),Object.assign(Bayrell.CloudOS.Frontend.Applications.AppPageModel,Runtime.Widget.Crud.CrudPageModel),Object.assign(Bayrell.CloudOS.Frontend.Applications.AppPageModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Applications"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Applications.AppPageModel"},getParentClassName:function(){return"Runtime.Widget.Crud.CrudPageModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Applications.AppPageModel),window["Bayrell.CloudOS.Frontend.Applications.AppPageModel"]=Bayrell.CloudOS.Frontend.Applications.AppPageModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Applications.AppPageModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Applications&&(Bayrell.CloudOS.Frontend.Applications={}),Bayrell.CloudOS.Frontend.Applications.AppTable={name:"Bayrell.CloudOS.Frontend.Applications.AppTable",extends:Runtime.Widget.Table.Table,methods:{renderServiceInfo:function(){var t=[],e=this.model.getServiceInfo();if(null!=e){var n=this._e(t,"div",{class:this._class_name(["service_info__name"]),key:"service_info__name"}),i=(this._t(n,Runtime.rtl.attr(e,"stack_name")+Runtime.rtl.toStr("_")+Runtime.rtl.toStr(Runtime.rtl.attr(e,"name"))),e.get("docker_tasks"));if(i=this.model.updateDockerTasks(i))for(let e=0;e<i.count();e++){var o=i.get(e),r=this._e(t,"div",{class:this._class_name(["service_info__row"]),key:"service_info__row"}),s=this._e(r,"div",{class:this._class_name(["service_info__item"]),key:"service_info__item"}),s=(this._t(s,"ID: "+Runtime.rtl.toStr(Runtime.rtl.attr(o,"ID"))),this._e(r,"div",{class:this._class_name(["service_info__item"]),key:"service_info__item"})),s=(this._t(s,"State: "+Runtime.rtl.toStr(Runtime.rtl.attr(o,["Status","State"]))),this._e(r,"div",{class:this._class_name(["service_info__item"]),key:"service_info__item"})),s=(this._t(s,"DesiredState: "+Runtime.rtl.toStr(Runtime.rtl.attr(o,"DesiredState"))),this._e(r,"div",{class:this._class_name(["service_info__item"]),key:"service_info__item"})),s=(this._t(s,"Updated: "+Runtime.rtl.toStr(Runtime.rtl.attr(o,"UpdatedAt").toString())+Runtime.rtl.toStr(" UTC")),Runtime.rtl.attr(o,["Status","Err"]));s&&(s=this._e(r,"div",{class:this._class_name(["service_info__item"]),key:"service_info__item"}),this._t(s,"Error: "+Runtime.rtl.toStr(Runtime.rtl.attr(o,["Status","Err"]))))}}return this._flatten(t)},renderTable:function(){var e=[],t=this._e(e,"div",{class:this._class_name(["app_table"]),key:"app_table"}),t=(this._c(t,"Runtime.Widget.Tab.Tabs",{model:this._model(this.model.tabs)},()=>{var e=[];this._c(e,"Runtime.Widget.Tab.Tab",{name:"run",model:this._model(this.model.tabs)},()=>{var e=[];return this._t(e,Runtime.Widget.Table.Table.methods.renderTable.call(this)),this._flatten(e)}),this._c(e,"Runtime.Widget.Tab.Tab",{name:"stop",model:this._model(this.model.tabs)},()=>{var e=[];return this._t(e,Runtime.Widget.Table.Table.methods.renderTable.call(this)),this._flatten(e)});return this._flatten(e)}),this._e(t,"div",{class:this._class_name(["service_info"]),key:"service_info"}));return this._t(t,this.renderServiceInfo()),this._flatten(e)}}},Object.assign(Bayrell.CloudOS.Frontend.Applications.AppTable,{css:function(e){return".app_table.h-822d .tabs.h-020a, .app_table.h-822d .service_info.h-822d{"+Runtime.rtl.toStr("display: inline-block;vertical-align: top;")+Runtime.rtl.toStr("}.app_table.h-822d .wiget_table__table.h-822d{")+Runtime.rtl.toStr("width: 100%;")+Runtime.rtl.toStr("}.app_table.h-822d .tabs.h-020a{")+Runtime.rtl.toStr("width: calc(100% - 400px);")+Runtime.rtl.toStr("}.app_table.h-822d .service_info.h-822d{")+Runtime.rtl.toStr("width: 400px;padding-left: 10px;")+Runtime.rtl.toStr("}.widget_table.h-822d .widget_table__tr.h-822d{")+Runtime.rtl.toStr("cursor: pointer;")+Runtime.rtl.toStr("}.service_info.h-822d{")+Runtime.rtl.toStr("padding-left: 10px;")+Runtime.rtl.toStr("}.service_info__name.h-822d{")+Runtime.rtl.toStr("font-weight: bold;text-align: center;")+Runtime.rtl.toStr("}.service_info__row.h-822d{")+Runtime.rtl.toStr("padding-top: 10px;padding-bottom: 10px;border-bottom: 1px #ccc solid;")+Runtime.rtl.toStr("}.service_info__row.h-822d:first-child{")+Runtime.rtl.toStr("padding-top: 0px;")+Runtime.rtl.toStr("}.service_info__row.h-822d:last-child{")+Runtime.rtl.toStr("padding-bottom: 0px;border-bottom: 0px;")+Runtime.rtl.toStr("}.service_info__item.h-822d{")+Runtime.rtl.toStr("padding-bottom: 5px;")+Runtime.rtl.toStr("}")},components:function(){return Runtime.Vector.from(["Runtime.Widget.Table.Table","Runtime.Widget.Tab.Tab","Runtime.Widget.Tab.Tabs"])},getNamespace:function(){return"Bayrell.CloudOS.Frontend.Applications"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Applications.AppTable"},getParentClassName:function(){return"Runtime.Widget.Table.Table"}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Applications.AppTable),window["Bayrell.CloudOS.Frontend.Applications.AppTable"]=Bayrell.CloudOS.Frontend.Applications.AppTable,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Applications.AppTable),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Applications&&(Bayrell.CloudOS.Frontend.Applications={}),Bayrell.CloudOS.Frontend.Applications.AppTableModel=function(){Runtime.Widget.Table.TableDialogModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.Applications.AppTableModel.prototype=Object.create(Runtime.Widget.Table.TableDialogModel.prototype),Bayrell.CloudOS.Frontend.Applications.AppTableModel.prototype.constructor=Bayrell.CloudOS.Frontend.Applications.AppTableModel,Object.assign(Bayrell.CloudOS.Frontend.Applications.AppTableModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.application",primary_keys:Runtime.Vector.from(["id"])}))},initStyles:function(){this.styles.add("border")},initWidgets:function(){var e=new Bayrell.CloudOS.Frontend.Applications.AppFormModel(Runtime.Map.from({parent_widget:this})),t=(Runtime.Widget.Table.TableDialogModel.prototype.initWidgets.call(this),this.getWidget("render_list")),e=new Bayrell.CloudOS.Frontend.Applications.ComposeDialogModel(Runtime.Map.from({parent_widget:this,table:this,form:e}));t.addRender(e),this.tabs=new Runtime.Widget.Tab.TabsModel(Runtime.Map.from({active:"run",tabs:Runtime.Vector.from([Runtime.Map.from({name:"run",label:"Run",href:this.layout.url("app:applications:index",Runtime.Map.from({status:"run"}))}),Runtime.Map.from({name:"stop",label:"Stopped",href:this.layout.url("app:applications:index",Runtime.Map.from({status:"stop"}))})])})),"stop"==this.layout.request_query.get("status","")?(this.tabs.active="stop",this.storage.setPostData("status","stop")):this.storage.setPostData("status","run"),this.storage.setPage(this.layout.request_query.get("page",1))},initFields:function(){this.addField(Runtime.Map.from({name:"row_number"})),this.addField(Runtime.Map.from({label:"Service name",name:"service_name"})),this.addField(Runtime.Map.from({label:"Status",name:"status",props:Runtime.Map.from({options:Runtime.Vector.from([Runtime.Map.from({label:"STOP",value:"0"}),Runtime.Map.from({label:"RUN",value:"1"})])}),component:"Runtime.Widget.SelectLabel"})),"stop"!=this.layout.request_query.get("status","")&&(this.addField(Runtime.Map.from({label:"Replicas",name:"replicas"})),this.addField(Runtime.Map.from({label:"Admin",name:"admin",component:"Bayrell.CloudOS.Frontend.Applications.TableFieldAdmin",model:this}))),"stop"!=this.layout.request_query.get("status","")&&this.addComposeButtons(),this.addFieldRowButtons()},initButtons:function(){Runtime.Widget.Table.TableDialogModel.prototype.initButtons.call(this);this.top_buttons.add(new Runtime.Widget.Table.RefreshButtonModel(Runtime.Map.from({layout:this.layout,table:this})))},addComposeButtons:function(){var e=new Runtime.Widget.RowButtonsModel;return this.addRecomposeButton(e),this.addField(Runtime.Map.from({name:"compose_buttons",component:"Runtime.Widget.RowButtons",model:e}))},addFieldRowButtons:function(){var e=this.layout.request_query.get("status",""),t=new Runtime.Widget.RowButtonsModel;return this.addEditFieldRowButtons(t),"stop"!=e&&this.addShowStatusButton(t),this.addDeleteFieldRowButtons(t),this.addField(Runtime.Map.from({name:"row_buttons",component:"Runtime.Widget.RowButtons",model:t}))},addRecomposeButton:function(e){var e=e.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Recompose",widget_name:"recompose_button",styles:Runtime.Vector.from(["default","small"])}))),t=this.getWidget("compose_dialog");e.events.add("onClick",new Runtime.Callback(t,"onRecompose"))},addShowStatusButton:function(e){e.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Status",widget_name:"show_status_button",styles:Runtime.Vector.from(["default","small"])}))).events.add("onClick",new Runtime.Callback(this,"onShowServiceInfo"))},addEditFieldRowButtons:function(e){return e.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Edit",widget_name:"edit_button",styles:Runtime.Vector.from(["default","small"]),href:e=>{e=e.get("row_number"),e=this.getItemByRowNumber(e);return this.layout.url("app:applications:edit",Runtime.Map.from({id:e.get("id")}))}})))},getItemValue:function(e,t){var n,i;return"service_name"==t?(n=e.get("name"),e.get("stack_name")+Runtime.rtl.toStr("_")+Runtime.rtl.toStr(n)):"replicas"==t?(n=e.get("count_total"),i=e.get("count_work"),null===n||null===i?"":i+Runtime.rtl.toStr("/")+Runtime.rtl.toStr(n)):Runtime.Widget.Table.TableDialogModel.prototype.getItemValue.call(this,e,t)},onShowServiceInfo:function(e){this.service_info_row_number=e.get("row_number")},getServiceInfo:function(){return this.storage.getItemByRowNumber(this.service_info_row_number)},updateDockerTasks:function(e){if(null==e)return null;e=e.copy();for(var t=0;t<e.count();t++){var n=Runtime.rtl.attr(e,t).copy(),i=Runtime.DateTime.from(n.get("CreatedAt")),o=Runtime.DateTime.from(n.get("UpdatedAt"));i.tz="UTC",o.tz="UTC",n.set("CreatedAt",i),n.set("UpdatedAt",o),e.set(t,n)}return e=e.sort((e,t)=>{e=e.get("UpdatedAt").getTimestamp();return t.get("UpdatedAt").getTimestamp()-e})},_init:function(){Runtime.Widget.Table.TableDialogModel.prototype._init.call(this),this.component="Bayrell.CloudOS.Frontend.Applications.AppTable",this.tabs=null,this.service_info_row_number=-1}}),Object.assign(Bayrell.CloudOS.Frontend.Applications.AppTableModel,Runtime.Widget.Table.TableDialogModel),Object.assign(Bayrell.CloudOS.Frontend.Applications.AppTableModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Applications"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Applications.AppTableModel"},getParentClassName:function(){return"Runtime.Widget.Table.TableDialogModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Applications.AppTableModel),window["Bayrell.CloudOS.Frontend.Applications.AppTableModel"]=Bayrell.CloudOS.Frontend.Applications.AppTableModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Applications.AppTableModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Applications&&(Bayrell.CloudOS.Frontend.Applications={}),Bayrell.CloudOS.Frontend.Applications.AppVolumesTableModel=function(){Runtime.Widget.Table.TableDialogModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.Applications.AppVolumesTableModel.prototype=Object.create(Runtime.Widget.Table.TableDialogModel.prototype),Bayrell.CloudOS.Frontend.Applications.AppVolumesTableModel.prototype.constructor=Bayrell.CloudOS.Frontend.Applications.AppVolumesTableModel,Object.assign(Bayrell.CloudOS.Frontend.Applications.AppVolumesTableModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudProxyStorage(Runtime.Map.from({layout:this.layout,primary_keys:Runtime.Vector.from(["key"]),container:this.parent_widget.storage,path:Runtime.Vector.from(["item","volumes"])}))},initStyles:function(){this.styles.add("border")},initWidgets:function(){var e=new Runtime.Widget.Form.FormModel(Runtime.Map.from({parent_widget:this,storage:this.createDataStorage()}));this.addWidgetFields(e),Runtime.Widget.Table.TableDialogModel.prototype.initWidgets.call(this)},initFields:function(){this.addField(Runtime.Map.from({name:"row_number"})),this.addWidgetFields(this),this.addFieldRowButtons()},addWidgetFields:function(e){e.addField(Runtime.Map.from({label:"Source",name:"key"})),e.addField(Runtime.Map.from({label:"Mount point",name:"value"})),e.addField(Runtime.Map.from({label:"Enable",name:"enable",props:Runtime.Map.from({options:Runtime.Vector.from([Runtime.Map.from({label:"Yes",value:"1"}),Runtime.Map.from({label:"No",value:"0"})])}),component:e==this?"Runtime.Widget.SelectLabel":"Runtime.Widget.Select"}))},initTopButtons:function(){Runtime.Widget.Table.TableDialogModel.prototype.initTopButtons.call(this)},getItemValue:function(e,t){return Runtime.Widget.Table.TableDialogModel.prototype.getItemValue.call(this,e,t)},_init:function(){Runtime.Widget.Table.TableDialogModel.prototype._init.call(this),this.widget_name="volumes"}}),Object.assign(Bayrell.CloudOS.Frontend.Applications.AppVolumesTableModel,Runtime.Widget.Table.TableDialogModel),Object.assign(Bayrell.CloudOS.Frontend.Applications.AppVolumesTableModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Applications"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Applications.AppVolumesTableModel"},getParentClassName:function(){return"Runtime.Widget.Table.TableDialogModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Applications.AppVolumesTableModel),window["Bayrell.CloudOS.Frontend.Applications.AppVolumesTableModel"]=Bayrell.CloudOS.Frontend.Applications.AppVolumesTableModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Applications.AppVolumesTableModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Applications&&(Bayrell.CloudOS.Frontend.Applications={}),Bayrell.CloudOS.Frontend.Applications.ComposeDialog={name:"Bayrell.CloudOS.Frontend.Applications.ComposeDialog",extends:Runtime.Web.Component,methods:{render:function(){var e=[];this._c(e,"Runtime.Widget.Dialog.Dialog",{model:this._model(this.model.dialog)});return this._flatten(e)}}},Object.assign(Bayrell.CloudOS.Frontend.Applications.ComposeDialog,{components:function(){return Runtime.Vector.from(["Runtime.Widget.Dialog.Dialog"])},getNamespace:function(){return"Bayrell.CloudOS.Frontend.Applications"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Applications.ComposeDialog"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Applications.ComposeDialog),window["Bayrell.CloudOS.Frontend.Applications.ComposeDialog"]=Bayrell.CloudOS.Frontend.Applications.ComposeDialog,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Applications.ComposeDialog),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Applications&&(Bayrell.CloudOS.Frontend.Applications={}),Bayrell.CloudOS.Frontend.Applications.ComposeDialogModel=function(e){null==e&&(e=null),Runtime.Web.BaseModel.call(this,e),e&&(e.has("table")&&(this.table=e.get("table")),e.has("form"))&&(this.form=e.get("form")),this.dialog.title="Compose item",this.dialog.buttons.styles.add("align-end"),this.dialog.buttons.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Close",widget_name:"close_button",styles:Runtime.Vector.from(["gray"])}))).events.add("onClick",new Runtime.Callback(this,"onCloseButtonClick")),this.dialog.buttons.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Stop",widget_name:"confirm_button",styles:Runtime.Vector.from(["danger"])}))).events.add("onClick",new Runtime.Callback(this,"onConfirmButtonClick"))},Bayrell.CloudOS.Frontend.Applications.ComposeDialogModel.prototype=Object.create(Runtime.Web.BaseModel.prototype),Bayrell.CloudOS.Frontend.Applications.ComposeDialogModel.prototype.constructor=Bayrell.CloudOS.Frontend.Applications.ComposeDialogModel,Object.assign(Bayrell.CloudOS.Frontend.Applications.ComposeDialogModel.prototype,{onCompose:async function(e){null==e&&(e=null),this.form&&(this.action="compose",this.dialog.title=this.form.getPageTitle("compose"),this.dialog.buttons.find("confirm_button").content="Compose",this.dialog.result.clear(),this.dialog.show())},onRecompose:async function(e){if(null==e&&(e=null),this.table){var t=-1;if(-1==(t=null!=e&&e.has("row_number")?e.get("row_number"):t))return Promise.resolve();e=this.table.getItemByRowNumber(t),e=Runtime.Serializer.copy(e);this.form.storage.setItem(e),this.dialog.buttons.find("confirm_button").content="Recompose",this.action="recompose",this.dialog.title=this.form.getPageTitle("recompose"),this.dialog.result.clear(),this.dialog.show()}},onStop:async function(e){null==e&&(e=null),this.form&&(this.action="stop",this.dialog.title=this.form.getPageTitle("stop"),this.dialog.buttons.find("confirm_button").content="Stop",this.dialog.result.clear(),this.dialog.show())},onCloseButtonClick:function(){this.dialog.hide()},onConfirmButtonClick:async function(){"compose"==this.action&&this.compose(),"recompose"==this.action&&this.recompose(),"stop"==this.action&&this.stop()},compose:async function(){var e=this.form.storage.getItemPrimaryKey(),t=(t=this.form.storage.getItem()).intersect(this.form.storage.save_fields),e=(this.dialog.result.setWaitMessage(),await this.layout.callApi(Runtime.Map.from({api_name:"app.application::crud",method:"actionCompose",data:Runtime.Map.from({pk:e,item:t})})));this.dialog.result.setApiResult(e)},recompose:async function(){var e=this.form.storage.getItemPrimaryKey(),e=(this.dialog.result.setWaitMessage(),await this.layout.callApi(Runtime.Map.from({api_name:"app.application::crud",method:"actionRecompose",data:Runtime.Map.from({pk:e})})));this.dialog.result.setApiResult(e)},stop:async function(){var e=this.form.storage.getItemPrimaryKey(),e=(this.dialog.result.setWaitMessage(),await this.layout.callApi(Runtime.Map.from({api_name:"app.application::crud",method:"actionStop",data:Runtime.Map.from({pk:e})})));this.dialog.result.setApiResult(e)},_init:function(){Runtime.Web.BaseModel.prototype._init.call(this),this.action="",this.widget_name="compose_dialog",this.component="Bayrell.CloudOS.Frontend.Applications.ComposeDialog",this.form=null,this.table=null,this.dialog=new Runtime.Widget.Dialog.DialogModel}}),Object.assign(Bayrell.CloudOS.Frontend.Applications.ComposeDialogModel,Runtime.Web.BaseModel),Object.assign(Bayrell.CloudOS.Frontend.Applications.ComposeDialogModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Applications"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Applications.ComposeDialogModel"},getParentClassName:function(){return"Runtime.Web.BaseModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Applications.ComposeDialogModel),window["Bayrell.CloudOS.Frontend.Applications.ComposeDialogModel"]=Bayrell.CloudOS.Frontend.Applications.ComposeDialogModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Applications.ComposeDialogModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Applications&&(Bayrell.CloudOS.Frontend.Applications={}),Bayrell.CloudOS.Frontend.Applications.TableFieldAdmin={name:"Bayrell.CloudOS.Frontend.Applications.TableFieldAdmin",extends:Runtime.Web.Component,props:{value:{default:null}},methods:{render:function(){var e=[];return this.condition()?this._c(e,"Runtime.Widget.Button",{href:this.getUrl()},()=>{var e=[];return this._t(e,"Admin"),this._flatten(e)}):this._t(e,"No"),this._flatten(e)},getItem:function(){var e=null!=this.data&&this.data.has("row_number")?this.data.get("row_number"):-1;return this.model.getItemByRowNumber(e)},getUrl:function(){var e=this.getItem(),t=e.get("stack_name"),e=e.get("name");return"/applications/admin/"+Runtime.rtl.toStr(t)+Runtime.rtl.toStr("_")+Runtime.rtl.toStr(e)+Runtime.rtl.toStr("/")},condition:function(){var e=this.getItem();return null!=e&&0!=e.get("status")&&1==e.get("is_admin")}}},Object.assign(Bayrell.CloudOS.Frontend.Applications.TableFieldAdmin,{components:function(){return Runtime.Vector.from(["Runtime.Widget.Button"])},getNamespace:function(){return"Bayrell.CloudOS.Frontend.Applications"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Applications.TableFieldAdmin"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Applications.TableFieldAdmin),window["Bayrell.CloudOS.Frontend.Applications.TableFieldAdmin"]=Bayrell.CloudOS.Frontend.Applications.TableFieldAdmin,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Applications.TableFieldAdmin),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.DockerServices&&(Bayrell.CloudOS.Frontend.DockerServices={}),Bayrell.CloudOS.Frontend.DockerServices.ServicePageModel=function(e){null==e&&(e=null),Runtime.Widget.Crud.CrudPageModel.call(this,e),"app:docker:services:index"==this.layout.route.name&&(this.setAction("index"),new Bayrell.CloudOS.Frontend.DockerServices.ServiceTableModel(Runtime.Map.from({parent_widget:this})).storage.setPage(this.layout.request_query.get("page",1)))},Bayrell.CloudOS.Frontend.DockerServices.ServicePageModel.prototype=Object.create(Runtime.Widget.Crud.CrudPageModel.prototype),Bayrell.CloudOS.Frontend.DockerServices.ServicePageModel.prototype.constructor=Bayrell.CloudOS.Frontend.DockerServices.ServicePageModel,Object.assign(Bayrell.CloudOS.Frontend.DockerServices.ServicePageModel.prototype,{onRouteAfter:async function(){"index"==this.action&&this.layout.setPageTitle("List of services")}}),Object.assign(Bayrell.CloudOS.Frontend.DockerServices.ServicePageModel,Runtime.Widget.Crud.CrudPageModel),Object.assign(Bayrell.CloudOS.Frontend.DockerServices.ServicePageModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.DockerServices"},getClassName:function(){return"Bayrell.CloudOS.Frontend.DockerServices.ServicePageModel"},getParentClassName:function(){return"Runtime.Widget.Crud.CrudPageModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.DockerServices.ServicePageModel),window["Bayrell.CloudOS.Frontend.DockerServices.ServicePageModel"]=Bayrell.CloudOS.Frontend.DockerServices.ServicePageModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.DockerServices.ServicePageModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.DockerServices&&(Bayrell.CloudOS.Frontend.DockerServices={}),Bayrell.CloudOS.Frontend.DockerServices.ServiceTable={name:"Bayrell.CloudOS.Frontend.DockerServices.ServiceTable",extends:Runtime.Widget.Table.Table,methods:{renderServiceInfo:function(){var t=[],e=this.getSelectedItem();if(null!=e){var n=e.get("docker_tasks"),n=this.updateDockerTasks(n);for(let e=0;e<n.count();e++){var i=n.get(e),o=this._e(t,"div",{class:this._class_name(["service_info__row"]),key:"service_info__row"}),r=this._e(o,"div",{class:this._class_name(["service_info__item"]),key:"service_info__item"}),r=(this._t(r,"ID: "+Runtime.rtl.toStr(Runtime.rtl.attr(i,"ID"))),this._e(o,"div",{class:this._class_name(["service_info__item"]),key:"service_info__item"})),r=(this._t(r,"State: "+Runtime.rtl.toStr(Runtime.rtl.attr(i,["Status","State"]))),this._e(o,"div",{class:this._class_name(["service_info__item"]),key:"service_info__item"})),r=(this._t(r,"DesiredState: "+Runtime.rtl.toStr(Runtime.rtl.attr(i,"DesiredState"))),this._e(o,"div",{class:this._class_name(["service_info__item"]),key:"service_info__item"})),r=(this._t(r,"Updated: "+Runtime.rtl.toStr(Runtime.rtl.attr(i,"UpdatedAt").toString())+Runtime.rtl.toStr(" UTC")),Runtime.rtl.attr(i,["Status","Err"]));r&&(r=this._e(o,"div",{class:this._class_name(["service_info__item"]),key:"service_info__item"}),this._t(r,"Error: "+Runtime.rtl.toStr(Runtime.rtl.attr(i,["Status","Err"]))))}}return this._flatten(t)},renderTable:function(){var e=[],t=this._e(e,"div",{class:this._class_name(["service_table"]),key:"service_table"}),t=(this._t(t,Runtime.Widget.Table.Table.methods.renderTable.call(this)),this._e(t,"div",{class:this._class_name(["service_info"]),key:"service_info"}));return this._t(t,this.renderServiceInfo()),this._flatten(e)},onRowClick:function(e){this.row_selected=e},updateDockerTasks:function(e){e=e.copy();for(var t=0;t<e.count();t++){var n=Runtime.rtl.attr(e,t).copy(),i=Runtime.DateTime.from(n.get("CreatedAt")),o=Runtime.DateTime.from(n.get("UpdatedAt"));i.tz="UTC",o.tz="UTC",n.set("CreatedAt",i),n.set("UpdatedAt",o),e.set(t,n)}return e=e.sort((e,t)=>{e=e.get("UpdatedAt").getTimestamp();return t.get("UpdatedAt").getTimestamp()-e})}}},Object.assign(Bayrell.CloudOS.Frontend.DockerServices.ServiceTable,{css:function(e){return".service_table.h-18eb{"+Runtime.rtl.toStr("display: flex;align-items: flex-start;")+Runtime.rtl.toStr("}.service_table.h-18eb .wiget_table__table.h-18eb{")+Runtime.rtl.toStr("position: relative;width: calc(100% - 450px);")+Runtime.rtl.toStr("}.service_table.h-18eb .service_info.h-18eb{")+Runtime.rtl.toStr("width: 450px;padding-left: 10px;")+Runtime.rtl.toStr("}.widget_table.h-18eb .widget_table__tr.h-18eb{")+Runtime.rtl.toStr("cursor: pointer;")+Runtime.rtl.toStr("}.service_info__row.h-18eb{")+Runtime.rtl.toStr("padding-top: 10px;padding-bottom: 10px;border-bottom: 1px #ccc solid;")+Runtime.rtl.toStr("}.service_info__row.h-18eb:first-child{")+Runtime.rtl.toStr("padding-top: 0px;")+Runtime.rtl.toStr("}.service_info__row.h-18eb:last-child{")+Runtime.rtl.toStr("padding-bottom: 0px;border-bottom: 0px;")+Runtime.rtl.toStr("}.service_info__item.h-18eb{")+Runtime.rtl.toStr("padding-bottom: 5px;")+Runtime.rtl.toStr("}")},components:function(){return Runtime.Vector.from(["Runtime.Widget.Table.Table"])},getNamespace:function(){return"Bayrell.CloudOS.Frontend.DockerServices"},getClassName:function(){return"Bayrell.CloudOS.Frontend.DockerServices.ServiceTable"},getParentClassName:function(){return"Runtime.Widget.Table.Table"}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.DockerServices.ServiceTable),window["Bayrell.CloudOS.Frontend.DockerServices.ServiceTable"]=Bayrell.CloudOS.Frontend.DockerServices.ServiceTable,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.DockerServices.ServiceTable),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.DockerServices&&(Bayrell.CloudOS.Frontend.DockerServices={}),Bayrell.CloudOS.Frontend.DockerServices.ServiceTableModel=function(){Runtime.Widget.Table.TableModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.DockerServices.ServiceTableModel.prototype=Object.create(Runtime.Widget.Table.TableModel.prototype),Bayrell.CloudOS.Frontend.DockerServices.ServiceTableModel.prototype.constructor=Bayrell.CloudOS.Frontend.DockerServices.ServiceTableModel,Object.assign(Bayrell.CloudOS.Frontend.DockerServices.ServiceTableModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.docker.services",primary_keys:Runtime.Vector.from(["service_id"])}))},initStyles:function(){this.styles.add("border")},initWidgets:function(){Runtime.Widget.Table.TableModel.prototype.initWidgets.call(this);var e=this.getWidget("render_list"),t=new Bayrell.CloudOS.Frontend.DockerServices.StopDialogModel(Runtime.Map.from({parent_widget:this}));e.addRender(t)},initFields:function(){this.addField(Runtime.Map.from({name:"row_number"})),this.addField(Runtime.Map.from({label:"Docker name",name:"docker_name"})),this.addField(Runtime.Map.from({label:"Docker image",name:"docker_image"})),this.addField(Runtime.Map.from({label:"Replicas",name:"replicas"})),this.addFieldRowButtons()},initButtons:function(){this.top_buttons.add(new Runtime.Widget.Table.RefreshButtonModel(Runtime.Map.from({layout:this.layout,table:this})))},addFieldRowButtons:function(){var e=new Runtime.Widget.RowButtonsModel;return e.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Stop",styles:Runtime.Vector.from(["danger","small"])}))).events.add("onClick",new Runtime.Callback(this.getWidget("stop_dialog"),"onClick")),this.addField(Runtime.Map.from({name:"row_buttons",component:"Runtime.Widget.RowButtons",model:e}))},getItemValue:function(e,t){var n;return"docker_name"==t?(n=e.get("service_name"),e.get("stack_name")+Runtime.rtl.toStr("_")+Runtime.rtl.toStr(n)):"replicas"==t?(n=e.get("count_total"),e.get("count_work")+Runtime.rtl.toStr("/")+Runtime.rtl.toStr(n)):Runtime.Widget.Table.TableModel.prototype.getItemValue.call(this,e,t)},_init:function(){Runtime.Widget.Table.TableModel.prototype._init.call(this),this.component="Bayrell.CloudOS.Frontend.DockerServices.ServiceTable"}}),Object.assign(Bayrell.CloudOS.Frontend.DockerServices.ServiceTableModel,Runtime.Widget.Table.TableModel),Object.assign(Bayrell.CloudOS.Frontend.DockerServices.ServiceTableModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.DockerServices"},getClassName:function(){return"Bayrell.CloudOS.Frontend.DockerServices.ServiceTableModel"},getParentClassName:function(){return"Runtime.Widget.Table.TableModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.DockerServices.ServiceTableModel),window["Bayrell.CloudOS.Frontend.DockerServices.ServiceTableModel"]=Bayrell.CloudOS.Frontend.DockerServices.ServiceTableModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.DockerServices.ServiceTableModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.DockerServices&&(Bayrell.CloudOS.Frontend.DockerServices={}),Bayrell.CloudOS.Frontend.DockerServices.StopDialog={name:"Bayrell.CloudOS.Frontend.DockerServices.StopDialog",extends:Runtime.Web.Component,methods:{render:function(){var e=[];this._c(e,"Runtime.Widget.Dialog.Dialog",{model:this._model(this.model.dialog)},()=>{var e=[];this._c(e,"Runtime.Widget.WidgetResult",{model:this._model(this.model.result)});return this._flatten(e)});return this._flatten(e)}}},Object.assign(Bayrell.CloudOS.Frontend.DockerServices.StopDialog,{components:function(){return Runtime.Vector.from(["Runtime.Widget.WidgetResult","Runtime.Widget.Dialog.Dialog","Runtime.Widget.Form.Form"])},getNamespace:function(){return"Bayrell.CloudOS.Frontend.DockerServices"},getClassName:function(){return"Bayrell.CloudOS.Frontend.DockerServices.StopDialog"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.DockerServices.StopDialog),window["Bayrell.CloudOS.Frontend.DockerServices.StopDialog"]=Bayrell.CloudOS.Frontend.DockerServices.StopDialog,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.DockerServices.StopDialog),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.DockerServices&&(Bayrell.CloudOS.Frontend.DockerServices={}),Bayrell.CloudOS.Frontend.DockerServices.StopDialogModel=function(e){null==e&&(e=null),Runtime.Web.BaseModel.call(this,e),e&&e.has("table")&&(this.table=e.get("table")),this.dialog.title="Stop item",this.dialog.buttons.styles.add("align-end"),this.dialog.buttons.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Cancel",styles:Runtime.Vector.from(["gray"])}))).events.add("onClick",new Runtime.Callback(this,"onCloseButtonClick")),this.dialog.buttons.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Stop",styles:Runtime.Vector.from(["danger"])}))).events.add("onClick",new Runtime.Callback(this,"onConfirmButtonClick"))},Bayrell.CloudOS.Frontend.DockerServices.StopDialogModel.prototype=Object.create(Runtime.Web.BaseModel.prototype),Bayrell.CloudOS.Frontend.DockerServices.StopDialogModel.prototype.constructor=Bayrell.CloudOS.Frontend.DockerServices.StopDialogModel,Object.assign(Bayrell.CloudOS.Frontend.DockerServices.StopDialogModel.prototype,{onClick:async function(e){var t=-1;if(-1==(t=null!=(e=null==e?null:e)&&e.has("row_number")?e.get("row_number"):t))return Promise.resolve();e=this.parent_widget.getItemByRowNumber(t);this.item=Runtime.Serializer.copy(e),this.dialog.show()},onCloseButtonClick:function(){this.dialog.hide()},onConfirmButtonClick:async function(){await this.stop(),this.dialog.result.isSuccess()&&(this.dialog.hide(),await this.parent_widget.refresh())},stop:async function(){this.dialog.result.setWaitMessage();var e=await this.layout.callApi(Runtime.Map.from({api_name:"app.docker.services::crud",method:"actionStop",data:Runtime.Map.from({pk:Runtime.Map.from({service_id:this.item.get("service_id")})})}));this.dialog.result.setApiResult(e)},_init:function(){Runtime.Web.BaseModel.prototype._init.call(this),this.widget_name="stop_dialog",this.component="Bayrell.CloudOS.Frontend.DockerServices.StopDialog",this.result=new Runtime.Widget.WidgetResultModel,this.dialog=new Runtime.Widget.Dialog.DialogModel,this.item=null}}),Object.assign(Bayrell.CloudOS.Frontend.DockerServices.StopDialogModel,Runtime.Web.BaseModel),Object.assign(Bayrell.CloudOS.Frontend.DockerServices.StopDialogModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.DockerServices"},getClassName:function(){return"Bayrell.CloudOS.Frontend.DockerServices.StopDialogModel"},getParentClassName:function(){return"Runtime.Web.BaseModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.DockerServices.StopDialogModel),window["Bayrell.CloudOS.Frontend.DockerServices.StopDialogModel"]=Bayrell.CloudOS.Frontend.DockerServices.StopDialogModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.DockerServices.StopDialogModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.DockerStack&&(Bayrell.CloudOS.Frontend.DockerStack={}),Bayrell.CloudOS.Frontend.DockerStack.StackFormModel=function(){Runtime.Widget.Form.FormModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.DockerStack.StackFormModel.prototype=Object.create(Runtime.Widget.Form.FormModel.prototype),Bayrell.CloudOS.Frontend.DockerStack.StackFormModel.prototype.constructor=Bayrell.CloudOS.Frontend.DockerStack.StackFormModel,Object.assign(Bayrell.CloudOS.Frontend.DockerStack.StackFormModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.docker.stack",primary_keys:Runtime.Vector.from(["stack_name"])}))},initFields:function(){this.addField(Runtime.Map.from({name:"stack_name",label:"Stack name",component:"Runtime.Widget.Input"}))},getPageTitle:function(e){return"add"==(e=null==e?"":e)?"Add docker stack":"edit"==e?"Edit "+Runtime.rtl.toStr(this.storage.item.get("stack_name")):"delete"==e?"Delete "+Runtime.rtl.toStr(this.storage.item.get("stack_name")):""}}),Object.assign(Bayrell.CloudOS.Frontend.DockerStack.StackFormModel,Runtime.Widget.Form.FormModel),Object.assign(Bayrell.CloudOS.Frontend.DockerStack.StackFormModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.DockerStack"},getClassName:function(){return"Bayrell.CloudOS.Frontend.DockerStack.StackFormModel"},getParentClassName:function(){return"Runtime.Widget.Form.FormModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.DockerStack.StackFormModel),window["Bayrell.CloudOS.Frontend.DockerStack.StackFormModel"]=Bayrell.CloudOS.Frontend.DockerStack.StackFormModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.DockerStack.StackFormModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.DockerStack&&(Bayrell.CloudOS.Frontend.DockerStack={}),Bayrell.CloudOS.Frontend.DockerStack.StackPageModel=function(e){null==e&&(e=null),Runtime.Widget.Crud.CrudPageModel.call(this,e),"app:docker:stack:index"==this.layout.route.name&&(this.setAction("index"),new Bayrell.CloudOS.Frontend.DockerStack.StackTableModel(Runtime.Map.from({parent_widget:this})).storage.setPage(this.layout.request_query.get("page",1)))},Bayrell.CloudOS.Frontend.DockerStack.StackPageModel.prototype=Object.create(Runtime.Widget.Crud.CrudPageModel.prototype),Bayrell.CloudOS.Frontend.DockerStack.StackPageModel.prototype.constructor=Bayrell.CloudOS.Frontend.DockerStack.StackPageModel,Object.assign(Bayrell.CloudOS.Frontend.DockerStack.StackPageModel.prototype,{onRouteAfter:async function(){"index"==this.action&&this.layout.setPageTitle("List of docker stacks")}}),Object.assign(Bayrell.CloudOS.Frontend.DockerStack.StackPageModel,Runtime.Widget.Crud.CrudPageModel),Object.assign(Bayrell.CloudOS.Frontend.DockerStack.StackPageModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.DockerStack"},getClassName:function(){return"Bayrell.CloudOS.Frontend.DockerStack.StackPageModel"},getParentClassName:function(){return"Runtime.Widget.Crud.CrudPageModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.DockerStack.StackPageModel),window["Bayrell.CloudOS.Frontend.DockerStack.StackPageModel"]=Bayrell.CloudOS.Frontend.DockerStack.StackPageModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.DockerStack.StackPageModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.DockerStack&&(Bayrell.CloudOS.Frontend.DockerStack={}),Bayrell.CloudOS.Frontend.DockerStack.StackTableModel=function(){Runtime.Widget.Table.TableDialogModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.DockerStack.StackTableModel.prototype=Object.create(Runtime.Widget.Table.TableDialogModel.prototype),Bayrell.CloudOS.Frontend.DockerStack.StackTableModel.prototype.constructor=Bayrell.CloudOS.Frontend.DockerStack.StackTableModel,Object.assign(Bayrell.CloudOS.Frontend.DockerStack.StackTableModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.docker.stack",primary_keys:Runtime.Vector.from(["stack_name"])}))},initStyles:function(){this.styles.add("border")},initWidgets:function(){new Bayrell.CloudOS.Frontend.DockerStack.StackFormModel(Runtime.Map.from({parent_widget:this}));Runtime.Widget.Table.TableDialogModel.prototype.initWidgets.call(this)},initFields:function(){this.addField(Runtime.Map.from({name:"row_number"})),this.addField(Runtime.Map.from({name:"stack_name",label:"Stack name"})),this.addFieldRowButtons()}}),Object.assign(Bayrell.CloudOS.Frontend.DockerStack.StackTableModel,Runtime.Widget.Table.TableDialogModel),Object.assign(Bayrell.CloudOS.Frontend.DockerStack.StackTableModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.DockerStack"},getClassName:function(){return"Bayrell.CloudOS.Frontend.DockerStack.StackTableModel"},getParentClassName:function(){return"Runtime.Widget.Table.TableDialogModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.DockerStack.StackTableModel),window["Bayrell.CloudOS.Frontend.DockerStack.StackTableModel"]=Bayrell.CloudOS.Frontend.DockerStack.StackTableModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.DockerStack.StackTableModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.DockerYamlFiles&&(Bayrell.CloudOS.Frontend.DockerYamlFiles={}),Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileFormModel=function(){Runtime.Widget.Form.FormModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileFormModel.prototype=Object.create(Runtime.Widget.Form.FormModel.prototype),Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileFormModel.prototype.constructor=Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileFormModel,Object.assign(Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileFormModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.docker.yaml",primary_keys:Runtime.Vector.from(["id"])}))},initFields:function(){var e=new Runtime.Widget.Crud.Dictionary(Runtime.Map.from({storage:new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.docker.stack"})),widget_name:"stack_name",parent_widget:this,transform:e=>Runtime.Map.from({label:e.get("stack_name"),value:e.get("stack_name")})}));this.addField(Runtime.Map.from({label:"Stack name",name:"stack_name",component:"Runtime.Widget.Select",model:e})),this.addField(Runtime.Map.from({label:"File name",name:"file_name",component:"Runtime.Widget.Input"})),this.addField(Runtime.Map.from({name:"content",label:"Content",component:"Runtime.Widget.CodeMirror.CodeMirror",props:Runtime.Map.from({height:"450px"})})),this.layout.addComponent("Runtime.Widget.CodeMirror.CodeMirror")},getPageTitle:function(e){return"add"==(e=null==e?"":e)?"Add yaml file":"edit"==e?"Edit yaml file "+Runtime.rtl.toStr(this.storage.item.get("file_name")):"delete"==e?"Delete yaml file "+Runtime.rtl.toStr(this.storage.item.get("file_name")):""}}),Object.assign(Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileFormModel,Runtime.Widget.Form.FormModel),Object.assign(Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileFormModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.DockerYamlFiles"},getClassName:function(){return"Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileFormModel"},getParentClassName:function(){return"Runtime.Widget.Form.FormModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileFormModel),window["Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileFormModel"]=Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileFormModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileFormModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.DockerYamlFiles&&(Bayrell.CloudOS.Frontend.DockerYamlFiles={}),Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFilePageModel=function(e){null==e&&(e=null),Runtime.Widget.Crud.CrudPageModel.call(this,e),"app:docker:yaml:index"==this.layout.route.name&&(this.setAction("index"),new Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileTableModel(Runtime.Map.from({parent_widget:this})).storage.setPage(this.layout.request_query.get("page",1)))},Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFilePageModel.prototype=Object.create(Runtime.Widget.Crud.CrudPageModel.prototype),Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFilePageModel.prototype.constructor=Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFilePageModel,Object.assign(Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFilePageModel.prototype,{onRouteAfter:async function(){"index"==this.action&&this.layout.setPageTitle("List of yaml files")}}),Object.assign(Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFilePageModel,Runtime.Widget.Crud.CrudPageModel),Object.assign(Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFilePageModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.DockerYamlFiles"},getClassName:function(){return"Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFilePageModel"},getParentClassName:function(){return"Runtime.Widget.Crud.CrudPageModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFilePageModel),window["Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFilePageModel"]=Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFilePageModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFilePageModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.DockerYamlFiles&&(Bayrell.CloudOS.Frontend.DockerYamlFiles={}),Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileTableModel=function(){Runtime.Widget.Table.TableDialogModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileTableModel.prototype=Object.create(Runtime.Widget.Table.TableDialogModel.prototype),Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileTableModel.prototype.constructor=Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileTableModel,Object.assign(Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileTableModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.docker.yaml",primary_keys:Runtime.Vector.from(["id"])}))},initStyles:function(){this.styles.add("border")},initWidgets:function(){new Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileFormModel(Runtime.Map.from({parent_widget:this}));Runtime.Widget.Table.TableDialogModel.prototype.initWidgets.call(this),this.getWidget("save_dialog").dialog.setWidth("750px")},initFields:function(){this.addField(Runtime.Map.from({name:"row_number"})),this.addField(Runtime.Map.from({label:"Stack name",name:"stack_name",component:"Runtime.Widget.Label"})),this.addField(Runtime.Map.from({label:"File name",name:"file_name",component:"Runtime.Widget.Label"})),this.addFieldRowButtons()}}),Object.assign(Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileTableModel,Runtime.Widget.Table.TableDialogModel),Object.assign(Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileTableModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.DockerYamlFiles"},getClassName:function(){return"Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileTableModel"},getParentClassName:function(){return"Runtime.Widget.Table.TableDialogModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileTableModel),window["Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileTableModel"]=Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileTableModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.DockerYamlFiles.YamlFileTableModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Domains&&(Bayrell.CloudOS.Frontend.Domains={}),Bayrell.CloudOS.Frontend.Domains.DomainFormModel=function(){Runtime.Widget.Form.FormModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.Domains.DomainFormModel.prototype=Object.create(Runtime.Widget.Form.FormModel.prototype),Bayrell.CloudOS.Frontend.Domains.DomainFormModel.prototype.constructor=Bayrell.CloudOS.Frontend.Domains.DomainFormModel,Object.assign(Bayrell.CloudOS.Frontend.Domains.DomainFormModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.domain",primary_keys:Runtime.Vector.from(["id"])}))},initWidgets:function(){Runtime.Widget.Form.FormModel.prototype.initWidgets.call(this)},initButtons:function(){"edit"==this.action&&(this.top_buttons.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Back",styles:Runtime.Vector.from(["default"]),href:this.layout.url("app:domains:index")}))),this.bottom_buttons.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Save",styles:Runtime.Vector.from(["primary","large"])}))).events.add("onClick",new Runtime.Callback(this,"save")))},initFields:function(){this.addField(Runtime.Map.from({label:"Domain name",name:"domain_name",component:"Runtime.Widget.Input"}));var e=new Runtime.Widget.Crud.Dictionary(Runtime.Map.from({storage:new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.workspace"})),widget_name:"space_id",parent_widget:this,transform:e=>Runtime.Map.from({label:e.get("name"),value:e.get("id")})}));this.addField(Runtime.Map.from({label:"Space name",name:"space_id",component:"Runtime.Widget.Select",model:e}))},getPageTitle:function(e){return"add"==(e=null==e?"":e)?"Add domain":"edit"==e?"Edit domain "+Runtime.rtl.toStr(this.storage.item.get("domain_name")):"delete"==e?"Delete domain "+Runtime.rtl.toStr(this.storage.item.get("domain_name")):""}}),Object.assign(Bayrell.CloudOS.Frontend.Domains.DomainFormModel,Runtime.Widget.Form.FormModel),Object.assign(Bayrell.CloudOS.Frontend.Domains.DomainFormModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Domains"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Domains.DomainFormModel"},getParentClassName:function(){return"Runtime.Widget.Form.FormModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Domains.DomainFormModel),window["Bayrell.CloudOS.Frontend.Domains.DomainFormModel"]=Bayrell.CloudOS.Frontend.Domains.DomainFormModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Domains.DomainFormModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Domains&&(Bayrell.CloudOS.Frontend.Domains={}),Bayrell.CloudOS.Frontend.Domains.DomainPageModel=function(e){var t;null==e&&(e=null),Runtime.Widget.Crud.CrudPageModel.call(this,e),"app:domains:index"==this.layout.route.name?(this.setAction("index"),new Bayrell.CloudOS.Frontend.Domains.DomainTableModel(Runtime.Map.from({parent_widget:this})).storage.setPage(this.layout.request_query.get("page",1))):"app:domains:edit"==this.layout.route.name&&(this.setAction("edit"),new Bayrell.CloudOS.Frontend.Domains.DomainFormModel(Runtime.Map.from({action:"edit",parent_widget:this})).storage.setPrimaryKey(Runtime.Map.from({id:this.layout.route.matches.get("id")})),(e=new Bayrell.CloudOS.Frontend.Routes.RouteTableModel(Runtime.Map.from({parent_widget:this}))).storage.setPage(1),this.getWidget("render_list").addRender(e),t=this.layout.route.matches.get("id"),e.storage.setForeignKey("domain_id",t),e.getWidget("form").storage.setForeignKey("domain_id",t),e.getWidget("form").removeField("domain_id"))},Bayrell.CloudOS.Frontend.Domains.DomainPageModel.prototype=Object.create(Runtime.Widget.Crud.CrudPageModel.prototype),Bayrell.CloudOS.Frontend.Domains.DomainPageModel.prototype.constructor=Bayrell.CloudOS.Frontend.Domains.DomainPageModel,Object.assign(Bayrell.CloudOS.Frontend.Domains.DomainPageModel.prototype,{onRouteAfter:async function(){var e;"index"==this.action?this.layout.setPageTitle("List of domains"):"edit"==this.action&&(e=this.getWidget("form"),this.layout.setPageTitle(e.getPageTitle("edit")))}}),Object.assign(Bayrell.CloudOS.Frontend.Domains.DomainPageModel,Runtime.Widget.Crud.CrudPageModel),Object.assign(Bayrell.CloudOS.Frontend.Domains.DomainPageModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Domains"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Domains.DomainPageModel"},getParentClassName:function(){return"Runtime.Widget.Crud.CrudPageModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Domains.DomainPageModel),window["Bayrell.CloudOS.Frontend.Domains.DomainPageModel"]=Bayrell.CloudOS.Frontend.Domains.DomainPageModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Domains.DomainPageModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Domains&&(Bayrell.CloudOS.Frontend.Domains={}),Bayrell.CloudOS.Frontend.Domains.DomainTableModel=function(){Runtime.Widget.Table.TableDialogModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.Domains.DomainTableModel.prototype=Object.create(Runtime.Widget.Table.TableDialogModel.prototype),Bayrell.CloudOS.Frontend.Domains.DomainTableModel.prototype.constructor=Bayrell.CloudOS.Frontend.Domains.DomainTableModel,Object.assign(Bayrell.CloudOS.Frontend.Domains.DomainTableModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.domain",primary_keys:Runtime.Vector.from(["id"])}))},initStyles:function(){this.styles.add("border")},initWidgets:function(){new Bayrell.CloudOS.Frontend.Domains.DomainFormModel(Runtime.Map.from({parent_widget:this}));Runtime.Widget.Table.TableDialogModel.prototype.initWidgets.call(this),this.pagination.set("is_href",!1)},addEditFieldRowButtons:function(e){return e.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Edit",styles:Runtime.Vector.from(["default","small"]),href:e=>{e=e.get("row_number"),e=this.getItemByRowNumber(e);return this.layout.url("app:domains:edit",Runtime.Map.from({id:e.get("id")}))}})))},initFields:function(){this.addField(Runtime.Map.from({name:"row_number"})),this.addField(Runtime.Map.from({label:"Domain name",name:"domain_name",component:"Runtime.Widget.Label"})),this.addField(Runtime.Map.from({label:"Space name",name:"space_name",component:"Runtime.Widget.Label"})),this.addFieldRowButtons()}}),Object.assign(Bayrell.CloudOS.Frontend.Domains.DomainTableModel,Runtime.Widget.Table.TableDialogModel),Object.assign(Bayrell.CloudOS.Frontend.Domains.DomainTableModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Domains"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Domains.DomainTableModel"},getParentClassName:function(){return"Runtime.Widget.Table.TableDialogModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Domains.DomainTableModel),window["Bayrell.CloudOS.Frontend.Domains.DomainTableModel"]=Bayrell.CloudOS.Frontend.Domains.DomainTableModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Domains.DomainTableModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Modificators&&(Bayrell.CloudOS.Frontend.Modificators={}),Bayrell.CloudOS.Frontend.Modificators.ModificatorFormModel=function(){Runtime.Widget.Form.FormModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.Modificators.ModificatorFormModel.prototype=Object.create(Runtime.Widget.Form.FormModel.prototype),Bayrell.CloudOS.Frontend.Modificators.ModificatorFormModel.prototype.constructor=Bayrell.CloudOS.Frontend.Modificators.ModificatorFormModel,Object.assign(Bayrell.CloudOS.Frontend.Modificators.ModificatorFormModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.modificators",primary_keys:Runtime.Vector.from(["id"])}))},initFields:function(){this.addField(Runtime.Map.from({label:"Content",name:"content",component:"Runtime.Widget.CodeMirror.CodeMirror",props:Runtime.Map.from({height:"450px"})})),this.layout.addComponent("Runtime.Widget.CodeMirror.CodeMirror")},getPageTitle:function(e){return"edit"==(e=null==e?"":e)?"Edit modificator "+Runtime.rtl.toStr(this.storage.item.get("name")):"delete"==e?"Delete modificator "+Runtime.rtl.toStr(this.storage.item.get("name")):""}}),Object.assign(Bayrell.CloudOS.Frontend.Modificators.ModificatorFormModel,Runtime.Widget.Form.FormModel),Object.assign(Bayrell.CloudOS.Frontend.Modificators.ModificatorFormModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Modificators"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Modificators.ModificatorFormModel"},getParentClassName:function(){return"Runtime.Widget.Form.FormModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Modificators.ModificatorFormModel),window["Bayrell.CloudOS.Frontend.Modificators.ModificatorFormModel"]=Bayrell.CloudOS.Frontend.Modificators.ModificatorFormModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Modificators.ModificatorFormModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Modificators&&(Bayrell.CloudOS.Frontend.Modificators={}),Bayrell.CloudOS.Frontend.Modificators.ModificatorPageModel=function(e){null==e&&(e=null),Runtime.Widget.Crud.CrudPageModel.call(this,e),"app:modificators:index"==this.layout.route.name&&(this.setAction("index"),new Bayrell.CloudOS.Frontend.Modificators.ModificatorTableModel(Runtime.Map.from({parent_widget:this})).storage.setPage(this.layout.request_query.get("page",1)))},Bayrell.CloudOS.Frontend.Modificators.ModificatorPageModel.prototype=Object.create(Runtime.Widget.Crud.CrudPageModel.prototype),Bayrell.CloudOS.Frontend.Modificators.ModificatorPageModel.prototype.constructor=Bayrell.CloudOS.Frontend.Modificators.ModificatorPageModel,Object.assign(Bayrell.CloudOS.Frontend.Modificators.ModificatorPageModel.prototype,{onRouteAfter:async function(){"index"==this.action&&this.layout.setPageTitle("Modificators")}}),Object.assign(Bayrell.CloudOS.Frontend.Modificators.ModificatorPageModel,Runtime.Widget.Crud.CrudPageModel),Object.assign(Bayrell.CloudOS.Frontend.Modificators.ModificatorPageModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Modificators"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Modificators.ModificatorPageModel"},getParentClassName:function(){return"Runtime.Widget.Crud.CrudPageModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Modificators.ModificatorPageModel),window["Bayrell.CloudOS.Frontend.Modificators.ModificatorPageModel"]=Bayrell.CloudOS.Frontend.Modificators.ModificatorPageModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Modificators.ModificatorPageModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Modificators&&(Bayrell.CloudOS.Frontend.Modificators={}),Bayrell.CloudOS.Frontend.Modificators.ModificatorTableModel=function(){Runtime.Widget.Table.TableDialogModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.Modificators.ModificatorTableModel.prototype=Object.create(Runtime.Widget.Table.TableDialogModel.prototype),Bayrell.CloudOS.Frontend.Modificators.ModificatorTableModel.prototype.constructor=Bayrell.CloudOS.Frontend.Modificators.ModificatorTableModel,Object.assign(Bayrell.CloudOS.Frontend.Modificators.ModificatorTableModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.modificators",primary_keys:Runtime.Vector.from(["id"])}))},initStyles:function(){this.styles.add("border")},initWidgets:function(){new Bayrell.CloudOS.Frontend.Modificators.ModificatorFormModel(Runtime.Map.from({parent_widget:this}));Runtime.Widget.Table.TableDialogModel.prototype.initWidgets.call(this),this.getWidget("save_dialog").dialog.setWidth("750px")},initTopButtons:function(){this.top_buttons.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Add",href:this.layout.url("app:templates:import"),styles:Runtime.Vector.from(["success"])})))},initFields:function(){this.addField(Runtime.Map.from({name:"row_number"})),this.addField(Runtime.Map.from({label:"Name",name:"name",component:"Runtime.Widget.Label"})),this.addField(Runtime.Map.from({label:"UID",name:"uid",component:"Runtime.Widget.Label"})),this.addField(Runtime.Map.from({label:"Version",name:"version",component:"Runtime.Widget.Label"})),this.addField(Runtime.Map.from({label:"Priority",name:"priority",component:"Runtime.Widget.Label"})),this.addFieldRowButtons()}}),Object.assign(Bayrell.CloudOS.Frontend.Modificators.ModificatorTableModel,Runtime.Widget.Table.TableDialogModel),Object.assign(Bayrell.CloudOS.Frontend.Modificators.ModificatorTableModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Modificators"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Modificators.ModificatorTableModel"},getParentClassName:function(){return"Runtime.Widget.Table.TableDialogModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Modificators.ModificatorTableModel),window["Bayrell.CloudOS.Frontend.Modificators.ModificatorTableModel"]=Bayrell.CloudOS.Frontend.Modificators.ModificatorTableModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Modificators.ModificatorTableModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Main&&(Bayrell.CloudOS.Frontend.Main={}),Bayrell.CloudOS.Frontend.Main.AboutPage={name:"Bayrell.CloudOS.Frontend.Main.AboutPage",extends:Runtime.Web.Component,methods:{render:function(){var e=[],t=this._e(e,"div",{class:this._class_name(["page_about"]),key:"page_about"}),n=this._e(t,"p",{}),n=(this._t(n,"BAYRELL Cloud OS. Version: "),this._t(n,Bayrell.CloudOS.Frontend.ModuleDescription.getModuleVersion()),this._e(t,"p",{})),n=(this._t(n,"(c) Copyright 2020 - 2023 'Ildar Bikmamatov' <support@bayrell.org>"),this._e(t,"p",{})),n=(this._t(n,"Thank you for using this program!"),this._e(t,"p",{})),i=this._e(n,"span",{class:this._class_name(["label"]),key:"label"}),i=(this._t(i,"Please Donate:"),this._e(n,"a",{href:"https://bayrell.org/en/donate",class:this._class_name(["link"]),key:"link"})),n=(this._t(i,"https://bayrell.org/en/donate"),this._e(t,"p",{})),i=this._e(n,"span",{class:this._class_name(["label"]),key:"label"}),i=(this._t(i,"Source code:"),this._e(n,"a",{href:"https://github.com/bayrell-os/cloud_os_standard",class:this._class_name(["link"]),key:"link"})),n=(this._t(i,"            https://github.com/bayrell-os/cloud_os_standard\n         "),this._e(t,"pre",{}));return this._t(n,'                                 Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      "License" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      "Licensor" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      "Legal Entity" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      "control" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      "You" (or "Your") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      "Source" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      "Object" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      "Work" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      "Derivative Works" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      "Contribution" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, "submitted"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as "Not a Contribution."\n\n      "Contributor" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a "NOTICE" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an "AS IS" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS'),this._t(t,"    "),this._flatten(e)}}},Object.assign(Bayrell.CloudOS.Frontend.Main.AboutPage,{css:function(e){return".page_about.h-e6f0{"+Runtime.rtl.toStr("position: relative;")+Runtime.rtl.toStr("}.page_about.h-e6f0 p:first-child{")+Runtime.rtl.toStr("margin-top: 0;")+Runtime.rtl.toStr("}.page_about.h-e6f0 textarea{")+Runtime.rtl.toStr("width: 100%;height: 500px;")+Runtime.rtl.toStr("}.page_about.h-e6f0 pre{")+Runtime.rtl.toStr("   padding-top: 20px;")+Runtime.rtl.toStr("}.page_about.h-e6f0 .label.h-e6f0{")+Runtime.rtl.toStr("   padding-right: 5px;")+Runtime.rtl.toStr("}")},getNamespace:function(){return"Bayrell.CloudOS.Frontend.Main"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Main.AboutPage"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Main.AboutPage),window["Bayrell.CloudOS.Frontend.Main.AboutPage"]=Bayrell.CloudOS.Frontend.Main.AboutPage,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Main.AboutPage),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Main&&(Bayrell.CloudOS.Frontend.Main={}),Bayrell.CloudOS.Frontend.Main.IndexPage={name:"Bayrell.CloudOS.Frontend.Main.IndexPage",extends:Runtime.Web.Component,data:function(){return{title:null}},methods:{render:function(){var e=[],t=this._e(e,"div",{});return this._t(t,"Cloud OS Version 0.5.0"),this._flatten(e)}}},Object.assign(Bayrell.CloudOS.Frontend.Main.IndexPage,{css:function(e){},getNamespace:function(){return"Bayrell.CloudOS.Frontend.Main"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Main.IndexPage"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Main.IndexPage),window["Bayrell.CloudOS.Frontend.Main.IndexPage"]=Bayrell.CloudOS.Frontend.Main.IndexPage,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Main.IndexPage),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Main&&(Bayrell.CloudOS.Frontend.Main={}),Bayrell.CloudOS.Frontend.Main.IndexPageModel=function(){Runtime.Web.PageModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.Main.IndexPageModel.prototype=Object.create(Runtime.Web.PageModel.prototype),Bayrell.CloudOS.Frontend.Main.IndexPageModel.prototype.constructor=Bayrell.CloudOS.Frontend.Main.IndexPageModel,Object.assign(Bayrell.CloudOS.Frontend.Main.IndexPageModel.prototype,{}),Object.assign(Bayrell.CloudOS.Frontend.Main.IndexPageModel,Runtime.Web.PageModel),Object.assign(Bayrell.CloudOS.Frontend.Main.IndexPageModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Main"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Main.IndexPageModel"},getParentClassName:function(){return"Runtime.Web.PageModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Main.IndexPageModel),window["Bayrell.CloudOS.Frontend.Main.IndexPageModel"]=Bayrell.CloudOS.Frontend.Main.IndexPageModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Main.IndexPageModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Routes&&(Bayrell.CloudOS.Frontend.Routes={}),Bayrell.CloudOS.Frontend.Routes.RouteFormModel=function(){Runtime.Widget.Form.FormModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.Routes.RouteFormModel.prototype=Object.create(Runtime.Widget.Form.FormModel.prototype),Bayrell.CloudOS.Frontend.Routes.RouteFormModel.prototype.constructor=Bayrell.CloudOS.Frontend.Routes.RouteFormModel,Object.assign(Bayrell.CloudOS.Frontend.Routes.RouteFormModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.route",primary_keys:Runtime.Vector.from(["id"])}))},initFields:function(){this.addField(Runtime.Map.from({label:"Enable",name:"enable",component:"Runtime.Widget.Select",props:Runtime.Map.from({options:Runtime.Vector.from([Runtime.Map.from({label:"No",value:"0"}),Runtime.Map.from({label:"Yes",value:"1"})])})})),this.addField(Runtime.Map.from({label:"Protocol",name:"protocol",component:"Runtime.Widget.Select",props:Runtime.Map.from({options:Runtime.Vector.from([Runtime.Map.from({label:"HTTP",value:"http"})])})}));var e=new Runtime.Widget.Crud.Dictionary(Runtime.Map.from({storage:new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.domain"})),widget_name:"domain_id",parent_widget:this,transform:e=>Runtime.Map.from({label:e.get("domain_name"),value:e.get("id")})}));this.addField(Runtime.Map.from({label:"Domain name",name:"domain_id",component:"Runtime.Widget.Select",model:e})),this.addField(Runtime.Map.from({label:"Source port",name:"source_port",component:"Runtime.Widget.Input"})),this.addField(Runtime.Map.from({label:"Route prefix",name:"route_prefix",component:"Runtime.Widget.Input"})),this.addField(Runtime.Map.from({label:"Docker name",name:"docker_name",component:"Runtime.Widget.Input"})),this.addField(Runtime.Map.from({label:"Target port",name:"target_port",component:"Runtime.Widget.Input"})),this.addField(Runtime.Map.from({label:"Target prefix",name:"target_prefix",component:"Runtime.Widget.Input"})),this.addField(Runtime.Map.from({label:"Nginx config",name:"nginx_config",component:"Runtime.Widget.TextArea"}))},getPageTitle:function(e){return"add"==(e=null==e?"":e)?"Add route":"edit"==e?"Edit route "+Runtime.rtl.toStr(Bayrell.CloudOS.Frontend.Routes.RouteTableModel.getRouteName(this.storage.item)):"delete"==e?"Delete route "+Runtime.rtl.toStr(Bayrell.CloudOS.Frontend.Routes.RouteTableModel.getRouteName(this.storage.item)):""}}),Object.assign(Bayrell.CloudOS.Frontend.Routes.RouteFormModel,Runtime.Widget.Form.FormModel),Object.assign(Bayrell.CloudOS.Frontend.Routes.RouteFormModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Routes"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Routes.RouteFormModel"},getParentClassName:function(){return"Runtime.Widget.Form.FormModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Routes.RouteFormModel),window["Bayrell.CloudOS.Frontend.Routes.RouteFormModel"]=Bayrell.CloudOS.Frontend.Routes.RouteFormModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Routes.RouteFormModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Routes&&(Bayrell.CloudOS.Frontend.Routes={}),Bayrell.CloudOS.Frontend.Routes.RoutePageModel=function(e){null==e&&(e=null),Runtime.Widget.Crud.CrudPageModel.call(this,e),"app:routes:index"==this.layout.route.name&&(this.setAction("index"),new Bayrell.CloudOS.Frontend.Routes.RouteTableModel(Runtime.Map.from({parent_widget:this})).storage.setPage(this.layout.request_query.get("page",1)))},Bayrell.CloudOS.Frontend.Routes.RoutePageModel.prototype=Object.create(Runtime.Widget.Crud.CrudPageModel.prototype),Bayrell.CloudOS.Frontend.Routes.RoutePageModel.prototype.constructor=Bayrell.CloudOS.Frontend.Routes.RoutePageModel,Object.assign(Bayrell.CloudOS.Frontend.Routes.RoutePageModel.prototype,{onRouteAfter:async function(){"index"==this.action&&this.layout.setPageTitle("Routes")}}),Object.assign(Bayrell.CloudOS.Frontend.Routes.RoutePageModel,Runtime.Widget.Crud.CrudPageModel),Object.assign(Bayrell.CloudOS.Frontend.Routes.RoutePageModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Routes"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Routes.RoutePageModel"},getParentClassName:function(){return"Runtime.Widget.Crud.CrudPageModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Routes.RoutePageModel),window["Bayrell.CloudOS.Frontend.Routes.RoutePageModel"]=Bayrell.CloudOS.Frontend.Routes.RoutePageModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Routes.RoutePageModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Routes&&(Bayrell.CloudOS.Frontend.Routes={}),Bayrell.CloudOS.Frontend.Routes.RouteTableModel=function(){Runtime.Widget.Table.TableDialogModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.Routes.RouteTableModel.prototype=Object.create(Runtime.Widget.Table.TableDialogModel.prototype),Bayrell.CloudOS.Frontend.Routes.RouteTableModel.prototype.constructor=Bayrell.CloudOS.Frontend.Routes.RouteTableModel,Object.assign(Bayrell.CloudOS.Frontend.Routes.RouteTableModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.route",primary_keys:Runtime.Vector.from(["id"])}))},initStyles:function(){this.styles.add("border")},initWidgets:function(){new Bayrell.CloudOS.Frontend.Routes.RouteFormModel(Runtime.Map.from({parent_widget:this}));Runtime.Widget.Table.TableDialogModel.prototype.initWidgets.call(this),this.getWidget("save_dialog").dialog.setWidth("750px")},initFields:function(){this.addField(Runtime.Map.from({name:"row_number"})),this.addField(Runtime.Map.from({label:"Enable",name:"enable",component:"Runtime.Widget.SelectLabel",props:Runtime.Map.from({options:Runtime.Vector.from([Runtime.Map.from({label:"No",value:"0"}),Runtime.Map.from({label:"Yes",value:"1"})])})})),this.addField(Runtime.Map.from({label:"Protocol",name:"protocol",component:"Runtime.Widget.SelectLabel",props:Runtime.Map.from({options:Runtime.Vector.from([Runtime.Map.from({label:"HTTP",value:"http"})])})})),this.addField(Runtime.Map.from({label:"Source",name:"source",component:"Runtime.Widget.Label"})),this.addField(Runtime.Map.from({label:"Dest",name:"dest",component:"Runtime.Widget.Label"})),this.addFieldRowButtons()},getItemValue:function(e,t){return"source"==t?this.constructor.getSourceName(e):"dest"==t?this.constructor.getDestName(e):e.get(t)}}),Object.assign(Bayrell.CloudOS.Frontend.Routes.RouteTableModel,Runtime.Widget.Table.TableDialogModel),Object.assign(Bayrell.CloudOS.Frontend.Routes.RouteTableModel,{getRouteName:function(e){return this.getSourceName(e)+Runtime.rtl.toStr(" => ")+Runtime.rtl.toStr(this.getDestName(e))},getSourceName:function(e){var t="";return t+=Runtime.rtl.toStr(Runtime.rtl.attr(e,"domain_name")),80!=Runtime.rtl.attr(e,"source_port")&&(t+=Runtime.rtl.toStr(":"+Runtime.rtl.toStr(Runtime.rtl.attr(e,"source_port")))),"/"!=Runtime.rtl.attr(e,"route_prefix")&&(t+=Runtime.rtl.toStr(Runtime.rtl.attr(e,"route_prefix"))),t},getDestName:function(e){var t="";return t+=Runtime.rtl.toStr(Runtime.rtl.attr(e,"docker_name")),80!=Runtime.rtl.attr(e,"target_port")&&(t+=Runtime.rtl.toStr(":"+Runtime.rtl.toStr(Runtime.rtl.attr(e,"target_port")))),"/"!=Runtime.rtl.attr(e,"target_prefix")&&(t+=Runtime.rtl.toStr(Runtime.rtl.attr(e,"target_prefix"))),t},getNamespace:function(){return"Bayrell.CloudOS.Frontend.Routes"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Routes.RouteTableModel"},getParentClassName:function(){return"Runtime.Widget.Table.TableDialogModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Routes.RouteTableModel),window["Bayrell.CloudOS.Frontend.Routes.RouteTableModel"]=Bayrell.CloudOS.Frontend.Routes.RouteTableModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Routes.RouteTableModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.NginxFiles&&(Bayrell.CloudOS.Frontend.NginxFiles={}),Bayrell.CloudOS.Frontend.NginxFiles.NginxPageModel=function(e){null==e&&(e=null),Runtime.Widget.Crud.CrudPageModel.call(this,e),"app:nginx_files:index"==this.layout.route.name&&(this.setAction("index"),new Bayrell.CloudOS.Frontend.NginxFiles.NginxTableModel(Runtime.Map.from({parent_widget:this})).storage.setPage(this.layout.request_query.get("page",1)))},Bayrell.CloudOS.Frontend.NginxFiles.NginxPageModel.prototype=Object.create(Runtime.Widget.Crud.CrudPageModel.prototype),Bayrell.CloudOS.Frontend.NginxFiles.NginxPageModel.prototype.constructor=Bayrell.CloudOS.Frontend.NginxFiles.NginxPageModel,Object.assign(Bayrell.CloudOS.Frontend.NginxFiles.NginxPageModel.prototype,{onRouteAfter:async function(){"index"==this.action&&this.layout.setPageTitle("List of nginx files")}}),Object.assign(Bayrell.CloudOS.Frontend.NginxFiles.NginxPageModel,Runtime.Widget.Crud.CrudPageModel),Object.assign(Bayrell.CloudOS.Frontend.NginxFiles.NginxPageModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.NginxFiles"},getClassName:function(){return"Bayrell.CloudOS.Frontend.NginxFiles.NginxPageModel"},getParentClassName:function(){return"Runtime.Widget.Crud.CrudPageModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.NginxFiles.NginxPageModel),window["Bayrell.CloudOS.Frontend.NginxFiles.NginxPageModel"]=Bayrell.CloudOS.Frontend.NginxFiles.NginxPageModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.NginxFiles.NginxPageModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.NginxFiles&&(Bayrell.CloudOS.Frontend.NginxFiles={}),Bayrell.CloudOS.Frontend.NginxFiles.NginxFormModel=function(){Runtime.Widget.Form.FormModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.NginxFiles.NginxFormModel.prototype=Object.create(Runtime.Widget.Form.FormModel.prototype),Bayrell.CloudOS.Frontend.NginxFiles.NginxFormModel.prototype.constructor=Bayrell.CloudOS.Frontend.NginxFiles.NginxFormModel,Object.assign(Bayrell.CloudOS.Frontend.NginxFiles.NginxFormModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.nginx_files",primary_keys:Runtime.Vector.from(["id"])}))},initFields:function(){this.addField(Runtime.Map.from({name:"name",label:"Name",component:"Runtime.Widget.Input"})),this.addField(Runtime.Map.from({name:"enable",label:"Enable",component:"Runtime.Widget.Select",props:Runtime.Map.from({options:Runtime.Vector.from([Runtime.Map.from({label:"No",value:"0"}),Runtime.Map.from({label:"Yes",value:"1"})])})})),this.addField(Runtime.Map.from({name:"content",label:"Content",component:"Runtime.Widget.CodeMirror.CodeMirror",props:Runtime.Map.from({height:"450px"})})),this.layout.addComponent("Runtime.Widget.CodeMirror.CodeMirror")},getPageTitle:function(e){return"add"==(e=null==e?"":e)?"Add nginx file":"edit"==e?"Edit nginx file "+Runtime.rtl.toStr(this.storage.item.get("name")):"delete"==e?"Delete nginx file "+Runtime.rtl.toStr(this.storage.item.get("name")):""}}),Object.assign(Bayrell.CloudOS.Frontend.NginxFiles.NginxFormModel,Runtime.Widget.Form.FormModel),Object.assign(Bayrell.CloudOS.Frontend.NginxFiles.NginxFormModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.NginxFiles"},getClassName:function(){return"Bayrell.CloudOS.Frontend.NginxFiles.NginxFormModel"},getParentClassName:function(){return"Runtime.Widget.Form.FormModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.NginxFiles.NginxFormModel),window["Bayrell.CloudOS.Frontend.NginxFiles.NginxFormModel"]=Bayrell.CloudOS.Frontend.NginxFiles.NginxFormModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.NginxFiles.NginxFormModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.NginxFiles&&(Bayrell.CloudOS.Frontend.NginxFiles={}),Bayrell.CloudOS.Frontend.NginxFiles.NginxTableModel=function(){Runtime.Widget.Table.TableDialogModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.NginxFiles.NginxTableModel.prototype=Object.create(Runtime.Widget.Table.TableDialogModel.prototype),Bayrell.CloudOS.Frontend.NginxFiles.NginxTableModel.prototype.constructor=Bayrell.CloudOS.Frontend.NginxFiles.NginxTableModel,Object.assign(Bayrell.CloudOS.Frontend.NginxFiles.NginxTableModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.nginx_files",primary_keys:Runtime.Vector.from(["id"])}))},initStyles:function(){this.styles.add("border")},initWidgets:function(){new Bayrell.CloudOS.Frontend.NginxFiles.NginxFormModel(Runtime.Map.from({parent_widget:this}));Runtime.Widget.Table.TableDialogModel.prototype.initWidgets.call(this),this.getWidget("save_dialog").dialog.setWidth("750px")},initFields:function(){this.addField(Runtime.Map.from({name:"row_number"})),this.addField(Runtime.Map.from({name:"name",label:"File name",component:"Runtime.Widget.Label"})),this.addField(Runtime.Map.from({name:"enable",label:"Enable",component:"Runtime.Widget.SelectLabel",props:Runtime.Map.from({options:Runtime.Vector.from([Runtime.Map.from({label:"No",value:"0"}),Runtime.Map.from({label:"Yes",value:"1"})])})})),this.addFieldRowButtons()}}),Object.assign(Bayrell.CloudOS.Frontend.NginxFiles.NginxTableModel,Runtime.Widget.Table.TableDialogModel),Object.assign(Bayrell.CloudOS.Frontend.NginxFiles.NginxTableModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.NginxFiles"},getClassName:function(){return"Bayrell.CloudOS.Frontend.NginxFiles.NginxTableModel"},getParentClassName:function(){return"Runtime.Widget.Table.TableDialogModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.NginxFiles.NginxTableModel),window["Bayrell.CloudOS.Frontend.NginxFiles.NginxTableModel"]=Bayrell.CloudOS.Frontend.NginxFiles.NginxTableModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.NginxFiles.NginxTableModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.SSLGroup&&(Bayrell.CloudOS.Frontend.SSLGroup={}),Bayrell.CloudOS.Frontend.SSLGroup.SSLFormModel=function(){Runtime.Widget.Form.FormModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.SSLGroup.SSLFormModel.prototype=Object.create(Runtime.Widget.Form.FormModel.prototype),Bayrell.CloudOS.Frontend.SSLGroup.SSLFormModel.prototype.constructor=Bayrell.CloudOS.Frontend.SSLGroup.SSLFormModel,Object.assign(Bayrell.CloudOS.Frontend.SSLGroup.SSLFormModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.ssl_group",primary_keys:Runtime.Vector.from(["id"])}))},initFields:function(){this.addField(Runtime.Map.from({name:"name",label:"Name",component:"Runtime.Widget.Input"})),this.addField(Runtime.Map.from({name:"container_name",label:"Container name",component:"Runtime.Widget.Input"}))},getPageTitle:function(e){return"add"==(e=null==e?"":e)?"Add SSL group":"edit"==e?"Edit "+Runtime.rtl.toStr(this.storage.item.get("name")):"delete"==e?"Delete "+Runtime.rtl.toStr(this.storage.item.get("name")):""}}),Object.assign(Bayrell.CloudOS.Frontend.SSLGroup.SSLFormModel,Runtime.Widget.Form.FormModel),Object.assign(Bayrell.CloudOS.Frontend.SSLGroup.SSLFormModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.SSLGroup"},getClassName:function(){return"Bayrell.CloudOS.Frontend.SSLGroup.SSLFormModel"},getParentClassName:function(){return"Runtime.Widget.Form.FormModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.SSLGroup.SSLFormModel),window["Bayrell.CloudOS.Frontend.SSLGroup.SSLFormModel"]=Bayrell.CloudOS.Frontend.SSLGroup.SSLFormModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.SSLGroup.SSLFormModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.SSLGroup&&(Bayrell.CloudOS.Frontend.SSLGroup={}),Bayrell.CloudOS.Frontend.SSLGroup.SSLPageModel=function(e){null==e&&(e=null),Runtime.Widget.Crud.CrudPageModel.call(this,e),"app:ssl:index"==this.layout.route.name&&(this.setAction("index"),new Bayrell.CloudOS.Frontend.SSLGroup.SSLTableModel(Runtime.Map.from({parent_widget:this})).storage.setPage(this.layout.request_query.get("page",1)))},Bayrell.CloudOS.Frontend.SSLGroup.SSLPageModel.prototype=Object.create(Runtime.Widget.Crud.CrudPageModel.prototype),Bayrell.CloudOS.Frontend.SSLGroup.SSLPageModel.prototype.constructor=Bayrell.CloudOS.Frontend.SSLGroup.SSLPageModel,Object.assign(Bayrell.CloudOS.Frontend.SSLGroup.SSLPageModel.prototype,{onRouteAfter:async function(){"index"==this.action&&this.layout.setPageTitle("List of SSL groups")}}),Object.assign(Bayrell.CloudOS.Frontend.SSLGroup.SSLPageModel,Runtime.Widget.Crud.CrudPageModel),Object.assign(Bayrell.CloudOS.Frontend.SSLGroup.SSLPageModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.SSLGroup"},getClassName:function(){return"Bayrell.CloudOS.Frontend.SSLGroup.SSLPageModel"},getParentClassName:function(){return"Runtime.Widget.Crud.CrudPageModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.SSLGroup.SSLPageModel),window["Bayrell.CloudOS.Frontend.SSLGroup.SSLPageModel"]=Bayrell.CloudOS.Frontend.SSLGroup.SSLPageModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.SSLGroup.SSLPageModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.SSLGroup&&(Bayrell.CloudOS.Frontend.SSLGroup={}),Bayrell.CloudOS.Frontend.SSLGroup.SSLTableModel=function(){Runtime.Widget.Table.TableDialogModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.SSLGroup.SSLTableModel.prototype=Object.create(Runtime.Widget.Table.TableDialogModel.prototype),Bayrell.CloudOS.Frontend.SSLGroup.SSLTableModel.prototype.constructor=Bayrell.CloudOS.Frontend.SSLGroup.SSLTableModel,Object.assign(Bayrell.CloudOS.Frontend.SSLGroup.SSLTableModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.ssl_group",primary_keys:Runtime.Vector.from(["id"])}))},initStyles:function(){this.styles.add("border")},initWidgets:function(){new Bayrell.CloudOS.Frontend.SSLGroup.SSLFormModel(Runtime.Map.from({parent_widget:this}));Runtime.Widget.Table.TableDialogModel.prototype.initWidgets.call(this)},initFields:function(){this.addField(Runtime.Map.from({name:"row_number"})),this.addField(Runtime.Map.from({name:"name",label:"Name"})),this.addField(Runtime.Map.from({name:"container_name",label:"Container name"})),this.addFieldRowButtons()}}),Object.assign(Bayrell.CloudOS.Frontend.SSLGroup.SSLTableModel,Runtime.Widget.Table.TableDialogModel),Object.assign(Bayrell.CloudOS.Frontend.SSLGroup.SSLTableModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.SSLGroup"},getClassName:function(){return"Bayrell.CloudOS.Frontend.SSLGroup.SSLTableModel"},getParentClassName:function(){return"Runtime.Widget.Table.TableDialogModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.SSLGroup.SSLTableModel),window["Bayrell.CloudOS.Frontend.SSLGroup.SSLTableModel"]=Bayrell.CloudOS.Frontend.SSLGroup.SSLTableModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.SSLGroup.SSLTableModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Settings&&(Bayrell.CloudOS.Frontend.Settings={}),Bayrell.CloudOS.Frontend.Settings.DatabasePage={name:"Bayrell.CloudOS.Frontend.Settings.DatabasePage",extends:Runtime.Web.Component,methods:{render:function(){var e=[],t=this._e(e,"div",{}),n=this._e(t,"div",{}),n=(this._t(n,"Redirect. Please wait..."),this._e(t,"form",{id:"adminer_form",method:"POST",ref:"adminer_form",action:"/settings/database/adminer/",enctype:"multipart/form-data"})),t=(this._e(n,"input",{type:"hidden",name:"auth[driver]",value:"sqlite"}),this._e(n,"input",{type:"hidden",name:"auth[username]",value:"admin"}),this._e(n,"input",{type:"hidden",name:"auth[password]",value:"admin"}),this._e(n,"input",{type:"hidden",name:"auth[db]",value:"/data/db/cloud_os.db"}),this._e(n,"input",{type:"hidden",name:"auth[permanent]",value:"1"}),this._e(n,"button",{}));return this._t(t,"Open"),this._flatten(e)},onMounted:function(){this.getRef("adminer_form").submit()}}},Object.assign(Bayrell.CloudOS.Frontend.Settings.DatabasePage,{css:function(e){},getNamespace:function(){return"Bayrell.CloudOS.Frontend.Settings"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Settings.DatabasePage"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Settings.DatabasePage),window["Bayrell.CloudOS.Frontend.Settings.DatabasePage"]=Bayrell.CloudOS.Frontend.Settings.DatabasePage,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Settings.DatabasePage),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Settings&&(Bayrell.CloudOS.Frontend.Settings={}),Bayrell.CloudOS.Frontend.Settings.SettingsPage={name:"Bayrell.CloudOS.Frontend.Settings.SettingsPage",extends:Runtime.Web.Component,methods:{render:function(){var e=[];this._c(e,"Runtime.Widget.Button",{href:this.layout.url("app:settings:database")},()=>{var e=[];return this._t(e,"Open database"),this._flatten(e)});return this._flatten(e)}}},Object.assign(Bayrell.CloudOS.Frontend.Settings.SettingsPage,{css:function(e){},components:function(){return Runtime.Vector.from(["Runtime.Widget.Button"])},getNamespace:function(){return"Bayrell.CloudOS.Frontend.Settings"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Settings.SettingsPage"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Settings.SettingsPage),window["Bayrell.CloudOS.Frontend.Settings.SettingsPage"]=Bayrell.CloudOS.Frontend.Settings.SettingsPage,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Settings.SettingsPage),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Templates&&(Bayrell.CloudOS.Frontend.Templates={}),Bayrell.CloudOS.Frontend.Templates.TemplateFormModel=function(e){null==e&&(e=null),Runtime.Widget.Form.FormModel.call(this,e),"edit"==this.action&&(this.top_buttons.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Back",styles:Runtime.Vector.from(["default"]),href:this.layout.url("app:templates:index")}))),this.bottom_buttons.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Save",styles:Runtime.Vector.from(["primary","large"])}))).events.add("onClick",new Runtime.Callback(this,"save")),this.storage.setPrimaryKey(Runtime.Map.from({id:this.layout.route.matches.get("id")})))},Bayrell.CloudOS.Frontend.Templates.TemplateFormModel.prototype=Object.create(Runtime.Widget.Form.FormModel.prototype),Bayrell.CloudOS.Frontend.Templates.TemplateFormModel.prototype.constructor=Bayrell.CloudOS.Frontend.Templates.TemplateFormModel,Object.assign(Bayrell.CloudOS.Frontend.Templates.TemplateFormModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.template",primary_keys:Runtime.Vector.from(["id"])}))},initFields:function(){this.addField(Runtime.Map.from({label:"Name",name:"name",component:"Runtime.Widget.Input"})),this.addField(Runtime.Map.from({label:"UID",name:"uid",component:"Runtime.Widget.Input"}))},getPageTitle:function(e){return"edit"==(e=null==e?"":e)?"Edit "+Runtime.rtl.toStr(this.storage.item.get("name")):"delete"==e?"Delete "+Runtime.rtl.toStr(this.storage.item.get("name")):""}}),Object.assign(Bayrell.CloudOS.Frontend.Templates.TemplateFormModel,Runtime.Widget.Form.FormModel),Object.assign(Bayrell.CloudOS.Frontend.Templates.TemplateFormModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Templates"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Templates.TemplateFormModel"},getParentClassName:function(){return"Runtime.Widget.Form.FormModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Templates.TemplateFormModel),window["Bayrell.CloudOS.Frontend.Templates.TemplateFormModel"]=Bayrell.CloudOS.Frontend.Templates.TemplateFormModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Templates.TemplateFormModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Templates&&(Bayrell.CloudOS.Frontend.Templates={}),Bayrell.CloudOS.Frontend.Templates.TemplatePageModel=function(e){var t;null==e&&(e=null),Runtime.Widget.Crud.CrudPageModel.call(this,e),"app:templates:index"==this.layout.route.name?(this.setAction("index"),new Bayrell.CloudOS.Frontend.Templates.TemplateTableModel(Runtime.Map.from({parent_widget:this})).storage.setPage(this.layout.request_query.get("page",1))):"app:templates:edit"==this.layout.route.name&&(this.setAction("edit"),new Bayrell.CloudOS.Frontend.Templates.TemplateFormModel(Runtime.Map.from({action:"edit",parent_widget:this})),(e=new Bayrell.CloudOS.Frontend.Templates.VersionTableModel(Runtime.Map.from({parent_widget:this,widget_name:"version_table"}))).storage.setPage(1),this.getWidget("render_list").addRender(e),t=this.layout.route.matches.get("id"),e.storage.setForeignKey("template_id",t),e.getWidget("form").storage.setForeignKey("template_id",t))},Bayrell.CloudOS.Frontend.Templates.TemplatePageModel.prototype=Object.create(Runtime.Widget.Crud.CrudPageModel.prototype),Bayrell.CloudOS.Frontend.Templates.TemplatePageModel.prototype.constructor=Bayrell.CloudOS.Frontend.Templates.TemplatePageModel,Object.assign(Bayrell.CloudOS.Frontend.Templates.TemplatePageModel.prototype,{onRouteAfter:async function(){var e;"index"==this.action?this.layout.setPageTitle("List of templates"):"edit"==this.action&&(e=this.getWidget("form"),this.layout.setPageTitle(e.getPageTitle("edit")))}}),Object.assign(Bayrell.CloudOS.Frontend.Templates.TemplatePageModel,Runtime.Widget.Crud.CrudPageModel),Object.assign(Bayrell.CloudOS.Frontend.Templates.TemplatePageModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Templates"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Templates.TemplatePageModel"},getParentClassName:function(){return"Runtime.Widget.Crud.CrudPageModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Templates.TemplatePageModel),window["Bayrell.CloudOS.Frontend.Templates.TemplatePageModel"]=Bayrell.CloudOS.Frontend.Templates.TemplatePageModel;"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Templates.TemplatePageModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Templates&&(Bayrell.CloudOS.Frontend.Templates={}),Bayrell.CloudOS.Frontend.Templates.TemplateTableModel=function(){Runtime.Widget.Table.TableDialogModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.Templates.TemplateTableModel.prototype=Object.create(Runtime.Widget.Table.TableDialogModel.prototype),Bayrell.CloudOS.Frontend.Templates.TemplateTableModel.prototype.constructor=Bayrell.CloudOS.Frontend.Templates.TemplateTableModel,Object.assign(Bayrell.CloudOS.Frontend.Templates.TemplateTableModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.template",primary_keys:Runtime.Vector.from(["id"])}))},initStyles:function(){this.styles.add("border")},initWidgets:function(){new Bayrell.CloudOS.Frontend.Templates.TemplateFormModel(Runtime.Map.from({parent_widget:this}));Runtime.Widget.Table.TableDialogModel.prototype.initWidgets.call(this)},initTopButtons:function(){this.top_buttons.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Add",href:this.layout.url("app:templates:import"),styles:Runtime.Vector.from(["success"])})))},addEditFieldRowButtons:function(e){e.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Edit",href:e=>{e=e.get("row_number"),e=this.getItemByRowNumber(e);return this.layout.url("app:templates:edit",Runtime.Map.from({id:e.get("id")}))},styles:Runtime.Vector.from(["default","small"])})))},initFields:function(){this.addField(Runtime.Map.from({name:"row_number"})),this.addField(Runtime.Map.from({label:"Name",name:"name",component:"Runtime.Widget.Label"})),this.addField(Runtime.Map.from({label:"UID",name:"uid",component:"Runtime.Widget.Label"})),this.addFieldRowButtons()}}),Object.assign(Bayrell.CloudOS.Frontend.Templates.TemplateTableModel,Runtime.Widget.Table.TableDialogModel),Object.assign(Bayrell.CloudOS.Frontend.Templates.TemplateTableModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Templates"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Templates.TemplateTableModel"},getParentClassName:function(){return"Runtime.Widget.Table.TableDialogModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Templates.TemplateTableModel),window["Bayrell.CloudOS.Frontend.Templates.TemplateTableModel"]=Bayrell.CloudOS.Frontend.Templates.TemplateTableModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Templates.TemplateTableModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Templates&&(Bayrell.CloudOS.Frontend.Templates={}),Bayrell.CloudOS.Frontend.Templates.VersionFormModel=function(){Runtime.Widget.Form.FormModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.Templates.VersionFormModel.prototype=Object.create(Runtime.Widget.Form.FormModel.prototype),Bayrell.CloudOS.Frontend.Templates.VersionFormModel.prototype.constructor=Bayrell.CloudOS.Frontend.Templates.VersionFormModel,Object.assign(Bayrell.CloudOS.Frontend.Templates.VersionFormModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.template.version",primary_keys:Runtime.Vector.from(["id"])}))},initFields:function(){this.addField(Runtime.Map.from({label:"Content",name:"content",component:"Runtime.Widget.CodeMirror.CodeMirror",props:Runtime.Map.from({height:"450px"})})),this.layout.addComponent("Runtime.Widget.CodeMirror.CodeMirror")},getPageTitle:function(e){return"edit"==(e=null==e?"":e)?"Edit "+Runtime.rtl.toStr(this.storage.item.get("name")):"delete"==e?"Delete "+Runtime.rtl.toStr(this.storage.item.get("name")):""}}),Object.assign(Bayrell.CloudOS.Frontend.Templates.VersionFormModel,Runtime.Widget.Form.FormModel),Object.assign(Bayrell.CloudOS.Frontend.Templates.VersionFormModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Templates"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Templates.VersionFormModel"},getParentClassName:function(){return"Runtime.Widget.Form.FormModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Templates.VersionFormModel),window["Bayrell.CloudOS.Frontend.Templates.VersionFormModel"]=Bayrell.CloudOS.Frontend.Templates.VersionFormModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Templates.VersionFormModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Templates&&(Bayrell.CloudOS.Frontend.Templates={}),Bayrell.CloudOS.Frontend.Templates.VersionTableModel=function(){Runtime.Widget.Table.TableDialogModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.Templates.VersionTableModel.prototype=Object.create(Runtime.Widget.Table.TableDialogModel.prototype),Bayrell.CloudOS.Frontend.Templates.VersionTableModel.prototype.constructor=Bayrell.CloudOS.Frontend.Templates.VersionTableModel,Object.assign(Bayrell.CloudOS.Frontend.Templates.VersionTableModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.template.version",primary_keys:Runtime.Vector.from(["id"])}))},initStyles:function(){this.styles.add("border")},initWidgets:function(){new Bayrell.CloudOS.Frontend.Templates.VersionFormModel(Runtime.Map.from({parent_widget:this}));Runtime.Widget.Table.TableDialogModel.prototype.initWidgets.call(this),this.getWidget("save_dialog").dialog.setWidth("750px"),this.pagination.set("is_href",!1)},initTopButtons:function(){},initFields:function(){this.addField(Runtime.Map.from({name:"row_number"})),this.addField(Runtime.Map.from({label:"Version",name:"version",component:"Runtime.Widget.Label"})),this.addFieldRowButtons()}}),Object.assign(Bayrell.CloudOS.Frontend.Templates.VersionTableModel,Runtime.Widget.Table.TableDialogModel),Object.assign(Bayrell.CloudOS.Frontend.Templates.VersionTableModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Templates"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Templates.VersionTableModel"},getParentClassName:function(){return"Runtime.Widget.Table.TableDialogModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Templates.VersionTableModel),window["Bayrell.CloudOS.Frontend.Templates.VersionTableModel"]=Bayrell.CloudOS.Frontend.Templates.VersionTableModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Templates.VersionTableModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Workspace&&(Bayrell.CloudOS.Frontend.Workspace={}),Bayrell.CloudOS.Frontend.Workspace.DomainFormModel=function(e){null==e&&(e=null),Runtime.Widget.Form.FormModel.call(this,e)},Bayrell.CloudOS.Frontend.Workspace.DomainFormModel.prototype=Object.create(Runtime.Widget.Form.FormModel.prototype),Bayrell.CloudOS.Frontend.Workspace.DomainFormModel.prototype.constructor=Bayrell.CloudOS.Frontend.Workspace.DomainFormModel,Object.assign(Bayrell.CloudOS.Frontend.Workspace.DomainFormModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.workspace.domain",primary_keys:Runtime.Vector.from(["id"])}))},initFields:function(){var e=new Runtime.Widget.Crud.Dictionary(Runtime.Map.from({storage:new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.domain"})),widget_name:"domain_id",parent_widget:this,transform:e=>Runtime.Map.from({label:e.get("domain_name"),value:e.get("id")})}));this.addField(Runtime.Map.from({label:"Domain name",name:"domain_id",component:"Runtime.Widget.Select",model:e}))},getPageTitle:function(e){return"add"==(e=null==e?"":e)?"Add domain":"edit"==e?"Edit domain "+Runtime.rtl.toStr(this.storage.item.get("domain_name")):"delete"==e?"Delete domain "+Runtime.rtl.toStr(this.storage.item.get("domain_name")):""}}),Object.assign(Bayrell.CloudOS.Frontend.Workspace.DomainFormModel,Runtime.Widget.Form.FormModel),Object.assign(Bayrell.CloudOS.Frontend.Workspace.DomainFormModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Workspace"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Workspace.DomainFormModel"},getParentClassName:function(){return"Runtime.Widget.Form.FormModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Workspace.DomainFormModel),window["Bayrell.CloudOS.Frontend.Workspace.DomainFormModel"]=Bayrell.CloudOS.Frontend.Workspace.DomainFormModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Workspace.DomainFormModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Workspace&&(Bayrell.CloudOS.Frontend.Workspace={}),Bayrell.CloudOS.Frontend.Workspace.DomainTableModel=function(){Runtime.Widget.Table.TableDialogModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.Workspace.DomainTableModel.prototype=Object.create(Runtime.Widget.Table.TableDialogModel.prototype),Bayrell.CloudOS.Frontend.Workspace.DomainTableModel.prototype.constructor=Bayrell.CloudOS.Frontend.Workspace.DomainTableModel,Object.assign(Bayrell.CloudOS.Frontend.Workspace.DomainTableModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.workspace.domain",primary_keys:Runtime.Vector.from(["id"])}))},initStyles:function(){this.styles.add("border")},initWidgets:function(){new Bayrell.CloudOS.Frontend.Workspace.DomainFormModel(Runtime.Map.from({parent_widget:this}));Runtime.Widget.Table.TableDialogModel.prototype.initWidgets.call(this)},addEditFieldRowButtons:function(e){return null},initFields:function(){this.addField(Runtime.Map.from({name:"row_number"})),this.addField(Runtime.Map.from({label:"Domain name",name:"domain_name",component:"Runtime.Widget.Label"})),this.addFieldRowButtons()}}),Object.assign(Bayrell.CloudOS.Frontend.Workspace.DomainTableModel,Runtime.Widget.Table.TableDialogModel),Object.assign(Bayrell.CloudOS.Frontend.Workspace.DomainTableModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Workspace"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Workspace.DomainTableModel"},getParentClassName:function(){return"Runtime.Widget.Table.TableDialogModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Workspace.DomainTableModel),window["Bayrell.CloudOS.Frontend.Workspace.DomainTableModel"]=Bayrell.CloudOS.Frontend.Workspace.DomainTableModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Workspace.DomainTableModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Workspace&&(Bayrell.CloudOS.Frontend.Workspace={}),Bayrell.CloudOS.Frontend.Workspace.WorkspaceFormModel=function(){Runtime.Widget.Form.FormModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.Workspace.WorkspaceFormModel.prototype=Object.create(Runtime.Widget.Form.FormModel.prototype),Bayrell.CloudOS.Frontend.Workspace.WorkspaceFormModel.prototype.constructor=Bayrell.CloudOS.Frontend.Workspace.WorkspaceFormModel,Object.assign(Bayrell.CloudOS.Frontend.Workspace.WorkspaceFormModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.workspace",primary_keys:Runtime.Vector.from(["id"])}))},initWidgets:function(){Runtime.Widget.Form.FormModel.prototype.initWidgets.call(this)},initButtons:function(){"edit"==this.action&&(this.top_buttons.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Back",styles:Runtime.Vector.from(["default"]),href:this.layout.url("app:workspace:index")}))),this.bottom_buttons.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Save",styles:Runtime.Vector.from(["primary","large"])}))).events.add("onClick",new Runtime.Callback(this,"save")))},initFields:function(){this.addField(Runtime.Map.from({label:"Name",name:"name",component:"Runtime.Widget.Input"})),this.addField(Runtime.Map.from({label:"UID",name:"uid",component:"Runtime.Widget.Input"}))},getPageTitle:function(e){return"add"==(e=null==e?"":e)?"Add workspace":"edit"==e?"Edit "+Runtime.rtl.toStr(this.storage.item.get("name")):"delete"==e?"Delete "+Runtime.rtl.toStr(this.storage.item.get("name")):""}}),Object.assign(Bayrell.CloudOS.Frontend.Workspace.WorkspaceFormModel,Runtime.Widget.Form.FormModel),Object.assign(Bayrell.CloudOS.Frontend.Workspace.WorkspaceFormModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Workspace"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Workspace.WorkspaceFormModel"},getParentClassName:function(){return"Runtime.Widget.Form.FormModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Workspace.WorkspaceFormModel),window["Bayrell.CloudOS.Frontend.Workspace.WorkspaceFormModel"]=Bayrell.CloudOS.Frontend.Workspace.WorkspaceFormModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Workspace.WorkspaceFormModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Workspace&&(Bayrell.CloudOS.Frontend.Workspace={}),Bayrell.CloudOS.Frontend.Workspace.WorkspacePageModel=function(e){var t;null==e&&(e=null),Runtime.Widget.Crud.CrudPageModel.call(this,e),"app:workspace:index"==this.layout.route.name?(this.setAction("index"),new Bayrell.CloudOS.Frontend.Workspace.WorkspaceTableModel(Runtime.Map.from({parent_widget:this})).storage.setPage(this.layout.request_query.get("page",1))):"app:workspace:edit"==this.layout.route.name&&(this.setAction("edit"),new Bayrell.CloudOS.Frontend.Workspace.WorkspaceFormModel(Runtime.Map.from({action:"edit",parent_widget:this})).storage.setPrimaryKey(Runtime.Map.from({id:this.layout.route.matches.get("id")})),(e=new Bayrell.CloudOS.Frontend.Workspace.DomainTableModel(Runtime.Map.from({parent_widget:this,widget_name:"domain_table"}))).storage.setPage(1),this.getWidget("render_list").addRender(e),t=this.layout.route.matches.get("id"),e.storage.setForeignKey("space_id",t),e.getWidget("form").storage.setForeignKey("space_id",t))},Bayrell.CloudOS.Frontend.Workspace.WorkspacePageModel.prototype=Object.create(Runtime.Widget.Crud.CrudPageModel.prototype),Bayrell.CloudOS.Frontend.Workspace.WorkspacePageModel.prototype.constructor=Bayrell.CloudOS.Frontend.Workspace.WorkspacePageModel,Object.assign(Bayrell.CloudOS.Frontend.Workspace.WorkspacePageModel.prototype,{onRouteAfter:async function(){var e;"index"==this.action?this.layout.setPageTitle("List of workspaces"):"edit"==this.action&&(e=this.getWidget("form"),this.layout.setPageTitle(e.getPageTitle("edit")))}}),Object.assign(Bayrell.CloudOS.Frontend.Workspace.WorkspacePageModel,Runtime.Widget.Crud.CrudPageModel),Object.assign(Bayrell.CloudOS.Frontend.Workspace.WorkspacePageModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Workspace"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Workspace.WorkspacePageModel"},getParentClassName:function(){return"Runtime.Widget.Crud.CrudPageModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Workspace.WorkspacePageModel),window["Bayrell.CloudOS.Frontend.Workspace.WorkspacePageModel"]=Bayrell.CloudOS.Frontend.Workspace.WorkspacePageModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Workspace.WorkspacePageModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.Workspace&&(Bayrell.CloudOS.Frontend.Workspace={}),Bayrell.CloudOS.Frontend.Workspace.WorkspaceTableModel=function(){Runtime.Widget.Table.TableDialogModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.Workspace.WorkspaceTableModel.prototype=Object.create(Runtime.Widget.Table.TableDialogModel.prototype),Bayrell.CloudOS.Frontend.Workspace.WorkspaceTableModel.prototype.constructor=Bayrell.CloudOS.Frontend.Workspace.WorkspaceTableModel,Object.assign(Bayrell.CloudOS.Frontend.Workspace.WorkspaceTableModel.prototype,{createDataStorage:function(){return new Runtime.Widget.Crud.CrudApiStorage(Runtime.Map.from({layout:this.layout,class_name:"app.workspace",primary_keys:Runtime.Vector.from(["id"])}))},initStyles:function(){this.styles.add("border")},initWidgets:function(){new Bayrell.CloudOS.Frontend.Workspace.WorkspaceFormModel(Runtime.Map.from({parent_widget:this}));Runtime.Widget.Table.TableDialogModel.prototype.initWidgets.call(this)},initFields:function(){this.addField(Runtime.Map.from({name:"row_number"})),this.addField(Runtime.Map.from({label:"Name",name:"name"})),this.addField(Runtime.Map.from({label:"UID",name:"uid"})),this.addFieldRowButtons()},addEditFieldRowButtons:function(e){return e.add(new Runtime.Widget.ButtonModel(Runtime.Map.from({content:"Edit",styles:Runtime.Vector.from(["default","small"]),href:e=>{e=e.get("row_number"),e=this.getItemByRowNumber(e);return this.layout.url("app:workspace:edit",Runtime.Map.from({id:e.get("id")}))}})))}}),Object.assign(Bayrell.CloudOS.Frontend.Workspace.WorkspaceTableModel,Runtime.Widget.Table.TableDialogModel),Object.assign(Bayrell.CloudOS.Frontend.Workspace.WorkspaceTableModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.Workspace"},getClassName:function(){return"Bayrell.CloudOS.Frontend.Workspace.WorkspaceTableModel"},getParentClassName:function(){return"Runtime.Widget.Table.TableDialogModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.Workspace.WorkspaceTableModel),window["Bayrell.CloudOS.Frontend.Workspace.WorkspaceTableModel"]=Bayrell.CloudOS.Frontend.Workspace.WorkspaceTableModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.Workspace.WorkspaceTableModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.XML&&(Bayrell.CloudOS.Frontend.XML={}),Bayrell.CloudOS.Frontend.XML.ImportPage={name:"Bayrell.CloudOS.Frontend.XML.ImportPage",extends:Runtime.Web.Component,methods:{render:function(){var e=[],t=this._e(e,"div",{class:this._class_name(["import_xml_page"]),key:"import_xml_page"}),n=(this._c(t,"Runtime.Widget.CodeMirror.CodeMirror",{value:this.model.content,onValueChanged:this.onValueChanged,height:"500px"}),this._e(t,"div",{class:this._class_name(["web_form__buttons"]),key:"web_form__buttons"}));this._c(n,"Runtime.Widget.Button",{styles:Runtime.Vector.from(["success","large"]),onClick:this.onImportClick},()=>{var e=[];return this._t(e,"Import"),this._flatten(e)}),this._c(t,"Runtime.Widget.WidgetResult",{model:this._model(this.model.result)});return this._flatten(e)},onImportClick:async function(){await this.model.doImport()},onValueChanged:function(e){this.model.content=e}}},Object.assign(Bayrell.CloudOS.Frontend.XML.ImportPage,{css:function(e){return".web_form__buttons.h-46cd{"+Runtime.rtl.toStr("padding-top: 10px;text-align: center;")+Runtime.rtl.toStr("}")},components:function(){return Runtime.Vector.from(["Runtime.Widget.Button","Runtime.Widget.TextArea","Runtime.Widget.CodeMirror.CodeMirror","Runtime.Widget.WidgetResult"])},getNamespace:function(){return"Bayrell.CloudOS.Frontend.XML"},getClassName:function(){return"Bayrell.CloudOS.Frontend.XML.ImportPage"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.XML.ImportPage),window["Bayrell.CloudOS.Frontend.XML.ImportPage"]=Bayrell.CloudOS.Frontend.XML.ImportPage,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.XML.ImportPage),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),void 0===Bayrell.CloudOS.Frontend.XML&&(Bayrell.CloudOS.Frontend.XML={}),Bayrell.CloudOS.Frontend.XML.ImportPageModel=function(){Runtime.Web.PageModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.XML.ImportPageModel.prototype=Object.create(Runtime.Web.PageModel.prototype),Bayrell.CloudOS.Frontend.XML.ImportPageModel.prototype.constructor=Bayrell.CloudOS.Frontend.XML.ImportPageModel,Object.assign(Bayrell.CloudOS.Frontend.XML.ImportPageModel.prototype,{doImport:async function(){this.result.setWaitMessage();var e=await this.layout.callApi(Runtime.Map.from({api_name:"app.template",method:"actionImport",data:Runtime.Map.from({content:this.content})}));return this.result.setApiResult(e),Promise.resolve(e)},_init:function(){Runtime.Web.PageModel.prototype._init.call(this),this.content="",this.result=new Runtime.Widget.WidgetResultModel}}),Object.assign(Bayrell.CloudOS.Frontend.XML.ImportPageModel,Runtime.Web.PageModel),Object.assign(Bayrell.CloudOS.Frontend.XML.ImportPageModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend.XML"},getClassName:function(){return"Bayrell.CloudOS.Frontend.XML.ImportPageModel"},getParentClassName:function(){return"Runtime.Web.PageModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.XML.ImportPageModel),window["Bayrell.CloudOS.Frontend.XML.ImportPageModel"]=Bayrell.CloudOS.Frontend.XML.ImportPageModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.XML.ImportPageModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),Bayrell.CloudOS.Frontend.DefaultLayout={name:"Bayrell.CloudOS.Frontend.DefaultLayout",extends:Runtime.Web.Component,data:function(){return{route_name_old:""}},methods:{renderMenuItem:function(e){var t=[],n=this._e(t,"div",{class:this._class_name(["app_layout_menu_item"]),key:"app_layout_menu_item"});if(e.has("items")){var i=this._e(n,"div",{class:this._class_name(["app_layout_menu_item_label"]),key:"app_layout_menu_item_label"}),o=(this._t(i,Runtime.rtl.attr(e,"title")),Runtime.rtl.attr(e,"items"));for(let e=0;e<o.count();e++){var r=Runtime.rtl.attr(o,e),s=this._e(n,"div",{class:this._class_name(["app_layout_menu_item"]),key:"app_layout_menu_item"}),a=this.isMenuActive(r),s=this._e(s,"a",{href:this.layout.url(Runtime.rtl.attr(r,"link")),class:this._class_name(["nolink",a?"active":""]),key:"nolink"});this._t(s,Runtime.rtl.attr(r,"title"))}}else{var i=this.isMenuActive(e),l=this._e(n,"div",{class:this._class_name(["app_layout_menu_item"]),key:"app_layout_menu_item"}),l=this._e(l,"a",{href:this.layout.url(Runtime.rtl.attr(e,"link")),class:this._class_name(["nolink",i?"active":""]),key:"nolink"});this._t(l,Runtime.rtl.attr(e,"title"))}return this._flatten(t)},render:function(){var e=[],t=this._e(e,"div",{class:this._class_name(["app_layout"]),key:"app_layout"}),t=this._e(t,"div",{class:this._class_name(["app_layout_wrap"]),key:"app_layout_wrap"}),n=this._e(t,"div",{class:this._class_name(["app_layout_menu_wrap"]),key:"app_layout_menu_wrap"}),i=this._e(n,"div",{class:this._class_name(["app_layout_site_name"]),key:"app_layout_site_name"}),i=this._e(i,"a",{href:"/",class:this._class_name(["nolink"]),key:"nolink"}),o=(this._t(i,this.layout.hostname),this._e(n,"div",{class:this._class_name(["app_layout_menu"]),key:"app_layout_menu"})),r=this.getMenu();for(let e=0;e<r.count();e++)this._t(o,this.renderMenuItem(Runtime.rtl.attr(r,e)));i=this._e(t,"div",{class:this._class_name(["app_layout_content_wrap"]),key:"app_layout_content_wrap"}),n=this._e(i,"div",{class:this._class_name(["app_layout_title"]),key:"app_layout_title"}),this._t(n,this.layout.title),t=this._e(i,"div",{class:this._class_name(["app_layout_content"]),key:"app_layout_content"}),n=this.layout.current_page,i=this.layout.current_page_model;this._c(t,n,{model:this._model(Runtime.Vector.from(["widgets",i]))});return this._flatten(e)},isChanged:function(e,t,n){return Runtime.Web.Component.prototype.isChanged.bind(this)(e,t,n)},updateParams:function(e,t,n){Runtime.Web.Component.prototype.updateParams.bind(this)(e,t,n),this.route_name_old=this.provider.layout.route.name},isMenuActive:function(e){return!!(null!=this.layout.route&&(e.has("link")&&this.layout.route.name==Runtime.rtl.attr(e,"link")||e.has("links")&&-1<Runtime.rtl.attr(e,"links").indexOf(this.layout.route.name)))},getMenu:function(){return Runtime.Vector.from([Runtime.Map.from({title:"Main",link:"app:page:index"}),Runtime.Map.from({title:"Applications",items:Runtime.Vector.from([Runtime.Map.from({title:"Applications",link:"app:applications:index",links:Runtime.Vector.from(["app:applications:index","app:applications:add","app:applications:edit","app:applications:delete"])}),Runtime.Map.from({title:"Import XML",link:"app:templates:import"}),Runtime.Map.from({title:"Templates",link:"app:templates:index",links:Runtime.Vector.from(["app:templates:index","app:templates:add","app:templates:edit","app:templates:delete"])}),Runtime.Map.from({title:"Modificators",link:"app:modificators:index",links:Runtime.Vector.from(["app:modificators:index","app:modificators:add","app:modificators:edit","app:modificators:delete"])})])}),Runtime.Map.from({title:"Docker Swarm",items:Runtime.Vector.from([Runtime.Map.from({title:"Services",link:"app:docker:services:index"}),Runtime.Map.from({title:"Yaml files",link:"app:docker:yaml:index",links:Runtime.Vector.from(["app:docker:yaml:index","app:docker:yaml:add","app:docker:yaml:edit","app:docker:yaml:delete"])}),Runtime.Map.from({title:"Stacks",link:"app:docker:stack:index",links:Runtime.Vector.from(["app:docker:stack:index","app:docker:stack:add","app:docker:stack:edit","app:docker:stack:delete"])})])}),Runtime.Map.from({title:"Load balancing",items:Runtime.Vector.from([Runtime.Map.from({title:"Workspace",link:"app:workspace:index",links:Runtime.Vector.from(["app:workspace:index","app:workspace:add","app:workspace:edit","app:workspace:delete"])}),Runtime.Map.from({title:"Domains",link:"app:domains:index",links:Runtime.Vector.from(["app:domains:index","app:domains:add","app:domains:edit","app:domains:delete"])}),Runtime.Map.from({title:"SSL Group",link:"app:ssl:index",links:Runtime.Vector.from(["app:ssl:index","app:ssl:add","app:ssl:edit","app:ssl:delete"])}),Runtime.Map.from({title:"Routes",link:"app:routes:index",links:Runtime.Vector.from(["app:routes:index","app:routes:add","app:routes:edit","app:routes:delete"])}),Runtime.Map.from({title:"Nginx files",link:"app:nginx_files:index",links:Runtime.Vector.from(["app:nginx_files:index","app:nginx_files:add","app:nginx_files:edit","app:nginx_files:delete"])})])}),Runtime.Map.from({title:"Other",items:Runtime.Vector.from([Runtime.Map.from({title:"Settings",link:"app:settings:index"}),Runtime.Map.from({title:"About",link:"app:page:about"})])})])}}},Object.assign(Bayrell.CloudOS.Frontend.DefaultLayout,{css:function(e){return".app_layout.h-773a{"+Runtime.rtl.toStr("height: 100%;")+Runtime.rtl.toStr("}.app_layout_wrap.h-773a{")+Runtime.rtl.toStr("position: relative;display: flex;align-items: stretch;min-height: 100%;")+Runtime.rtl.toStr("}.app_layout_menu_wrap.h-773a{")+Runtime.rtl.toStr("position: relative;width: 200px;")+Runtime.rtl.toStr("}.app_layout_content_wrap.h-773a{")+Runtime.rtl.toStr("position: relative;width: calc(100% - 200px);padding-bottom: 10px;")+Runtime.rtl.toStr("}.app_layout_site_name.h-773a, .app_layout_title.h-773a, .app_layout_top_menu.h-773a{")+Runtime.rtl.toStr("font-size: 16px;height: 40px;")+Runtime.rtl.toStr("}.app_layout_site_name.h-773a, .app_layout_title.h-773a, .app_layout_top_menu.h-773a,.app_layout_page.h-773a, .app_layout_content.h-773a{")+Runtime.rtl.toStr("padding: 10px;")+Runtime.rtl.toStr("}.app_layout_top_menu_item.h-773a{")+Runtime.rtl.toStr("padding-left: 10px;padding-right: 10px;")+Runtime.rtl.toStr("}.app_layout_site_name.h-773a{")+Runtime.rtl.toStr("border-right: 1px var(--widget-color-border) solid;")+Runtime.rtl.toStr("}.app_layout_top_menu.h-773a{")+Runtime.rtl.toStr("display: flex;align-items: stretch;")+Runtime.rtl.toStr("}.app_layout_content.h-773a{")+Runtime.rtl.toStr("position: relative;height: calc(100% - 70px);padding-bottom: 0;/*padding-right: 0;*/")+Runtime.rtl.toStr("}.app_layout_menu.h-773a{")+Runtime.rtl.toStr("position: relative;height: calc(100% - 40px);overflow-y: auto;border-right: 1px var(--widget-color-border) solid;")+Runtime.rtl.toStr("}.app_layout_menu_item_label.h-773a{")+Runtime.rtl.toStr("font-size: 1rem;    font-weight: bold;    padding: 0.5rem;")+Runtime.rtl.toStr("}.app_layout_menu_item.h-773a a{")+Runtime.rtl.toStr("display: block;padding: 10px;border-bottom: 1px solid var(--widget-color-border);")+Runtime.rtl.toStr("}.app_layout_menu_item.h-773a a:hover{")+Runtime.rtl.toStr("background-color: var(--widget-color-hover);")+Runtime.rtl.toStr("}.app_layout_menu_item.h-773a a.active.h-773a, .app_layout_menu_item.h-773a a.active.h-773a:hover{")+Runtime.rtl.toStr("background-color: var(--widget-color-selected);border-color: var(--widget-color-selected);color: var(--widget-color-selected-text);")+Runtime.rtl.toStr("}")},getNamespace:function(){return"Bayrell.CloudOS.Frontend"},getClassName:function(){return"Bayrell.CloudOS.Frontend.DefaultLayout"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.DefaultLayout),window["Bayrell.CloudOS.Frontend.DefaultLayout"]=Bayrell.CloudOS.Frontend.DefaultLayout,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.DefaultLayout),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),Bayrell.CloudOS.Frontend.LayoutModel=function(){Runtime.Web.LayoutModel.apply(this,arguments)},Bayrell.CloudOS.Frontend.LayoutModel.prototype=Object.create(Runtime.Web.LayoutModel.prototype),Bayrell.CloudOS.Frontend.LayoutModel.prototype.constructor=Bayrell.CloudOS.Frontend.LayoutModel,Object.assign(Bayrell.CloudOS.Frontend.LayoutModel.prototype,{init:function(){},processFrontendData:function(e,t){e.process(this,"hostname",t),Runtime.Web.LayoutModel.prototype.processFrontendData.call(this,e,t)},_init:function(){Runtime.Web.LayoutModel.prototype._init.call(this),this.hostname=""}}),Object.assign(Bayrell.CloudOS.Frontend.LayoutModel,Runtime.Web.LayoutModel),Object.assign(Bayrell.CloudOS.Frontend.LayoutModel,{getNamespace:function(){return"Bayrell.CloudOS.Frontend"},getClassName:function(){return"Bayrell.CloudOS.Frontend.LayoutModel"},getParentClassName:function(){return"Runtime.Web.LayoutModel"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.LayoutModel),window["Bayrell.CloudOS.Frontend.LayoutModel"]=Bayrell.CloudOS.Frontend.LayoutModel,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.LayoutModel),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),Bayrell.CloudOS.Frontend.NotFoundPage={name:"Bayrell.CloudOS.Frontend.NotFoundPage",extends:Runtime.Web.Component,methods:{render:function(){var e=[],t=this._e(e,"div",{class:this._class_name(["text_not_found"]),key:"text_not_found"});return this._t(t,"  "),this._flatten(e)}}},Object.assign(Bayrell.CloudOS.Frontend.NotFoundPage,{css:function(e){return".text_not_found.h-608a{"+Runtime.rtl.toStr("font-size: 150%;font-weight: bold;text-align: center;padding-top: 20px;padding-bottom: 20px;")+Runtime.rtl.toStr("}")},getNamespace:function(){return"Bayrell.CloudOS.Frontend"},getClassName:function(){return"Bayrell.CloudOS.Frontend.NotFoundPage"},getParentClassName:function(){return"Runtime.Web.Component"}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.NotFoundPage),window["Bayrell.CloudOS.Frontend.NotFoundPage"]=Bayrell.CloudOS.Frontend.NotFoundPage,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.NotFoundPage),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),Bayrell.CloudOS.Frontend.WebApp=function(){Runtime.Web.BaseApp.apply(this,arguments)},Bayrell.CloudOS.Frontend.WebApp.prototype=Object.create(Runtime.Web.BaseApp.prototype),Bayrell.CloudOS.Frontend.WebApp.prototype.constructor=Bayrell.CloudOS.Frontend.WebApp,Object.assign(Bayrell.CloudOS.Frontend.WebApp.prototype,{createLayout:function(){return new Bayrell.CloudOS.Frontend.LayoutModel},init:async function(){await Runtime.Web.BaseApp.prototype.init.bind(this)()},start:async function(){await Runtime.Web.BaseApp.prototype.start.bind(this)()},main:async function(){return Promise.resolve(await Runtime.Web.BaseApp.prototype.main.bind(this)())}}),Object.assign(Bayrell.CloudOS.Frontend.WebApp,Runtime.Web.BaseApp),Object.assign(Bayrell.CloudOS.Frontend.WebApp,{getNamespace:function(){return"Bayrell.CloudOS.Frontend"},getClassName:function(){return"Bayrell.CloudOS.Frontend.WebApp"},getParentClassName:function(){return"Runtime.Web.BaseApp"},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.WebApp),window["Bayrell.CloudOS.Frontend.WebApp"]=Bayrell.CloudOS.Frontend.WebApp,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.WebApp),void 0===(Bayrell="undefined"==typeof Bayrell?{}:Bayrell).CloudOS&&(Bayrell.CloudOS={}),void 0===Bayrell.CloudOS.Frontend&&(Bayrell.CloudOS.Frontend={}),Bayrell.CloudOS.Frontend.ModuleDescription=function(){},Object.assign(Bayrell.CloudOS.Frontend.ModuleDescription.prototype,{}),Object.assign(Bayrell.CloudOS.Frontend.ModuleDescription,{getModuleName:function(){return"Bayrell.CloudOS.Frontend"},getModuleVersion:function(){return"0.5.0"},requiredModules:function(){return Runtime.Map.from({Runtime:">=0.12","Runtime.Web":">=0.12","Runtime.Widget":">=0.12","Runtime.Widget.Dialog":">=0.12","Runtime.Widget.Table":">=0.12"})},entities:function(){return Runtime.Vector.from([new Runtime.Entity.Hook("Bayrell.CloudOS.Frontend.Hooks.AppHook")])},getNamespace:function(){return"Bayrell.CloudOS.Frontend"},getClassName:function(){return"Bayrell.CloudOS.Frontend.ModuleDescription"},getParentClassName:function(){return""},getClassInfo:function(){var e=Runtime.Vector;return Runtime.Map.from({annotations:e.from([])})},getFieldsList:function(){return Runtime.Vector.from([])},getFieldInfoByName:function(e){Runtime.Vector,Runtime.Map;return null},getMethodsList:function(){return Runtime.Vector.from([])},getMethodInfoByName:function(e){return null}}),Runtime.rtl.defClass(Bayrell.CloudOS.Frontend.ModuleDescription),window["Bayrell.CloudOS.Frontend.ModuleDescription"]=Bayrell.CloudOS.Frontend.ModuleDescription,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=Bayrell.CloudOS.Frontend.ModuleDescription);
//# sourceMappingURL=app.min.js.map
